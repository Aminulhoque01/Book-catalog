(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[83194,67791,7701,81803,57330,12127,4506,3752],{240684:(e,t,o)=>{o.d(t,{TA:()=>T,ZP:()=>k});var n=o(667294),i=o(263366),s=o(487462),r=o(497326),a=o(875068),l=o(659864),c=o(108679),d=o.n(c);function u(e,t){if(!e){var o=new Error("loadable: "+t);throw o.framesToPop=1,o.name="Invariant Violation",o}}function h(e){console.warn("loadable: "+e)}var _=n.createContext(),p="__LOADABLE_REQUIRED_CHUNKS__";function g(e){return""+e+p}var m={initialChunks:{}},f="PENDING",x="REJECTED";var b=function(e){return e};function y(e){var t=e.defaultResolveComponent,o=void 0===t?b:t,c=e.render,h=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),g={};function b(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function y(e,n,i){var s=t.resolveComponent?t.resolveComponent(e,n):o(e);if(t.resolveComponent&&!(0,l.isValidElementType)(s))throw new Error("resolveComponent returned something that is not a React component!");return d()(i,s,{preload:!0}),s}var v,w=function(e){function o(o){var n;return(n=e.call(this,o)||this).state={result:null,error:null,loading:!0,cacheKey:b(o)},u(!o.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),o.__chunkExtractor?(!1===t.ssr||(p.requireAsync(o).catch((function(){return null})),n.loadSync(),o.__chunkExtractor.addChunk(p.chunkName(o))),(0,r.Z)(n)):(!1!==t.ssr&&(p.isReady&&p.isReady(o)||p.chunkName&&m.initialChunks[p.chunkName(o)])&&n.loadSync(),n)}(0,a.Z)(o,e),o.getDerivedStateFromProps=function(e,t){var o=b(e);return(0,s.Z)({},t,{cacheKey:o,loading:t.loading||t.cacheKey!==o})};var n=o.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===x&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return b(this.props)},n.getCache=function(){return g[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),g[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;h&&setTimeout((function(){h(e.state.result,e.props)}))},n.loadSync=function(){if(this.state.loading)try{var e=y(p.requireSync(this.props),this.props,S);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var o=y(t,e.props,{Loadable:S});e.safeSetState({result:o,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},n.resolveAsync=function(){var e=this,t=this.props,o=(t.__chunkExtractor,t.forwardedRef,(0,i.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=p.requireAsync(o)).status=f,this.setCache(n),n.then((function(){n.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e.props),chunkName:p.chunkName(e.props),error:t?t.message:t}),n.status=x}))),n},n.render=function(){var e=this.props,o=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,(0,i.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,l=a.error,d=a.loading,u=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===f)throw this.loadAsync();if(l)throw l;var h=n||t.fallback||null;return d?h:c({fallback:h,result:u,options:t,props:(0,s.Z)({},r,{ref:o})})},o}(n.Component),P=(v=w,function(e){return n.createElement(_.Consumer,null,(function(t){return n.createElement(v,Object.assign({__chunkExtractor:t},e))}))}),S=n.forwardRef((function(e,t){return n.createElement(P,Object.assign({forwardedRef:t},e))}));return S.preload=function(e){p.requireAsync(e)},S.load=function(e){return p.requireAsync(e)},S}return{loadable:p,lazy:function(e,t){return p(e,(0,s.Z)({},t,{suspense:!0}))}}}var v=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,o=e.props;return n.createElement(t,o)}}),w=v.loadable,P=v.lazy,S=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,o=e.props;return o.children?o.children(t):null}}),A=S.loadable,C=S.lazy,E="undefined"!=typeof window;function T(e,t){void 0===e&&(e=function(){});var o=(void 0===t?{}:t).namespace,n=void 0===o?"":o;if(!E)return h("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(E){var s=g(n),r=document.getElementById(s);if(r){i=JSON.parse(r.textContent);var a=document.getElementById(s+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!i)return h("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,o=t.push.bind(t);function n(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){o.apply(void 0,arguments),n()},n()})).then(e)}var j=w;j.lib=A,P.lib=C;const k=j},849474:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(619013),i=o(13882);function s(e,t){(0,i.Z)(2,arguments);var o=(0,n.Z)(e),s=(0,n.Z)(t),r=o.getTime()-s.getTime();return r<0?-1:r>0?1:r}},31397:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(619013),i=o(13882);var s=o(849474);function r(e,t){(0,i.Z)(2,arguments);var o=(0,n.Z)(e),r=(0,n.Z)(t),a=(0,s.Z)(o,r),l=Math.abs(function(e,t){(0,i.Z)(2,arguments);var o=(0,n.Z)(e),s=(0,n.Z)(t);return o.getFullYear()-s.getFullYear()}(o,r));o.setFullYear("1584"),r.setFullYear("1584");var c=a*(l-((0,s.Z)(o,r)===-a));return 0===c?0:c}},938547:e=>{e.exports="https://s.pinimg.com/webapp/birthday-4428bee8.png"},108679:(e,t,o)=>{var n=o(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return n.isMemo(e)?r:a[e.$$typeof]||i}a[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[n.Memo]=r;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,_=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,o,n){if("string"!=typeof o){if(p){var i=_(o);i&&i!==p&&e(t,i,n)}var r=d(o);u&&(r=r.concat(u(o)));for(var a=l(t),g=l(o),m=0;m<r.length;++m){var f=r[m];if(!(s[f]||n&&n[f]||g&&g[f]||a&&a[f])){var x=h(o,f);try{c(t,f,x)}catch(b){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,r=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,_=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.memo"):60115,g=o?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case a:case r:case _:return e;default:switch(e=e&&e.$$typeof){case c:case h:case l:return e;default:return t}}case g:case p:case i:return t}}}function f(e){return m(e)===u}t.typeOf=m,t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=p,t.Portal=i,t.Profiler=a,t.StrictMode=r,t.Suspense=_,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===u||e===a||e===r||e===_||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===p||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h)},t.isAsyncMode=function(e){return f(e)||m(e)===d},t.isConcurrentMode=f,t.isContextConsumer=function(e){return m(e)===c},t.isContextProvider=function(e){return m(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return m(e)===h},t.isFragment=function(e){return m(e)===s},t.isLazy=function(e){return m(e)===g},t.isMemo=function(e){return m(e)===p},t.isPortal=function(e){return m(e)===i},t.isProfiler=function(e){return m(e)===a},t.isStrictMode=function(e){return m(e)===r},t.isSuspense=function(e){return m(e)===_}},121296:(e,t,o)=>{e.exports=o(396103)},618552:(e,t,o)=>{var n=o(610852)(o(555639),"DataView");e.exports=n},853818:(e,t,o)=>{var n=o(610852)(o(555639),"Promise");e.exports=n},458525:(e,t,o)=>{var n=o(610852)(o(555639),"Set");e.exports=n},288668:(e,t,o)=>{var n=o(883369),i=o(90619),s=o(572385);function r(e){var t=-1,o=null==e?0:e.length;for(this.__data__=new n;++t<o;)this.add(e[t])}r.prototype.add=r.prototype.push=i,r.prototype.has=s,e.exports=r},70577:(e,t,o)=>{var n=o(610852)(o(555639),"WeakMap");e.exports=n},896874:e=>{e.exports=function(e,t,o){switch(o.length){case 0:return e.call(t);case 1:return e.call(t,o[0]);case 2:return e.call(t,o[0],o[1]);case 3:return e.call(t,o[0],o[1],o[2])}return e.apply(t,o)}},477412:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n&&!1!==t(e[o],o,e););return e}},234963:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length,i=0,s=[];++o<n;){var r=e[o];t(r,o,e)&&(s[i++]=r)}return s}},862488:e=>{e.exports=function(e,t){for(var o=-1,n=t.length,i=e.length;++o<n;)e[i+o]=t[o];return e}},282908:e=>{e.exports=function(e,t){for(var o=-1,n=null==e?0:e.length;++o<n;)if(t(e[o],o,e))return!0;return!1}},286556:(e,t,o)=>{var n=o(789465),i=o(977813);e.exports=function(e,t,o){(void 0!==o&&!i(e[t],o)||void 0===o&&!(t in e))&&n(e,t,o)}},234865:(e,t,o)=>{var n=o(789465),i=o(977813),s=Object.prototype.hasOwnProperty;e.exports=function(e,t,o){var r=e[t];s.call(e,t)&&i(r,o)&&(void 0!==o||t in e)||n(e,t,o)}},744037:(e,t,o)=>{var n=o(698363),i=o(3674);e.exports=function(e,t){return e&&n(t,i(t),e)}},163886:(e,t,o)=>{var n=o(698363),i=o(481704);e.exports=function(e,t){return e&&n(t,i(t),e)}},789465:(e,t,o)=>{var n=o(538777);e.exports=function(e,t,o){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[t]=o}},285990:(e,t,o)=>{var n=o(646384),i=o(477412),s=o(234865),r=o(744037),a=o(163886),l=o(364626),c=o(200278),d=o(318805),u=o(201911),h=o(458234),_=o(946904),p=o(664160),g=o(43824),m=o(529148),f=o(738517),x=o(701469),b=o(644144),y=o(356688),v=o(513218),w=o(472928),P=o(3674),S=o(481704),A="[object Arguments]",C="[object Function]",E="[object Object]",T={};T[A]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[E]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[C]=T["[object WeakMap]"]=!1,e.exports=function e(t,o,j,k,I,O){var R,L=1&o,z=2&o,N=4&o;if(j&&(R=I?j(t,k,I,O):j(t)),void 0!==R)return R;if(!v(t))return t;var M=x(t);if(M){if(R=g(t),!L)return c(t,R)}else{var D=p(t),B=D==C||"[object GeneratorFunction]"==D;if(b(t))return l(t,L);if(D==E||D==A||B&&!I){if(R=z||B?{}:f(t),!L)return z?u(t,a(R,t)):d(t,r(R,t))}else{if(!T[D])return I?t:{};R=m(t,D,L)}}O||(O=new n);var Z=O.get(t);if(Z)return Z;O.set(t,R),w(t)?t.forEach((function(n){R.add(e(n,o,j,n,t,O))})):y(t)&&t.forEach((function(n,i){R.set(i,e(n,o,j,i,t,O))}));var U=M?void 0:(N?z?_:h:z?S:P)(t);return i(U||t,(function(n,i){U&&(n=t[i=n]),s(R,i,e(n,o,j,i,t,O))})),R}},603118:(e,t,o)=>{var n=o(513218),i=Object.create,s=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var o=new e;return e.prototype=void 0,o}}();e.exports=s},989881:(e,t,o)=>{var n=o(247816),i=o(899291)(n);e.exports=i},121078:(e,t,o)=>{var n=o(862488),i=o(137285);e.exports=function e(t,o,s,r,a){var l=-1,c=t.length;for(s||(s=i),a||(a=[]);++l<c;){var d=t[l];o>0&&s(d)?o>1?e(d,o-1,s,r,a):n(a,d):r||(a[a.length]=d)}return a}},228483:(e,t,o)=>{var n=o(225063)();e.exports=n},247816:(e,t,o)=>{var n=o(228483),i=o(3674);e.exports=function(e,t){return e&&n(e,t,i)}},297786:(e,t,o)=>{var n=o(671811),i=o(240327);e.exports=function(e,t){for(var o=0,s=(t=n(t,e)).length;null!=e&&o<s;)e=e[i(t[o++])];return o&&o==s?e:void 0}},868866:(e,t,o)=>{var n=o(862488),i=o(701469);e.exports=function(e,t,o){var s=t(e);return i(e)?s:n(s,o(e))}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},690939:(e,t,o)=>{var n=o(902492),i=o(637005);e.exports=function e(t,o,s,r,a){return t===o||(null==t||null==o||!i(t)&&!i(o)?t!=t&&o!=o:n(t,o,s,r,e,a))}},902492:(e,t,o)=>{var n=o(646384),i=o(967114),s=o(518351),r=o(916096),a=o(664160),l=o(701469),c=o(644144),d=o(936719),u="[object Arguments]",h="[object Array]",_="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,g,m,f){var x=l(e),b=l(t),y=x?h:a(e),v=b?h:a(t),w=(y=y==u?_:y)==_,P=(v=v==u?_:v)==_,S=y==v;if(S&&c(e)){if(!c(t))return!1;x=!0,w=!1}if(S&&!w)return f||(f=new n),x||d(e)?i(e,t,o,g,m,f):s(e,t,y,o,g,m,f);if(!(1&o)){var A=w&&p.call(e,"__wrapped__"),C=P&&p.call(t,"__wrapped__");if(A||C){var E=A?e.value():e,T=C?t.value():t;return f||(f=new n),m(E,T,o,g,f)}}return!!S&&(f||(f=new n),r(e,t,o,g,m,f))}},225588:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Map]"==n(e)}},702958:(e,t,o)=>{var n=o(646384),i=o(690939);e.exports=function(e,t,o,s){var r=o.length,a=r,l=!s;if(null==e)return!a;for(e=Object(e);r--;){var c=o[r];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++r<a;){var d=(c=o[r])[0],u=e[d],h=c[1];if(l&&c[2]){if(void 0===u&&!(d in e))return!1}else{var _=new n;if(s)var p=s(u,h,d,e,t,_);if(!(void 0===p?i(h,u,3,s,_):p))return!1}}return!0}},829221:(e,t,o)=>{var n=o(664160),i=o(637005);e.exports=function(e){return i(e)&&"[object Set]"==n(e)}},267206:(e,t,o)=>{var n=o(191573),i=o(716432),s=o(406557),r=o(701469),a=o(139601);e.exports=function(e){return"function"==typeof e?e:null==e?s:"object"==typeof e?r(e)?i(e[0],e[1]):n(e):a(e)}},400280:(e,t,o)=>{var n=o(225726),i=o(86916),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var o in Object(e))s.call(e,o)&&"constructor"!=o&&t.push(o);return t}},710313:(e,t,o)=>{var n=o(513218),i=o(225726),s=o(133498),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return s(e);var t=i(e),o=[];for(var a in e)("constructor"!=a||!t&&r.call(e,a))&&o.push(a);return o}},269199:(e,t,o)=>{var n=o(989881),i=o(498612);e.exports=function(e,t){var o=-1,s=i(e)?Array(e.length):[];return n(e,(function(e,n,i){s[++o]=t(e,n,i)})),s}},191573:(e,t,o)=>{var n=o(702958),i=o(301499),s=o(542634);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?s(t[0][0],t[0][1]):function(o){return o===e||n(o,e,t)}}},716432:(e,t,o)=>{var n=o(690939),i=o(227361),s=o(379095),r=o(115403),a=o(689162),l=o(542634),c=o(240327);e.exports=function(e,t){return r(e)&&a(t)?l(c(e),t):function(o){var r=i(o,e);return void 0===r&&r===t?s(o,e):n(t,r,3)}}},642980:(e,t,o)=>{var n=o(646384),i=o(286556),s=o(228483),r=o(559783),a=o(513218),l=o(481704),c=o(636390);e.exports=function e(t,o,d,u,h){t!==o&&s(o,(function(s,l){if(h||(h=new n),a(s))r(t,o,l,d,e,u,h);else{var _=u?u(c(t,l),s,l+"",t,o,h):void 0;void 0===_&&(_=s),i(t,l,_)}}),l)}},559783:(e,t,o)=>{var n=o(286556),i=o(364626),s=o(477133),r=o(200278),a=o(738517),l=o(135694),c=o(701469),d=o(229246),u=o(644144),h=o(623560),_=o(513218),p=o(968630),g=o(936719),m=o(636390),f=o(959881);e.exports=function(e,t,o,x,b,y,v){var w=m(e,o),P=m(t,o),S=v.get(P);if(S)n(e,o,S);else{var A=y?y(w,P,o+"",e,t,v):void 0,C=void 0===A;if(C){var E=c(P),T=!E&&u(P),j=!E&&!T&&g(P);A=P,E||T||j?c(w)?A=w:d(w)?A=r(w):T?(C=!1,A=i(P,!0)):j?(C=!1,A=s(P,!0)):A=[]:p(P)||l(P)?(A=w,l(w)?A=f(w):_(w)&&!h(w)||(A=a(P))):C=!1}C&&(v.set(P,A),b(A,P,x,y,v),v.delete(P)),n(e,o,A)}}},882689:(e,t,o)=>{var n=o(829932),i=o(297786),s=o(267206),r=o(269199),a=o(571131),l=o(307518),c=o(285022),d=o(406557),u=o(701469);e.exports=function(e,t,o){t=t.length?n(t,(function(e){return u(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[d];var h=-1;t=n(t,l(s));var _=r(e,(function(e,o,i){return{criteria:n(t,(function(t){return t(e)})),index:++h,value:e}}));return a(_,(function(e,t){return c(e,t,o)}))}},840371:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},379152:(e,t,o)=>{var n=o(297786);e.exports=function(e){return function(t){return n(t,e)}}},105976:(e,t,o)=>{var n=o(406557),i=o(545357),s=o(430061);e.exports=function(e,t){return s(i(e,t,n),e+"")}},356560:(e,t,o)=>{var n=o(575703),i=o(538777),s=o(406557),r=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:s;e.exports=r},571131:e=>{e.exports=function(e,t){var o=e.length;for(e.sort(t);o--;)e[o]=e[o].value;return e}},274757:e=>{e.exports=function(e,t){return e.has(t)}},671811:(e,t,o)=>{var n=o(701469),i=o(115403),s=o(555514),r=o(479833);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:s(r(e))}},274318:(e,t,o)=>{var n=o(611149);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},364626:(e,t,o)=>{e=o.nmd(e);var n=o(555639),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,r=s&&s.exports===i?n.Buffer:void 0,a=r?r.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var o=e.length,n=a?a(o):new e.constructor(o);return e.copy(n),n}},257157:(e,t,o)=>{var n=o(274318);e.exports=function(e,t){var o=t?n(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var o=new e.constructor(e.source,t.exec(e));return o.lastIndex=e.lastIndex,o}},540419:(e,t,o)=>{var n=o(562705),i=n?n.prototype:void 0,s=i?i.valueOf:void 0;e.exports=function(e){return s?Object(s.call(e)):{}}},477133:(e,t,o)=>{var n=o(274318);e.exports=function(e,t){var o=t?n(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}},626393:(e,t,o)=>{var n=o(733448);e.exports=function(e,t){if(e!==t){var o=void 0!==e,i=null===e,s=e==e,r=n(e),a=void 0!==t,l=null===t,c=t==t,d=n(t);if(!l&&!d&&!r&&e>t||r&&a&&c&&!l&&!d||i&&a&&c||!o&&c||!s)return 1;if(!i&&!r&&!d&&e<t||d&&o&&s&&!i&&!r||l&&o&&s||!a&&s||!c)return-1}return 0}},285022:(e,t,o)=>{var n=o(626393);e.exports=function(e,t,o){for(var i=-1,s=e.criteria,r=t.criteria,a=s.length,l=o.length;++i<a;){var c=n(s[i],r[i]);if(c)return i>=l?c:c*("desc"==o[i]?-1:1)}return e.index-t.index}},200278:e=>{e.exports=function(e,t){var o=-1,n=e.length;for(t||(t=Array(n));++o<n;)t[o]=e[o];return t}},698363:(e,t,o)=>{var n=o(234865),i=o(789465);e.exports=function(e,t,o,s){var r=!o;o||(o={});for(var a=-1,l=t.length;++a<l;){var c=t[a],d=s?s(o[c],e[c],c,o,e):void 0;void 0===d&&(d=e[c]),r?i(o,c,d):n(o,c,d)}return o}},318805:(e,t,o)=>{var n=o(698363),i=o(799551);e.exports=function(e,t){return n(e,i(e),t)}},201911:(e,t,o)=>{var n=o(698363),i=o(151442);e.exports=function(e,t){return n(e,i(e),t)}},321463:(e,t,o)=>{var n=o(105976),i=o(816612);e.exports=function(e){return n((function(t,o){var n=-1,s=o.length,r=s>1?o[s-1]:void 0,a=s>2?o[2]:void 0;for(r=e.length>3&&"function"==typeof r?(s--,r):void 0,a&&i(o[0],o[1],a)&&(r=s<3?void 0:r,s=1),t=Object(t);++n<s;){var l=o[n];l&&e(t,l,n,r)}return t}))}},899291:(e,t,o)=>{var n=o(498612);e.exports=function(e,t){return function(o,i){if(null==o)return o;if(!n(o))return e(o,i);for(var s=o.length,r=t?s:-1,a=Object(o);(t?r--:++r<s)&&!1!==i(a[r],r,a););return o}}},225063:e=>{e.exports=function(e){return function(t,o,n){for(var i=-1,s=Object(t),r=n(t),a=r.length;a--;){var l=r[e?a:++i];if(!1===o(s[l],l,s))break}return t}}},538777:(e,t,o)=>{var n=o(610852),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},967114:(e,t,o)=>{var n=o(288668),i=o(282908),s=o(274757);e.exports=function(e,t,o,r,a,l){var c=1&o,d=e.length,u=t.length;if(d!=u&&!(c&&u>d))return!1;var h=l.get(e),_=l.get(t);if(h&&_)return h==t&&_==e;var p=-1,g=!0,m=2&o?new n:void 0;for(l.set(e,t),l.set(t,e);++p<d;){var f=e[p],x=t[p];if(r)var b=c?r(x,f,p,t,e,l):r(f,x,p,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(t,(function(e,t){if(!s(m,t)&&(f===e||a(f,e,o,r,l)))return m.push(t)}))){g=!1;break}}else if(f!==x&&!a(f,x,o,r,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},518351:(e,t,o)=>{var n=o(562705),i=o(611149),s=o(977813),r=o(967114),a=o(668776),l=o(321814),c=n?n.prototype:void 0,d=c?c.valueOf:void 0;e.exports=function(e,t,o,n,c,u,h){switch(o){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return s(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var _=a;case"[object Set]":var p=1&n;if(_||(_=l),e.size!=t.size&&!p)return!1;var g=h.get(e);if(g)return g==t;n|=2,h.set(e,t);var m=r(_(e),_(t),n,c,u,h);return h.delete(e),m;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},916096:(e,t,o)=>{var n=o(458234),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,o,s,r,a){var l=1&o,c=n(e),d=c.length;if(d!=n(t).length&&!l)return!1;for(var u=d;u--;){var h=c[u];if(!(l?h in t:i.call(t,h)))return!1}var _=a.get(e),p=a.get(t);if(_&&p)return _==t&&p==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++u<d;){var f=e[h=c[u]],x=t[h];if(s)var b=l?s(x,f,h,t,e,a):s(f,x,h,e,t,a);if(!(void 0===b?f===x||r(f,x,o,s,a):b)){g=!1;break}m||(m="constructor"==h)}if(g&&!m){var y=e.constructor,v=t.constructor;y==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof v&&v instanceof v||(g=!1)}return a.delete(e),a.delete(t),g}},458234:(e,t,o)=>{var n=o(868866),i=o(799551),s=o(3674);e.exports=function(e){return n(e,s,i)}},946904:(e,t,o)=>{var n=o(868866),i=o(151442),s=o(481704);e.exports=function(e){return n(e,s,i)}},301499:(e,t,o)=>{var n=o(689162),i=o(3674);e.exports=function(e){for(var t=i(e),o=t.length;o--;){var s=t[o],r=e[s];t[o]=[s,r,n(r)]}return t}},385924:(e,t,o)=>{var n=o(205569)(Object.getPrototypeOf,Object);e.exports=n},799551:(e,t,o)=>{var n=o(234963),i=o(770479),s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols,a=r?function(e){return null==e?[]:(e=Object(e),n(r(e),(function(t){return s.call(e,t)})))}:i;e.exports=a},151442:(e,t,o)=>{var n=o(862488),i=o(385924),s=o(799551),r=o(770479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,s(e)),e=i(e);return t}:r;e.exports=a},664160:(e,t,o)=>{var n=o(618552),i=o(357071),s=o(853818),r=o(458525),a=o(70577),l=o(644239),c=o(680346),d="[object Map]",u="[object Promise]",h="[object Set]",_="[object WeakMap]",p="[object DataView]",g=c(n),m=c(i),f=c(s),x=c(r),b=c(a),y=l;(n&&y(new n(new ArrayBuffer(1)))!=p||i&&y(new i)!=d||s&&y(s.resolve())!=u||r&&y(new r)!=h||a&&y(new a)!=_)&&(y=function(e){var t=l(e),o="[object Object]"==t?e.constructor:void 0,n=o?c(o):"";if(n)switch(n){case g:return p;case m:return d;case f:return u;case x:return h;case b:return _}return t}),e.exports=y},900222:(e,t,o)=>{var n=o(671811),i=o(135694),s=o(701469),r=o(565776),a=o(541780),l=o(240327);e.exports=function(e,t,o){for(var c=-1,d=(t=n(t,e)).length,u=!1;++c<d;){var h=l(t[c]);if(!(u=null!=e&&o(e,h)))break;e=e[h]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&a(d)&&r(h,d)&&(s(e)||i(e))}},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var o=e.length,n=new e.constructor(o);return o&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,o)=>{var n=o(274318),i=o(257157),s=o(593147),r=o(540419),a=o(477133);e.exports=function(e,t,o){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return i(e,o);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,o);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return s(e);case"[object Symbol]":return r(e)}}},738517:(e,t,o)=>{var n=o(603118),i=o(385924),s=o(225726);e.exports=function(e){return"function"!=typeof e.constructor||s(e)?{}:n(i(e))}},137285:(e,t,o)=>{var n=o(562705),i=o(135694),s=o(701469),r=n?n.isConcatSpreadable:void 0;e.exports=function(e){return s(e)||i(e)||!!(r&&e&&e[r])}},816612:(e,t,o)=>{var n=o(977813),i=o(498612),s=o(565776),r=o(513218);e.exports=function(e,t,o){if(!r(o))return!1;var a=typeof t;return!!("number"==a?i(o)&&s(t,o.length):"string"==a&&t in o)&&n(o[t],e)}},115403:(e,t,o)=>{var n=o(701469),i=o(733448),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var o=typeof e;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=e&&!i(e))||(r.test(e)||!s.test(e)||null!=t&&e in Object(t))}},689162:(e,t,o)=>{var n=o(513218);e.exports=function(e){return e==e&&!n(e)}},668776:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e,n){o[++t]=[n,e]})),o}},542634:e=>{e.exports=function(e,t){return function(o){return null!=o&&(o[e]===t&&(void 0!==t||e in Object(o)))}}},624523:(e,t,o)=>{var n=o(288306);e.exports=function(e){var t=n(e,(function(e){return 500===o.size&&o.clear(),e})),o=t.cache;return t}},86916:(e,t,o)=>{var n=o(205569)(Object.keys,Object);e.exports=n},133498:e=>{e.exports=function(e){var t=[];if(null!=e)for(var o in Object(e))t.push(o);return t}},545357:(e,t,o)=>{var n=o(896874),i=Math.max;e.exports=function(e,t,o){return t=i(void 0===t?e.length-1:t,0),function(){for(var s=arguments,r=-1,a=i(s.length-t,0),l=Array(a);++r<a;)l[r]=s[t+r];r=-1;for(var c=Array(t+1);++r<t;)c[r]=s[r];return c[t]=o(l),n(e,this,c)}}},636390:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},90619:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},572385:e=>{e.exports=function(e){return this.__data__.has(e)}},321814:e=>{e.exports=function(e){var t=-1,o=Array(e.size);return e.forEach((function(e){o[++t]=e})),o}},430061:(e,t,o)=>{var n=o(356560),i=o(521275)(n);e.exports=i},521275:e=>{var t=Date.now;e.exports=function(e){var o=0,n=0;return function(){var i=t(),s=16-(i-n);if(n=i,s>0){if(++o>=800)return arguments[0]}else o=0;return e.apply(void 0,arguments)}}},555514:(e,t,o)=>{var n=o(624523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,r=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,o,n,i){t.push(n?i.replace(s,"$1"):o||e)})),t}));e.exports=r},240327:(e,t,o)=>{var n=o(733448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},150361:(e,t,o)=>{var n=o(285990);e.exports=function(e){return n(e,5)}},575703:e=>{e.exports=function(e){return function(){return e}}},227361:(e,t,o)=>{var n=o(297786);e.exports=function(e,t,o){var i=null==e?void 0:n(e,t);return void 0===i?o:i}},379095:(e,t,o)=>{var n=o(200013),i=o(900222);e.exports=function(e,t){return null!=e&&i(e,t,n)}},406557:e=>{e.exports=function(e){return e}},229246:(e,t,o)=>{var n=o(498612),i=o(637005);e.exports=function(e){return i(e)&&n(e)}},618446:(e,t,o)=>{var n=o(690939);e.exports=function(e,t){return n(e,t)}},356688:(e,t,o)=>{var n=o(225588),i=o(307518),s=o(531167),r=s&&s.isMap,a=r?i(r):n;e.exports=a},968630:(e,t,o)=>{var n=o(644239),i=o(385924),s=o(637005),r=Function.prototype,a=Object.prototype,l=r.toString,c=a.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!s(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var o=c.call(t,"constructor")&&t.constructor;return"function"==typeof o&&o instanceof o&&l.call(o)==d}},472928:(e,t,o)=>{var n=o(829221),i=o(307518),s=o(531167),r=s&&s.isSet,a=r?i(r):n;e.exports=a},3674:(e,t,o)=>{var n=o(14636),i=o(400280),s=o(498612);e.exports=function(e){return s(e)?n(e):i(e)}},481704:(e,t,o)=>{var n=o(14636),i=o(710313),s=o(498612);e.exports=function(e){return s(e)?n(e,!0):i(e)}},288306:(e,t,o)=>{var n=o(883369);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var o=function(){var n=arguments,i=t?t.apply(this,n):n[0],s=o.cache;if(s.has(i))return s.get(i);var r=e.apply(this,n);return o.cache=s.set(i,r)||s,r};return o.cache=new(i.Cache||n),o}i.Cache=n,e.exports=i},682492:(e,t,o)=>{var n=o(642980),i=o(321463)((function(e,t,o){n(e,t,o)}));e.exports=i},139601:(e,t,o)=>{var n=o(840371),i=o(379152),s=o(115403),r=o(240327);e.exports=function(e){return s(e)?n(r(e)):i(e)}},189734:(e,t,o)=>{var n=o(121078),i=o(882689),s=o(105976),r=o(816612),a=s((function(e,t){if(null==e)return[];var o=t.length;return o>1&&r(e,t[0],t[1])?t=[]:o>2&&r(t[0],t[1],t[2])&&(t=[t[0]]),i(e,n(t,1),[])}));e.exports=a},770479:e=>{e.exports=function(){return[]}},959881:(e,t,o)=>{var n=o(698363),i=o(481704);e.exports=function(e){return n(e,i(e))}},869921:(e,t)=>{var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,i=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,r=o?Symbol.for("react.strict_mode"):60108,a=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,c=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.async_mode"):60111,u=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,_=o?Symbol.for("react.suspense"):60113,p=o?Symbol.for("react.suspense_list"):60120,g=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116,f=o?Symbol.for("react.block"):60121,x=o?Symbol.for("react.fundamental"):60117,b=o?Symbol.for("react.responder"):60118,y=o?Symbol.for("react.scope"):60119;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case d:case u:case s:case a:case r:case _:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case g:case l:return e;default:return t}}case i:return t}}}function w(e){return v(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=r,t.Suspense=_,t.isAsyncMode=function(e){return w(e)||v(e)===d},t.isConcurrentMode=w,t.isContextConsumer=function(e){return v(e)===c},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return v(e)===h},t.isFragment=function(e){return v(e)===s},t.isLazy=function(e){return v(e)===m},t.isMemo=function(e){return v(e)===g},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===a},t.isStrictMode=function(e){return v(e)===r},t.isSuspense=function(e){return v(e)===_},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===u||e===a||e===r||e===_||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===x||e.$$typeof===b||e.$$typeof===y||e.$$typeof===f)},t.typeOf=v},659864:(e,t,o)=>{e.exports=o(869921)},467367:(e,t,o)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/create/[method]"]=function(){return o(625196).Z}},285666:(e,t,o)=>{o.d(t,{As:()=>l,Ed:()=>c,X_:()=>i,h_:()=>r,vF:()=>s,x3:()=>a});var n=o(40660);const i=e=>{e&&e.utm_campaign&&n.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},s=(e,t,o,i,s,r,a={})=>{((e,t)=>{const o=`client.partner.quick_promote_button.${e}`;n.Z.increment(o,1,{app_type:"web",location:t})})(t,o),((e,t,o,n={},i)=>{i({event_type:e,component:t,element:10148,view_type:o,aux_data:{...n}})})(i,s,r,a,e)},r=e=>{e({event_type:8217})},a=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},l=()=>{n.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},c=e=>{const t=`client.partner.biz_nux_v2.render.${e}`;n.Z.increment(t,1,{app_type:"web"})}},939809:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(883119),s=o(846226),r=o(785893);function a({accessibilityLabel:e,handleClick:t,icon:o,iconColor:a,iconOnly:l,testId:c,buttonText:d,tabIndex:u}){const[h,_]=(0,n.useState)(!1),p=(0,n.useRef)(),g=l?"md":"lg",m=a||"darkGray",f=()=>{_((e=>!e)),t()},x=e=>{var t;p&&e.target instanceof Element&&(null===(t=p.current)||void 0===t||!t.contains(e.target))&&_(!1)};return(0,n.useEffect)((()=>(window.addEventListener("mousedown",x),()=>{window.removeEventListener("mousedown",x)})),[]),(0,r.jsx)(s.Z,{id:c||"closeup-action-bar-button",children:(0,r.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,r.jsx)(i.hU,{accessibilityLabel:e,iconColor:m,onClick:f,selected:h,icon:o,size:g,ref:p,tabIndex:u}),d&&(0,r.jsx)(i.iP,{onTap:f,rounding:2,children:(0,r.jsx)(i.X6,{color:"light",overflow:"normal",size:"400",children:d})})]})})}},883911:(e,t,o)=>{o.d(t,{Z:()=>r,m:()=>s});var n=o(527218),i=o(508237);const s=["female","male","unknown"],r=e=>{const{interests:t,ages:o,genders:r,country:a}=e;return{AGE_BUCKET:o||[],APPTYPE:n.jz,GENDER:r||s,INTEREST:(t||[]).map((e=>e.topic_id)),LOCATION:[...new Set((a||i.UF).split("+"))]}}},112496:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(542529),s=o(388011),r=o(788241),a=o(820997),l=o(536042),c=o(282802),d=o(285982),u=o(785893);function h({isExtensionInstalled:e=!1,isFromPinBuilder:t=!1,onInstall:o=(()=>{}),onHide:h=(()=>{}),onMounted:_=(()=>{})}){const{logContextEvent:p}=(0,s.v)(),g=(0,l.ZP)(),{userAgent:{browserName:m}}=(0,c.B)(),f=(0,r.SU)();(0,n.useEffect)((()=>(p({event_type:13,view_type:438,component:13588}),_(),()=>{p({event_type:13,view_type:f.viewType,view_parameter:f.viewParameter,view_data:f.viewData})})),[]);return(0,u.jsx)(d.Z,{installClick:()=>{e?a.Z.showError(g._('Oops! You already have the browser button.', ' - ', ' -- ')):i.Z.handleExtensionInstall(m,(()=>{o()})),p({event_type:101,component:7,element:456})},isExtensionInstalled:!t&&e,isFromPinBuilder:!!t,skipClick:()=>{h()}})}},597983:(e,t,o)=>{o.d(t,{Z:()=>I});var n=o(667294),i=o(616550),s=o(883119),r=o(285666),a=o(40660),l=o(357626),c=o(885999),d=o(388011),u=o(536042),h=o(630089),_=o(282802),p=o(819079),g=o(802071),m=o(329689),f=o(384722),x=o(257330),b=o(107374),y=o(981484),v=o(449510),w=o(785893);function P(e){const{color:t,description:o,imageUrl:n,link:i}=e;return(0,w.jsx)(s.xu,{alignItems:"center",justifyContent:"center",padding:2,display:"flex",children:!n&&t&&i?(0,w.jsx)(s.xu,{width:236,children:(0,w.jsx)(v.Z,{color:t,description:o,url:i})}):(0,w.jsx)(s.zd,{rounding:2,width:236,children:(0,w.jsx)("img",{alt:o,src:n})})})}var S=o(897575),A=o(709512);const C={width:"100%"};class E extends n.Component{constructor(...e){var t,o,i;super(...e),t=this,o="videoRef",i=(0,n.createRef)(),o in t?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i}componentDidMount(){const{video:e}=this.props;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}render(){const{video:e}=this.props,t=(0,S.Z)(e.customCoverImg||e,236);return(0,w.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,w.jsxs)(s.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,w.jsx)(s.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e.customCoverImg?(0,w.jsx)(s.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,w.jsx)("video",{muted:!0,src:e.src,ref:this.videoRef,style:C,children:(0,w.jsx)("track",{kind:"captions"})})}),(0,w.jsx)(s.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,w.jsx)(A.Z,{duration:1e3*e.duration})})]})})}}const T=1;class j extends n.PureComponent{renderPinCreateSuccessImage(){const{color:e,description:t,imageUrl:o,link:n,websiteMedia:i}=this.props;return i&&i.length>1?(0,w.jsx)(s.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,w.jsx)(s.Rk,{renderItem:({data:e})=>(0,w.jsx)(P,{description:t,imageUrl:e.src}),items:i,minCols:3,columnWidth:160})}):(0,w.jsx)(P,{color:e,description:t,imageUrl:o,link:n})}render(){const{relatedBoard:e}=this.props;if(!e.isLoaded)return(0,w.jsx)(s.xu,{minHeight:250,children:(0,w.jsx)(s.$j,{accessibilityLabel:this.props.i18n._('See suggested board', 'suggested board to follow after pinnning', 'suggested board to follow after pinnning'),show:!0})});if(e.data&&!e.data.length){const{video:e}=this.props;return(0,w.jsx)(s.xu,{marginTop:-8,paddingY:8,children:e?(0,w.jsx)(E,{video:e}):this.renderPinCreateSuccessImage()})}return null}}function k(e){const t=(0,u.ZP)(),o=(0,g.Z)(),n=(0,m.Z)(),i=(0,f.lJ)(o,n),s=(0,p.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:T,pin:e.pinId,orbac_subject_id:i},noCache:!0});return(0,w.jsx)(j,{...e,i18n:t,relatedBoard:s})}function I({boardName:e,color:t,description:o="",hideHeader:v,imageUrl:P,link:S,onClose:A,openNewTab:C,pin:E,pinId:T,sectionName:j,siteType:I,video:O,websiteMedia:R}){const L=(0,u.ZP)(),{logContextEvent:z}=(0,d.v)(),N=(0,i.useHistory)(),M=(0,_.B)(),D=(0,g.Z)(),B=(0,m.Z)(),Z=(0,f.lJ)(D,B),U=(0,p.Z)({name:"PinResource",options:{id:T,field_set_key:"detailed",orbac_subject_id:Z}}),F=()=>E&&E.is_quick_promotable_by_pinner&&3!==I&&(0,c.su)(D);(0,n.useEffect)((()=>{F()?((0,r.vF)(z,x.NH.RENDER,x.Xc.PIN_CREATE_SUCCESS_PINNER,120,207),a.Z.increment("web.pin_create.success.promote")):a.Z.increment("web.pin_create.success.send"),a.Z.increment("web.pin_create.success.default")}),[]);const G=(0,b.Z)({currentSiteType:I,destinationSiteType:0,inputPath:`/pin/${T}`}),V=j?(0,h.nk)(L._('Saved to {{ sectionName }} in {{ boardName }}', ' - ', ' -- '),{boardName:e,sectionName:j}):(0,h.nk)(L._('Saved to {{ boardName }}', ' - ', ' -- '),{boardName:e}),H=U.data&&U.data.link_domain&&U.data.link_domain.official_user,W=D.isAuth&&H&&H.id!==D.id&&!H.followed_by_me;return(0,w.jsx)(s.xu,{minWidth:500,"data-test-id":"saved-pin-modal",children:(0,w.jsxs)(s.xu,{color:"default",rounding:2,width:"auto",children:[v?null:(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(s.xu,{paddingX:6,paddingY:4,children:(0,w.jsx)(s.X6,{size:"500",children:V})}),(0,w.jsx)(s.iz,{})]}),!!H&&W&&(0,w.jsxs)(n.Fragment,{children:[(0,w.jsx)(s.xu,{paddingX:6,paddingY:3,children:(0,w.jsx)(y.Z,{user:H})}),(0,w.jsx)(s.iz,{})]}),(0,w.jsx)(k,{color:t,description:o,imageUrl:P,link:S,pinId:T,video:O,websiteMedia:R}),(0,w.jsx)(s.iz,{}),(0,w.jsx)(s.xu,{paddingX:6,paddingY:2,children:(0,w.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"end",children:[!F()&&(0,w.jsx)(l.SendButton,{buttonType:"icon-and-text",handleSendShareFlyoutButtonClick:()=>{N.push(`/pin/${T}/?share=true`)}}),(0,w.jsx)(s.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,w.jsx)(s.zx,{role:"link",href:G,target:C?"blank":null,onClick:()=>{(0,r.vF)(z,x.NH.DISMISS,x.Xc.PIN_CREATE_SUCCESS_PINNER,123,207),A()},color:D.isAuth&&D.isPartner||E&&F()?"gray":"red",text:L._('See it now', 'pinCreateSuccess.seeItNow', 'Text for button that takes user to see their new Pin')})}),E&&F()&&(0,w.jsx)(s.xu,{paddingX:1,children:(0,w.jsx)(s.zx,{color:"red",text:L._('Promote your Pin', 'Text for button to that takes users to promote a Pin', 'Text for button to that takes users to promote a Pin'),onClick:()=>{(0,r.vF)(z,x.NH.CLICK,x.Xc.PIN_CREATE_SUCCESS_PINNER,101,207),(0,c.Pw)({history:N,pinId:T,requestContext:M}),A()}})})]})})]})})}},357626:(e,t,o)=>{o.r(t),o.d(t,{SendButton:()=>u,default:()=>h});var n=o(939809),i=o(883119),s=o(806681),r=o(785893);const a={boxShadow:"0 0 0 4px rgba(0, 132, 255, 0.5)",outline:0};function l({accessibilityLabel:e,buttonColor:t,buttonText:o,handleClick:n,icon:l}){return(0,r.jsx)(s.q,{children:({active:s,focused:c,hovered:d,onBlur:u,onFocus:h,onMouseDown:_,onMouseEnter:p,onMouseLeave:g,onMouseUp:m})=>{let f={borderRadius:24};if(d){const e="primary"===t?"rgb(216,0,33)":"rgb(226, 226, 226)";f={...f,backgroundColor:e}}if(s){const e="primary"===t?"rgb(207,0,31)":"rgb(218, 218, 218)";f={...f,backgroundColor:e}}return c&&(f={...f,...a}),(0,r.jsx)("button",{"aria-label":e,style:{display:"block",border:"none",padding:0,cursor:"pointer",background:"transparent",outline:"none"},onBlur:u,onFocus:h,onMouseDown:_,onMouseEnter:p,onMouseLeave:g,onMouseUp:m,onClick:n,children:(0,r.jsx)(i.xu,{color:t,rounding:2,dangerouslySetInlineStyle:{__style:f},children:(0,r.jsxs)(i.xu,{display:"flex",minHeight:40,dangerouslySetInlineStyle:{__style:{padding:"10px 14px"}},children:["share"===l&&(0,r.jsxs)(i.xu,{children:[(0,r.jsx)(i.JO,{accessibilityLabel:"",icon:"share",color:"default",size:18}),(0,r.jsx)(i.xu,{paddingX:3})]}),(0,r.jsx)(i.xv,{align:"center",color:"primary"===t?"light":"default",weight:"bold",children:o})]})})})}})}var c=o(536042),d=o(997768);const u=({buttonType:e,iconColor:t,handleSendShareFlyoutButtonClick:o,iconOnly:i,buttonText:s,tabIndex:a=0})=>{const d=(0,c.ZP)(),u="icon"===e,h={accessibilityLabel:d._('Send', 'Accessible label for button to send this pin', 'Accessible label for button to send this pin'),handleClick:o,tabIndex:a};return u?(0,r.jsx)(n.Z,{...h,testId:"closeup-share-button",icon:"share",iconOnly:i,iconColor:t,buttonText:s}):(0,r.jsx)(l,{...h,icon:"share",buttonColor:"secondary",buttonText:d._('Send', 'Text for button to send this pin', 'Text for button to send this pin')})},h=(0,d.Z)(u)},293926:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=o(883119),s=o(785893);function r({color:e="red",duration:t,finalProgress:o,shape:r="pill"}){const[a,l]=(0,n.useState)(!1);(0,n.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),0);return()=>{clearTimeout(e)}}),[]);const c="pill"===r;return(0,s.jsx)(i.xu,{color:e,height:c?8:6,rounding:c?"pill":2,width:`${o}%`,dangerouslySetInlineStyle:{__style:{transform:c?`translateX(${a?"-5px":"-100%"})`:`scaleX(${a?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}}})}},542529:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(969327),i=o(965533);let s;const r={},a="https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",l="https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",c="https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",d="https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",u="https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",h="https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",_={[n.oi.CHROME]:{url:a,newWindow:!0},[n.oi.FIREFOX]:{url:l,newWindow:!1},[n.oi.SAFARI]:{url:c,newWindow:!0},[n.oi.IE]:{url:d,newWindow:!1},[n.oi.OPERA]:{url:u,newWindow:!0},[n.oi.EDGE]:{url:h,newWindow:!0}};r.handleExtensionInstall=(e,t)=>{const o=(0,n.u$)(e),s=function(e){return e?_[e].url:void 0}(o);s&&((0,i.Z)(s,function(e){return e?_[e].newWindow:void 0}(o)),t())},r.isExtensionInstalled=()=>s,r.isBrowserExtensionSupported=e=>(0,n.i7)(e)||(0,n.vU)(e)||(0,n.un)(e),r.extensionReady=(e,t=100)=>new Promise((o=>{setTimeout((()=>{document.body&&(s=document.body.hasAttribute("data-pinterest-extension-installed"),r.isBrowserExtensionSupported(e)||(s=!0),o(s))}),t)})),r.initBrowserExtension=()=>{Promise.resolve().then(o.bind(o,585095)).then((({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:s})}))};const p=r},243600:(e,t,o)=>{o.d(t,{Z:()=>n});const n=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},61849:(e,t,o)=>{o.d(t,{CB:()=>_,y9:()=>h});var n=o(667294),i=o(583592),s=o(883119),r=o(970588),a=o(88622),l=o(536042),c=o(785893);const d=({onConfirm:e})=>{const t=(0,l.ZP)(),[o,i]=(0,n.useState)(!1),d=()=>{i(!0),(0,r.Z)({url:"/v3/users/email/verify/resend/",method:"POST"})};return(0,c.jsx)(a.ZP,{accessibilityModalLabel:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),onDismiss:e,heading:t._('Verify your email', 'Accessible label for email verification being required', 'Accessible label for email verification being required'),footer:(0,c.jsxs)(s.kC,{justifyContent:"end",gap:{row:2,column:0},children:[o?(0,c.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Email sent', 'Button text for verification email being sent', 'Button text for verification email being sent'),disabled:o,onClick:d}):(0,c.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._('Resend email', 'Button text for resending email verification email', 'Button text for resending email verification email'),disabled:o,onClick:d}),(0,c.jsx)(s.zx,{fullWidth:!0,size:"lg",color:"red",text:t._('Got it', 'Button text for acknowledging email verificaiton is required', 'Button text for acknowledging email verificaiton is required'),onClick:e})]}),role:"alertdialog",children:(0,c.jsx)(s.xu,{padding:8,children:(0,c.jsx)(s.xv,{align:"center",size:"300",children:t._('Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest', 'Inform users that they need to verify their email to keep their account secure and continue using Pinterest')})})})},{Provider:u,useHook:h}=(0,i.Z)("EmailVerificationReminderModal");function _({children:e}){const[t,o]=(0,n.useState)(!1),i=(0,n.useMemo)((()=>({showEmailVerificationReminderModal:()=>{o(!0)}})),[]);return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(u,{value:i,children:e}),t&&(0,c.jsx)(d,{onConfirm:()=>{o(!1)}})]})}},310561:(e,t,o)=>{o.d(t,{Hv:()=>l,aX:()=>u,nK:()=>h});var n=o(667294),i=o(616550),s=o(583592),r=o(785893);const{Provider:a,useHook:l}=(0,s.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var o;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(o=e.current)||void 0===o?void 0:o.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=l();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function h({children:e}){const t=(0,i.useHistory)(),o=(0,i.useLocation)(),s=(0,i.useRouteMatch)(),l={forward:[],current:{action:t.action,location:o,match:s},previous:[]},[c,u]=(0,n.useReducer)(d,l);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:o,match:s})}),[o]),(0,r.jsx)(a,{value:c,children:e})}},36521:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(536042),s=o(785893);function r({accessibilityLabel:e,fixedPosition:t,rounding:o}){const r=(0,i.ZP)();return(0,s.jsxs)(n.xu,{children:[(0,s.jsx)(n.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(101),children:(0,s.jsx)(n.$j,{accessibilityLabel:e||r._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,s.jsx)(n.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new n.Ry(100),rounding:o})]})}},767874:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(536042),i=o(785893);function s({fillColor:e,size:t,noCircle:o}){const s=(0,n.ZP)();return(0,i.jsxs)("svg",{height:t,style:{display:"block"},viewBox:o?"3 3 70 70":"-3 -3 82 82",width:t,children:[(0,i.jsx)("title",{children:s._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon')}),o?null:(0,i.jsx)("circle",{cx:"38",cy:"38",fill:e?"transparent":"white",r:"40"}),(0,i.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:null!=e?e:"#e60023",fillRule:"evenodd"})]})}},882973:(e,t,o)=>{o.d(t,{Pw:()=>n,SB:()=>i,x9:()=>s});const n=80,i=56,s=e=>"phone"===e?i:n},268422:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(78309),i=o(198541);const s={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},r=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},a={overview:()=>"/",reporting:e=>{const t=e.objectiveType||null;delete e.objectiveType;const o={...e,...r(t)};return(0,i.Z)("/reporting/campaigns/",o)},reportingAdGroup:e=>{const{campaignId:t,objectiveType:o,showAllEntities:n,adGroupId:a,message:l}=e,c=a?{adGroupIds:[a]}:{},d={campaignIds:[t],...n?s:{},...r(o),...c,message:l};return(0,i.Z)("/reporting/adgroups/",d)},campaign:e=>{const{id:t,objectiveType:o}=e;return(0,i.Z)("/reporting/adgroups/",{campaignIds:[t],...r(o)})},editCampaign:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:t,objectiveType:o,showAllEntities:n,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===o||"CATALOG_SALES"===o)return(0,i.Z)("/reporting/productgroups/",{adGroupIds:[t],...r(o)});{const e=n?s:{},c=l?{campaignIds:[l]}:{},d=a?{pinPromotionIds:[a]}:{};return(0,i.Z)("/reporting/ads/",{adGroupIds:[t],...r(o),...e,...d,...c})}},editAdGroup:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:t,adFilter:o}=e,n=o?{adFilter:o}:{};return(0,i.Z)("/reporting/ads/",{pinPromotionIds:[t],...n})},editPinPromotion:e=>{const t=e.isCreatingPins?{isCreatingPins:!0}:{},o=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...o,...t})},productGroup:e=>{const{id:t,name:o}=e;return(0,i.Z)("/reporting/productgroups/",{productGroupIds:[t],name:o})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),campaignMode:e=>(0,i.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:e=>{const{campaignId:t,objectiveType:o,partialCreate:n,catalogsFeedId:s,managedClientId:r,productGroupId:a,resumeLastDraft:l}=e,c={};return t&&n&&(c.campaignId=t),o&&(c.objectiveType=o),"CATALOG_SALES"===o&&s&&(c.catalogsFeedId=s),a&&(c.productGroupId=a),r&&(c.managedClientId=r),l&&(c.resumeLastDraft=!0),(0,i.Z)("/ads/create/",c)},createAutomated:e=>(0,i.Z)("/automated/ads/create/",e),editV2:e=>(0,i.Z)("/ads/edit/",e),editAutomated:e=>(0,i.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,i.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,i.Z)("/ads/duplicate/",e),audiences:e=>(0,i.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{const{page:t,subSection:o,nextStepUrl:s}=e;switch(t){case n.kM.BILLING_HISTORY:return"/billing/history/";case n.kM.ORDER_LINES:return"/billing/order_lines/";case n.kM.PROMOTIONS:return"/billing/promotions/";case n.kM.DOCUMENTS:return"/billing/documents/";case n.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:const e={};return o&&(e.section=o),s&&(e.next_step_link_url=s),(0,i.Z)("/billing/",e)}},bulk:e=>{const{subSection:t,page:o,jobStarted:s}=e||{};switch(o){case n.fm.UPLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/upload_template/",{section:t});case n.fm.DOWNLOAD_TEMPLATE:return(0,i.Z)("/bulk_editor/download_template/",{section:t});case n.fm.HISTORY:return(0,i.Z)("/bulk_editor/history/",{section:t,job_started:s});case n.fm.RESOURCES:return(0,i.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},history:e=>(0,i.Z)("/history/",e),shopping:e=>a.reporting(r("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:t,subSection:o,platform:s,source:r,origin:a}=e;switch(t){case n.qp.PINTEREST_EVENT_HISTORY:return r?(0,i.Z)("/conversions/event-history/",{source:r}):"/conversions/event-history/";case n.qp.CONVERSION_HEALTH:return"/conversions/health/";case n.qp.PINTEREST_TAG:return(0,i.Z)("/conversions/tag/",{subPage:o,platform:s});case n.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:return s?(0,i.Z)("/conversions/tag_manual_setup/",{platform:s,source:r}):"/conversions/tag_manual_setup/";case n.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case n.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case n.qp.CONVERSION_UPLOAD:return(0,i.Z)("/conversions/upload/",{subPage:o});case n.qp.UPLOAD_HISTORY:return(0,i.Z)("/conversions/history/",{subPage:o});case n.qp.PCA_UPLOAD_HISTORY:return(0,i.Z)("/conversions/pca_history/",{subPage:o});case n.qp.PCA_UPLOAD:return(0,i.Z)("/conversions/pca_upload/",{subPage:o});case n.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:return r||a?(0,i.Z)("/conversions/api_manual_setup/",{source:r,origin:a}):"/conversions/api_manual_setup/";case n.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:return r||a?(0,i.Z)("/conversions/api_partner_setup/",{source:r,origin:a}):"/conversions/api_partner_setup/";case n.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case n.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";default:return"/conversions/tag/"}},"pin-builder":e=>(0,i.Z)("/pin-builder/",e),purchases:()=>a.reporting(r("PURCHASE")),awareness_reserved:()=>a.reporting(r("IMPRESSION")),engagement:()=>a.reporting(r("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(r("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(r("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(r("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(r("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,i.Z)("/reporting/preferences/",e),report_builder:e=>(0,i.Z)("/report-center/builder/",e),report_history:e=>(0,i.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,i.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,i.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(r("AWARENESS")),traffic:()=>a.reporting(r("TRAFFIC")),app_installs:()=>a.reporting(r("APP_INSTALL")),catalog_sales:()=>a.reporting(r("CATALOG_SALES")),web_conversion:()=>a.reporting(r("WEB_CONVERSION")),video_view:()=>a.reporting(r("VIDEO_VIEW")),quick_promote:e=>(0,i.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,i.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>`/campaign-insights/${e.campaignId}/`},l=a},78309:(e,t,o)=>{o.d(t,{$N:()=>_,GY:()=>c,MZ:()=>r,NR:()=>u,Vn:()=>d,fm:()=>n,kM:()=>s,q6:()=>i,qp:()=>l,uV:()=>h,xL:()=>a});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},i={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},s={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS",PREPAID_CAMPAIGN_SPEND:"PREPAID_CAMPAIGN_SPEND_SUMMARY"},r={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce",PREMMERCE:"Premmerce",SEGMENT:"Segment",BRANCH:"Branch"},a={GTM:"GTM",SHOPIFY:"SHOPIFY",WORDPRESS:"WORDPRESS",WOOCOMMERCE:"WOOCOMMERCE",TEALIUM:"TEALIUM"},l={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_MANUAL_SETUP_FLOW:"PINTEREST_TAG_MANUAL_SETUP_FLOW",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_HEALTH:"CONVERSION_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN",CONVERSIONS_API_DEDUPLICATION:"CONVERSIONS_API_DEDUPLICATION",CONVERSIONS_API_PARTNER_SETUP_FLOW:"CONVERSIONS_API_PARTNER_SETUP_FLOW",CONVERSIONS_API_MANUAL_SETUP_FLOW:"CONVERSIONS_API_MANUAL_SETUP_FLOW",PINTEREST_EVENTS_OVERVIEW:"PINTEREST_EVENTS_OVERVIEW",PINTEREST_EVENT_HISTORY:"PINTEREST_EVENT_HISTORY"},c={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},d={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},u={DESTINATION:"destination",EXPIRY:"expiry",SOURCE:"attributionsrc",SOURCE_EVENT_ID:"source_event_id",SOURCE_EVENT_TYPE:"source_event_type"},h=604800,_={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},267791:(e,t,o)=>{o.d(t,{default:()=>r});var n=o(268422),i=o(837792),s=o(17330);function r(e,t,o){if(!n.Z[e])throw new Error(`unknown url key: ${e}`);o||(o={});let r=n.Z[e](o);const a=function(e,t){let o=null;return e&&(o=e.advertiserId||null),!o&&t&&(o=t.id),o}(o,t);return"string"==typeof a&&(r="/advertiser/"+a+r),!!o.absolutify&&(r=(0,s.Z)(r,void 0,i.KU)),r}},572055:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(837792),i=o(178067);function s(e,t){let o="";if(e&&(o=e,t)){const s=(0,i.Z)(e,!0),r="/advertiser/",{hostname:a}=s;null!==a&&a!==n.KU||(e.startsWith(n.au)&&(e=e.replace(n.au,"")),o=e.startsWith(r)?e:r+t+e)}return o}},526750:(e,t,o)=>{o.d(t,{Z:()=>f});var n=o(667294),i=o(616550),s=o(883119),r=o(457628),a=o(791045),l=o(536042),c=o(988014),d=o(804484),u=o(282802),h=o(272109),_=o(567648),p=o(966633),g=o(392881),m=o(785893);const f=({disableMandatoryAgeCheck:e,focusOnMount:t,value:o,onChange:f,onError:x,onChangeParsed:b,onValidation:y,preventValidationOnStart:v,error:w,customPlaceholderText:P})=>{const[S,A]=(0,n.useState)(""),[C,E]=(0,n.useState)(!1),{country:T}=(0,u.B)(),j=(0,l.ZP)(),k=(0,i.useLocation)(),I=(0,n.useRef)(S);(0,n.useEffect)((()=>{I.current!==S&&(x&&S&&x(S),I.current=S)}));const O=(0,n.useRef)(null);(0,h.Z)((()=>{t&&O.current&&O.current.focus()}));const R=t=>{const o=(0,c.Ni)(k)&&(0,d.du)(T)||!e,n=(0,p.Z)(t||"",[...o?[(0,g.aH)({message:j._('You missed a spot! Let us know how old you are.', 'Required age validation error', 'Required age validation error')})]:[],(0,g.qA)({message:j._('Not a number.', 'Number field validation error message', 'Number field validation error message')}),(0,g.ZA)({invalidAgeString:j._('Please enter a valid number.', 'webapp.app.Signup.ageError', 'Error message when value entered for age is invalid')})]),i=(null==n?void 0:n.toString())||"";return null==y||y(i),i};(0,n.useEffect)((()=>{v||R(o)}),[]);const L=!!(0,_.Z)()||"1"!==r.U2(a.It);(0,n.useEffect)((()=>{L||C||(A(j._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Error message shown when underage user tries to register', 'Error message shown when underage user tries to register')),E(!0))}));const z=e=>{const t=R(e);A(t)};return(0,m.jsx)(s.nv,{ref:O,errorMessage:S||w,id:"age-input",disabled:!L,name:"age",value:o||"",onChange:e=>{const{value:t}=e,o=parseInt(t,10);t&&Number.isNaN(o)||(null==f||f(e),null==b||b(e.value?o:void 0),z(t))},onBlur:()=>{L&&(A(""),z(o))},hasError:!!S,size:"lg",autoComplete:"off",placeholder:P||j._('Age', 'Textfield placeholder', 'Textfield placeholder'),type:"text"})}},493214:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(883119),i=o(667294),s=o(874261),r=o(785893);const a="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",l=()=>Array(5).fill().map((()=>a[Math.floor(52*Math.random())])).join("");function c({children:e}){const t=(0,i.useMemo)((()=>e.replace("  "," ").split("").map((e=>({className:l(),content:e})))),[e]);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(s.Z,{unsafeCSS:t.map((({className:e,content:t})=>`.${e}:before { content: "${t}"; }`)).join(" ")}),t.map((({className:e})=>(0,r.jsx)("span",{className:e},e)))]})}var d=o(282802);const u=e=>e.startsWith("Promoted");function h({children:e,lineClamp:t,size:o,underline:i,weight:s}){const{isAuthenticated:a}=(0,d.B)(),l=a&&u(e);return(0,r.jsx)(n.xv,{size:o,lineClamp:t,underline:i,weight:s,title:l?"":e,children:l?(0,r.jsx)(c,{children:e}):e})}},883938:(e,t,o)=>{o.d(t,{CX:()=>a,ML:()=>i,N$:()=>r,Od:()=>n,yK:()=>s});const n="extensionNagCount",i=4,s=3,r=1050,a=880},905401:(e,t,o)=>{o.d(t,{O:()=>i,r:()=>n});const n="ref",i="os"},969327:(e,t,o)=>{o.d(t,{G6:()=>s,i7:()=>r,oi:()=>n,u$:()=>i,un:()=>l,vU:()=>a});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),i=e=>e?e.includes("Chrome")?n.CHROME:e.includes("Safari")?n.SAFARI:e.includes("Firefox")?n.FIREFOX:e.includes("Opera")?n.OPERA:e.includes("IE")?n.IE:e.includes("Edge")?n.EDGE:n.OTHER:n.OTHER;function s(e){return i(e)===n.SAFARI}function r(e){return i(e)===n.CHROME}function a(e){return i(e)===n.FIREFOX}function l(e){return i(e)===n.EDGE}},463310:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(965533),i=o(98736),s=o(799665);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,s.Z)(e)||(e="/",(0,i.My)("url_reset")),(0,n.Z)(e)}},519677:(e,t,o)=>{o.d(t,{Z:()=>n});const n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},980124:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z:()=>s});class i{static reportGoogleConversion(e,t,o,n){n||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,o):i.queuedGoogleConversions.push({id:e,label:t,url:o}))}static reportFacebookConversion(e,t,o){void 0!==window.fbq?o?window.fbq("track",t,o):window.fbq("track",t):i.queuedFacebookConversions.push({id:e,event:t,data:o})}static reportCustomFacebookConversion(e,t,o){void 0!==window.fbq?o?window.fbq("trackCustom",t,o):window.fbq("trackCustom",t):i.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:o})}static reportPinterestConversion(e,t,o){void 0!==window.pintrk?o?window.pintrk("track",t,o):window.pintrk("track",t):i.queuedPinterestConversions.push({id:e,event:t,data:o})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):i.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const o=document.createElement("img");o.setAttribute("height","1"),o.setAttribute("width","1"),o.setAttribute("role","presentation"),o.style.borderStyle="none",o.style.position="absolute",o.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(o,document.body.lastChild)}static reportLinkedInConversion(e,t){const o=document.createElement("img");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("role","presentation"),o.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static reportDoubleClickConversion(e,t,o){const n=1e13*Math.random(),i=document.createElement("iframe");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("frameborder","0"),i.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${o};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${n}?`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const o=document.createElement("script");t||(o.setAttribute("async",""),o.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),o.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,o){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,o){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==o&&window.location.assign(o)}}),!1};const o=i.queuedGoogleConversions;for(let n=0;n<o.length;n+=1){const s=o[n];s.id===e&&i.reportGoogleConversion(s.id,s.label,s.url,t)}}),document.body.insertBefore(o,document.body.firstChild)}static insertFacebookPixelTag(e){var t,o,n,s,r,a;t=window,o=document,n="script",t.fbq||(s=t.fbq=function(){s.callMethod?s.callMethod.apply(s,arguments):s.queue.push(arguments)},t._fbq||(t._fbq=s),s.push=s,s.loaded=!0,s.version="2.0",s.queue=[],(r=o.createElement(n)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(a=o.getElementsByTagName(n)[0]).parentNode.insertBefore(r,a)),window.fbq("init",e),window.fbq("track","PageView");const l=i.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?i.reportCustomFacebookConversion(e,t.event,t.data):i.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,o,n,i,s,r;t=window,o=document,n="script",t.twq||(i=t.twq=function(){i.exe?i.exe.apply(i,arguments):i.queue.push(arguments)},i.version="1.1",i.queue=[],(s=o.createElement(n)).async=!0,s.src="//static.ads-twitter.com/uwt.js",(r=o.getElementsByTagName(n)[0]).parentNode.insertBefore(s,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const o=document.getElementsByTagName("script")[0];o.parentNode.insertBefore(t,o)}}(),window.pintrk("load",e),window.pintrk("page");const t=i.queuedPinterestConversions;for(let o=0;o<t.length;o+=1){const n=t[o];n.id===e&&i.reportPinterestConversion(e,n.event,n.data)}}}n(i,"queuedGoogleConversions",[]),n(i,"queuedFacebookConversions",[]),n(i,"queuedPinterestConversions",[]),n(i,"queuedTwitterConversions",[]);const s=i},885999:(e,t,o)=>{o.d(t,{Fl:()=>l,Pw:()=>d,dl:()=>a,k3:()=>u,su:()=>h,tW:()=>c});var n=o(525571),i=o(5342),s=o(739425);const r=["AT","AU","BE","BR","CA","CH","CY","CZ","DE","DK","ES","FI","FR","GB","GR","HU","IE","IT","LU","MT","MX","NL","NO","NZ","PT","RO","SE","SK","US"],a=["AU","AT","BE","BR","CA","CY","CZ","DK","FI","FR","DE","GR","HU","IE","IT","LU","MT","MX","NL","NZ","NO","PL","PT","RO","SK","ES","SE","CH","GB","US","AR","CO","CL","JP"],l=e=>r.includes(e.toUpperCase()),c=Object.freeze({NOT_ANSWERED:0,YES:1,NO:2,NOT_SURE:3}),d=({requestContext:e,history:t,pinId:o})=>{((e,t)=>{const o=(0,s.ru)("/business/convert",{next:t});e.push(o)})(t,(e=>e?`/business/ad_create?pinId=${e}`:"/business/ad_create")(o))},u=e=>{const t=e.trim().split(" ").filter((e=>!!e));return{firstName:t.length>0?t[0]:"",lastName:t.length>1?t.slice(1).join(" "):""}},h=e=>e.isAuth&&!e.isPartner&&!(0,i.Z)(null,e)&&!(0,n.Z)(e.createdAt)},222443:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(616550),i=o(946618),s=o(525104);function r(){const e=(0,s.S6)(),t=(0,n.useLocation)();return(o,n)=>{let s;const r=e(o);if(null!=n&&n.shouldTrackForPrevLocation){const e=(null==r?void 0:r.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));r&&(s=t?e[t]:e.PinResource)}else if(r){var a,l;s=(0,i.Z)({boardUrl:null===(a=r.board)||void 0===a?void 0:a.url,location:t,pinId:r.id,pinnerUserName:null===(l=r.pinner)||void 0===l?void 0:l.username,storyPinDataId:r.story_pin_data_id,trackingParams:r.tracking_params,trackingParamsMap:r.tracking_params_map})}return s}}},777610:(e,t,o)=>{o.d(t,{Q:()=>c,Z:()=>d});var n=o(667294),i=o(682492),s=o.n(i),r=o(563962),a=o(788241),l=o(282802);function c(e,t){const{setViewContextData:o}=(0,a.sV)(),{requestIdentifier:i}=(0,l.B)(),c=(0,r.Z)(),{viewData:d}=(0,a.SU)();(0,n.useEffect)((()=>{var t;e&&(o({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?s()(d,e.view_data):s()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:i}))}),[t])}function d(e){const{children:t,log:o}=e;return c(o),t||null}},583592:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294);function i(e,t){return`\n  ${"consumer"===t?`${e}Consumer`:`use${e}`} must be used within a ${e}Provider.\n  Please see https://pdocs.pinadmin.com/docs/webapp/testing-jest#createhydra-errors for more information.\n  `}function s(e,t){const o=(0,n.createContext)(t),{messageDisplayName:s}=function(e,t){let o=e.slice(1);if(o=o.endsWith("Context")?o:`${o}Context`,t)return{hocDisplayName:`with${e[0].toUpperCase()}${o}(${t})`};return{propsDisplayName:`${e[0].toLowerCase()}${o}`,messageDisplayName:`${e[0].toUpperCase()}${o}`}}(e);o.displayName=s;const{Provider:r}=o,a=({children:e})=>{const t=(0,n.useContext)(o);if(void 0===t)throw new Error(i(s,"consumer"));return e(t)},l=()=>(0,n.useContext)(o);return r.displayName=`${s}Provider`,a.displayName=`${s}Consumer`,{Provider:r,Consumer:a,MaybeConsumer:({children:e})=>e((0,n.useContext)(o)),useMaybeHook:l,useHook:function(){const e=l();if(void 0===e)throw new Error(i(s,"hook"));return e}}}},406018:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{const t=new Date;return Math.floor(new Date(t.setFullYear(t.getFullYear()-e)).getTime()/1e3)}},308979:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t)=>{const o=new Date;return new Date(1e3*e)<=new Date(o.getFullYear()-(t||18),o.getMonth(),o.getDate())}},117651:(e,t,o)=>{function n(e){const t=Math.round(e/1e3),o=t%60;return Math.floor(t/60)+":"+(o<10?"0":"")+o}o.d(t,{Z:()=>n})},560544:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>Math.floor(new Date(e).getTime()/1e3)},950073:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{const t=new Date(e);return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())}},228742:(e,t,o)=>{o.d(t,{w:()=>E,Z:()=>j});var n=o(883119),i=o(204213),s=o(476366),r=o(970588),a=o(536042),l=o(785893);function c({callBack:e,color:t,email:o,inline:i,overrideText:s}){const c=(0,a.ZP)(),d=s||c._('Reset password', 'Request a password reset email', 'Request a password reset email');return(0,l.jsx)(n.zx,{accessibilityLabel:d,color:t||"red",fullWidth:i,onClick:()=>{(0,r.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:o}}).then((()=>e()))},text:d})}var d=o(630089);function u({email:e,onClose:t,onPasswordResetSent:o,socialButtons:r}){const u=(0,a.ZP)();return(0,l.jsx)(s.Z,{heading:u._('Looks like you\u2019re having trouble logging in', 'Modal heading for user who have attempted to login three times', 'Modal heading for user who have attempted to login three times'),onDismiss:t,size:"sm",children:(0,l.jsx)(n.xu,{alignItems:"center",justifyContent:"center",display:"flex",marginBottom:9,"data-test-id":"touchableErrorMessage",children:(0,l.jsxs)(n.kC,{alignItems:"center",direction:"column",width:290,children:[(0,l.jsx)(n.xu,{marginBottom:6,children:(0,l.jsx)(n.xv,{align:"center",children:(0,d.nk)(u._('We sent an email to {{ email }} to help you get back in.', ' - ', ' -- '),{email:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:e},"emailAddress")})})}),(0,l.jsx)(n.xu,{width:"100%",marginBottom:8,children:(0,l.jsx)(c,{inline:!0,color:"red",email:e,callBack:o,overrideText:u._('Resend email', 'Button to allow the user to request a password reset email', 'Button to allow the user to request a password reset email')})}),(0,l.jsx)(n.xv,{children:u._('Or log in with Facebook or Google', 'Upsell to use Facebook or Google for login', 'Upsell to use Facebook or Google for login')}),(0,l.jsx)(n.xu,{marginTop:4,marginBottom:12,width:"100%",children:r}),(0,l.jsx)(n.xu,{marginBottom:12,width:"100%",children:(0,l.jsx)(i.Z,{onClick:t})})]})})})}var h=o(302232);function _({email:e,loginWith:t,onClose:o,onPasswordResetSent:r}){const d=(0,a.ZP)();return(0,l.jsx)(s.Z,{heading:d._('Oops! Something went wrong', 'Modal heading', 'Modal heading'),onDismiss:o,size:"md",children:(0,l.jsxs)(n.xu,{paddingX:6,marginBottom:4,children:[(0,l.jsx)(n.xu,{marginBottom:6,children:"facebook"===t?(0,l.jsx)(n.xv,{children:d._('We couldn\u2019t match your Facebook account to any Pinterest account. Try resetting your password instead.', 'Notice that no Pinterest account exists for the Facebook account used to attempt login', 'Notice that no Pinterest account exists for the Facebook account used to attempt login')}):(0,l.jsx)(n.xv,{children:d._('We couldn\u2019t match your Google account to any Pinterest account. Try resetting your password instead.', 'Notice that no Pinterest account exists for the Facebook account used to attempt login', 'Notice that no Pinterest account exists for the Facebook account used to attempt login')})}),(0,l.jsx)(c,{inline:!0,email:e,callBack:r}),(0,l.jsx)(n.xu,{marginTop:2,children:(0,l.jsx)(i.Z,{onClick:o})})]})})}var p=o(667294),g=o(550140),m=o(837792);const f="?source=account_recovery";function x({email:e,onClose:t}){const o=(0,a.ZP)(),[r,u]=(0,p.useState)(!1);return(0,l.jsxs)(p.Fragment,{children:[(0,l.jsx)(s.Z,{heading:o._('Password reset email sent', 'Modal label for confirmation of password reset send', 'Modal label for confirmation of password reset send'),onDismiss:t,children:(0,l.jsxs)(n.xu,{paddingX:6,marginBottom:4,children:[(0,l.jsx)(n.xv,{overflow:"normal",children:(0,d.nk)(o._('We sent instructions to pick a new password to {{ email }}.', 'Statement that a password reset email has been sent to the user', 'Statement that a password reset email has been sent to the user'),{email:(0,l.jsx)(n.xv,{inline:!0,overflow:"normal",weight:"bold",children:e},"emailAddress")})}),(0,l.jsx)(n.xu,{paddingY:4,children:(0,l.jsx)(c,{inline:!0,color:"gray",email:e,callBack:()=>u(!r),overrideText:o._('Resend email', 'Button to allow the user to request a password reset email', 'Button to allow the user to request a password reset email')})}),(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(n.xu,{marginBottom:4,children:(0,l.jsx)(n.xv,{children:(0,d.nk)(o._('Didn\u2019t get the email? Try these {{ tips }}', 'Direction to help center if the password reset email failed', 'Direction to help center if the password reset email failed'),{tips:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(n.rU,{display:"inlineBlock",target:"blank",href:"https://www.pinterest.com/_/_/help/articles/trouble-pinterest-emails"+f,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o._('tips from our Help Center', 'Link text to go to help center', 'Link text to go to help center')},"helpCenterLink")},"helpCenter")})})}),(0,l.jsx)(n.xu,{marginBottom:4,children:(0,l.jsx)(n.xv,{children:(0,d.nk)(o._('Not your email address? {{ tryAgain }}', 'Link to password reset flow for users who make an incorrect password reset request', 'Link to password reset flow for users who make an incorrect password reset request'),{tryAgain:(0,l.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(n.rU,{display:"inlineBlock",href:m.lf,onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:o._('Try another', 'Link text to enter the password reset flow for a different email address/username', 'Link text to enter the password reset flow for a different email address/username')},"passwordResetLink")},"tryAgain")})})})]}),(0,l.jsx)(n.xu,{children:(0,l.jsx)(i.Z,{color:"red",onClick:t})})]})}),r&&(0,l.jsx)(n.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,l.jsx)(g.ZP,{onHide:()=>u(!r),text:o._('Email sent!', ' - ', ' -- '),duration:3500})})]})}const b=480;function y({email:e,onClose:t,onPasswordResetSent:o,socialButtons:r}){const d=(0,a.ZP)();return(0,l.jsx)(s.Z,{heading:d._('We protected your account', 'Modal heading for user who need to recover their accounts', 'Modal heading for user who need to recover their accounts'),onDismiss:t,size:b,children:(0,l.jsxs)(n.xu,{paddingX:12,marginBottom:8,children:[(0,l.jsx)(n.xu,{paddingX:4,marginBottom:4,children:(0,l.jsx)(n.xv,{align:"center",children:d._('For security purposes we\'ve reset your Pinterest account password and logged you out on all devices and browsers.', 'softBannedAccountModal.modal.description', 'Statement that we reset the password and logged user out')})}),(0,l.jsx)(n.xu,{paddingX:4,marginBottom:4,children:(0,l.jsx)(n.xv,{align:"center",children:d._('Reset your password or log in with Facebook or Google to get back into your account.', 'Prompt to take action to reset password or upsell login with Facebook/Google', 'Prompt to take action to reset password or upsell login with Facebook/Google')})}),(0,l.jsxs)(n.xu,{paddingX:12,children:[(0,l.jsx)(n.xu,{paddingY:2,children:(0,l.jsx)(c,{inline:!0,email:e,callBack:o})}),r,(0,l.jsx)(n.xu,{marginTop:4,children:(0,l.jsx)(i.Z,{onClick:t})})]})]})})}var v=o(327875),w=o(94802),P=o(751222),S=o(315219),A=o(950861),C=o(785629);const E={[S.OW]:A.Ny.RATE_LIMITED,[S.bd]:A.Ny.RATE_LIMITED,[S.$j]:A.Ny.SOFT_BANNED,[S.an]:A.Ny.SUSPENDED,[S.RL]:A.Ny.LOGIN_ASSISTANCE,[S.yV]:A.Ny.SOFT_BANNED,[C.Ej]:A.Ny.RATE_LIMITED},T=({onLoginWithMfa:e,onLoginWithSuspended:t,onLoginWithVoluntarilyDeactivated:o,updateAccountRecoveryModal:i})=>(0,l.jsxs)(n.xu,{children:[(0,l.jsx)(w.Z,{container:"account_recovery",disablePostSignupNextUrl:!0,onLoginWithMfa:e,onLoginWithSuspended:t,showFallback:!0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>i(A.Ny.PREVENT_FACEBOOK_REGISTER)},showLoginRateLimited:()=>i(A.Ny.RATE_LIMITED)}),(0,l.jsx)(n.xu,{marginTop:2,children:(0,l.jsx)(P.Z,{container:"account_recovery",onLoginWithMfa:e,onLoginWithSuspended:t,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:()=>i(A.Ny.PREVENT_GOOGLE_REGISTER)},onLoginWithVoluntarilyDeactivated:e=>{i(null),null==o||o(e)},showLoginRateLimited:()=>i(A.Ny.RATE_LIMITED)})})]});function j({email:e,modalType:t,onLoginWithMfa:o,onLoginWithSuspended:n,onLoginWithVoluntarilyDeactivated:i,updateAccountRecoveryModal:s}){const r=()=>s(null),a=()=>s(A.Ny.PASSWORD_RESET_SENT),c=(0,l.jsx)(T,{onLoginWithMfa:o,onLoginWithSuspended:n,onLoginWithVoluntarilyDeactivated:i,updateAccountRecoveryModal:s});switch(t){case A.Ny.SUSPENDED:return(0,l.jsx)(v.Z,{onClose:r});case A.Ny.LOGIN_ASSISTANCE:return(0,l.jsx)(u,{email:e,onClose:r,onPasswordResetSent:a,socialButtons:c});case A.Ny.RATE_LIMITED:return(0,l.jsx)(h.Z,{onClose:r});case A.Ny.SOFT_BANNED:return(0,l.jsx)(y,{email:e,onClose:r,onPasswordResetSent:a,socialButtons:c});case A.Ny.PREVENT_FACEBOOK_REGISTER:case A.Ny.PREVENT_GOOGLE_REGISTER:return(0,l.jsx)(_,{email:e,onClose:r,onPasswordResetSent:a,loginWith:t===A.Ny.PREVENT_FACEBOOK_REGISTER?"facebook":"google"});case A.Ny.PASSWORD_RESET_SENT:return(0,l.jsx)(x,{email:e,onClose:r});default:return null}}},204213:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(536042),s=o(785893);function r({color:e,onClick:t,overrideText:o}){const r=(0,i.ZP)(),a=o||r._('Got it', 'Acknowledge protected account modal message', 'Acknowledge protected account modal message');return(0,s.jsx)(n.zx,{fullWidth:!0,accessibilityLabel:a,color:e||"gray",onClick:t,text:a})}},476366:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(667294),i=o(883119),s=o(591057),r=o(906215),a=o(455788),l=o(785893);function c({children:e,headingNode:t,heading:o,onDismiss:c,size:d}){return(0,n.useEffect)((()=>(r.Z.pause(),function(){r.Z.resume()})),[]),(0,l.jsx)(i.mh,{zIndex:s.C,children:(0,l.jsx)(a.Z,{allowEsc:!0,children:(0,l.jsx)(i.u_,{accessibilityModalLabel:o,heading:t||o,onDismiss:()=>{r.Z.resume(),c()},role:"alertdialog",size:d||"md",padding:"none",children:e})})})}},302232:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(476366),s=o(536042),r=o(785893);function a({onClose:e}){const t=(0,s.ZP)();return(0,r.jsxs)(i.Z,{heading:t._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times'),onDismiss:e,size:"sm",headingNode:(0,r.jsxs)(n.xu,{children:[(0,r.jsx)(n.xu,{padding:6,justifyContent:"center",display:"flex",children:(0,r.jsx)(n.JO,{icon:"pinterest",accessibilityLabel:t._('Pinterest logo', 'Accessibility label for Pinterest icon', 'Accessibility label for Pinterest icon'),color:"brandPrimary",size:40})}),(0,r.jsx)(n.X6,{align:"center",size:"500",accessibilityLevel:1,children:t._('Oops! Too many login attempts', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})]}),children:[(0,r.jsx)(n.xu,{paddingX:12,marginTop:4,marginBottom:12,children:(0,r.jsx)(n.xv,{align:"center",children:t._('You have reached the maximum number of login attempts. Try again in 30 minutes.', 'LoginRateLimitedModal.Modal.Heading', 'Modal heading for user who have tried to login too many times')})}),(0,r.jsx)(n.xu,{paddingX:12,marginBottom:8,justifyContent:"center",display:"flex",children:(0,r.jsx)(n.zx,{fullWidth:!0,color:"red",text:t._('Okay', 'LoginRateLimitedModal.Modal.OkButton', 'Okay button used to close modal'),onClick:e})})]})}},327875:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(883119),s=o(204213),r=o(476366),a=o(406539),l=o(536042),c=o(630089),d=o(785893);function u({onClose:e}){const t=(0,l.ZP)(),o=t._('Common reasons for account deactivation include:', ' - ', ' -- '),u=t._('{{ help_link }} if you have questions or would like to reactivate your account.', ' - ', ' -- '),h=[t._('Violating Pinterest Community Guidelines.', 'One example reason for account deactivation', 'One example reason for account deactivation'),t._('We noticed unusual activity on your account.', 'One example reason for account deactivation', 'One example reason for account deactivation'),t._('You requested an account closure.', 'One example reason for account deactivation', 'One example reason for account deactivation')];return(0,d.jsx)(r.Z,{heading:t._('Your account has been deactivated', 'Modal heading for user who have attempted to login with a deactivated account', 'Modal heading for user who have attempted to login with a deactivated account'),onDismiss:e,size:"md",children:(0,d.jsxs)(i.xu,{paddingX:6,marginBottom:4,children:[(0,d.jsxs)(i.xu,{marginBottom:4,children:[(0,d.jsxs)(i.xv,{children:[" ",o," "]}),(0,d.jsx)(i.xu,{paddingY:2,children:(0,d.jsx)(n.Fragment,{children:h.map((e=>(0,d.jsx)(i.xv,{children:"• "+e},`reasons-${e}`)))})}),(0,d.jsx)(i.xv,{inline:!0,children:(0,c.nk)(u,{help_link:(0,d.jsx)(a.q,{},"suspended user help_link")})})]}),(0,d.jsx)(i.xu,{marginTop:4,children:(0,d.jsx)(s.Z,{color:"red",onClick:e,overrideText:t._('Got it', 'Acknowledge suspended account modal message', 'Acknowledge suspended account modal message')})})]})})}},406539:(e,t,o)=>{o.d(t,{q:()=>r});var n=o(883119),i=o(536042),s=o(785893);const r=()=>{const e=(0,i.ZP)();return(0,s.jsx)(n.rU,{display:"inlineBlock",href:"https://help.pinterest.com/login-request?what_do_you_need_help_with=Getting+into+my+account&tell_more_account_access=Appeal+account+suspension",onClick:({dangerouslyDisableOnNavigation:e})=>e(),underline:"hover",children:e._('Contact us', 'link text shown to redirect to help.pinterest.com for appealing a suspension', 'link text shown to redirect to help.pinterest.com for appealing a suspension')})}},384955:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(536042),i=o(785893);function s(){const e=(0,n.ZP)();return(0,i.jsx)("p",{style:{marginBottom:"8px",marginTop:"8px",overflow:"hidden",textAlign:"center",fontSize:"14px",color:"#333",fontWeight:"bold"},children:e._('OR', ' - ', ' -- ')})}},38730:(e,t,o)=>{o.d(t,{Z:()=>s,m:()=>i});var n=o(785893);const i="\n.red.active:focus,\n.red.active:hover {\n  background-color: #d50c22 !important;\n}\n.lightGrey.active:focus,\n.lightGrey.active:hover {\n  background-color: #f5f3f3 !important;\n}\n.SignupButton:focus {\n  box-shadow: 0 0 0 4px rgba(0, 132, 255, 0.5);\n  outline: 0;\n}\n";function s({accessibilityLabel:e,children:t,className:o,dataTestId:i,disabled:s,href:r,id:a,noButtonStyles:l,onClick:c,styleOverrides:d,tabIndex:u,type:h}){const _=(o?o.split(" "):[]).concat(s?[]:["active"]);let p=l?{background:"none",border:"none",padding:"0",textAlign:"left",display:"block"}:{border:"0px",height:"40px",display:"inline-block",borderRadius:"4px",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",padding:"0 18px",fontSize:"15px",fontWeight:"bold",cursor:"pointer",marginTop:"10px",verticalAlign:"middle",textAlign:"center",...s&&{backgroundColor:"#efefef",color:"#767676"}||_.includes("red")&&{backgroundColor:"#e60023",color:"#fff"}||_.includes("lightGrey")&&{backgroundColor:"#ebebeb",color:"#444"}};return p={...p,...d},s&&(p={...p,cursor:"not-allowed"}),(0,n.jsx)("button",{"aria-label":e||"",className:_.join(" "),"data-test-id":i,disabled:s,href:r,id:a,onClick:c,...u?{tabIndex:u}:{},style:p,type:h||"button",children:t})}},94802:(e,t,o)=>{o.d(t,{Z:()=>z});var n=o(667294),i=o(883119),s=o(308979),r=o(243600),a=o(38730),l=o(891643),c=o(45818),d=o(125715);const u=({onError:e,onEventReceived:t,onSuccess:n,rerequestFacebookEmail:i,viewer:s})=>{let r=null;const a=o=>{const i=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(o.origin!==i)return;if("social-connect-complete"!==o.data.type&&"social-connect-error"!==o.data.type)return;const s=o.data;"facebook"===s.network&&(t(),clearInterval(r),"social-connect-error"===s.type?e("OTHER_ERROR"):n({type:"PROFILE",profile:s.profile}))};if(window.addEventListener("message",a),i)o.e(51798).then(o.bind(o,49387)).then((({default:t})=>{t((t=>{t.login((t=>{var o;"connected"===t.status&&((null===(o=t.authResponse.grantedScopes)||void 0===o?void 0:o.split(","))||[]).includes("email")?n({type:"ACCESS_TOKEN",id:t.authResponse.userID,access_token:t.authResponse.accessToken}):e("OTHER_ERROR")}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),s)}));else{const t=(0,d.Z)(),o=window.open("/connect/facebook/","",t);o?r=setInterval((()=>{o.closed&&(clearInterval(r),e("OTHER_ERROR"))}),1e3):e("POPUP_DISABLED")}return{unsubscribe:()=>{window.removeEventListener("message",a)}}};var h=o(261551),_=o(785893);function p({anchor:e,message:t,children:o}){const[s,r]=(0,n.useState)(!!t);return(0,n.useEffect)((()=>{r(!!t)}),[t]),s&&t?(0,_.jsx)(i.J2,{anchor:e,color:"darkGray",idealDirection:"right",onDismiss:()=>r(!0),shouldFocus:!1,size:"md",children:(0,_.jsx)(i.xu,{column:12,padding:3,children:o?(0,_.jsx)("span",{children:o}):(0,_.jsx)("span",{dangerouslySetInnerHTML:{__html:t},style:{overflowWrap:"break-word",wordWrap:"break-word",color:"white",fontWeight:"bold"}})})}):null}var g=o(152448),m=o(321443),f=o(759495),x=o(95983),b=o(391670),y=o(536042),v=o(752977),w=o(315219),P=o(450667),S=o(140523),A=o(710197),C=o(950861),E=o(804484),T=o(822123),j=o(245410),k=o(282802),I=o(98736),O=o(802071);function R(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class L extends n.Component{constructor(...e){var t;super(...e),t=this,R(this,"state",{showModal:!1}),R(this,"unsubscribeThisButton",null),R(this,"loginWithFacebook",(({facebookConnectData:e,isFromStatusChange:t,isAccountSwitch:o,handlePostSuccessConnect:n,loadingIndicatorCallback:i})=>{const{checkExperiment:s,container:r,desktopCoreLoginContext:{getDeviceAppTypeString:a},i18n:l,login:d,onLoginWithMfa:u,onLoginWithSuspended:h,pageContext:_,showResponseMessageModal:p,showLoginRateLimited:g,socialSignupCallbacks:f}=this.props,x={container:r,page:null==_?void 0:_.pageType},b="PROFILE"===(y=e).type?{facebook_id:y.profile.id}:{facebook_id:y.id,facebook_token:y.access_token};var y;d({creds:b,loggingOptions:{loggingData:x,loginAttemptContextEvent:this.signupLoginContextEvent(7534)},isAccountSwitch:o}).then((e=>{var t,i;const l=null==e||null===(t=e.resource_response)||void 0===t||null===(i=t.data)||void 0===i?void 0:i.user;o&&l&&(0,v.Z)(l,"facebook",r),(0,I.My)("login.facebook."+a()),p?p(!0):C.ZP.handleRedirect(this.props.nextUrlParam||C.ZP.defaultSocialLoginRedirectUrl()),null==n||n(),s("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,m.Z)()}),(o=>{var n;o.api_error_code===w.Zn?(null==i||i(!1),(0,I.My)("login.facebook."+a()),null==u||u(b,{phoneNumberEnd:null===(n=o.data)||void 0===n?void 0:n.phone_number_end})):o.api_error_code===w.xN||o.api_error_code===w.lg?"ACCOUNT_RECOVERY"===f.type?f.switchToAccountRecoverySignupFlow("facebook"):this.registerWithFacebook({facebookConnectData:e,loggingData:x,isFromStatusChange:t,switchToSocialSignupWithAgeFlow:f.switchToSocialSignupWithAgeFlow}):[w.ik].includes(o.api_error_code)?null==g||g():(o.api_error_code&&(0,I.My)(`facebook_button.failed_login_${o.api_error_code}`),o.api_error_code===w.an&&h?h():(0,c.x)(l._('Sorry, we can\'t log you in.', 'error message when user failed to login caused by suspend/deactivated etc.', 'error message when user failed to login caused by suspend/deactivated etc.')))}))})),R(this,"statusChangeCallback",(e=>{var t,o;null===(t=(o=this.props).onClick)||void 0===t||t.call(o);const{connectErrorMessage:n,handlePostSuccessConnect:i,isAccountSwitch:s,loadingIndicatorCallback:r}=this.props;let a;if((0,I.EX)({event:"start",provider:"facebook"}),"connected"===e.status){const{authResponse:t}=e;(0,I.My)("web.facebook_connect_button.login_status.connected"),null==r||r(!0),this.loginWithFacebook({facebookConnectData:{type:"ACCESS_TOKEN",id:t.userID,access_token:t.accessToken},isFromStatusChange:!0,isAccountSwitch:s,handlePostSuccessConnect:i,loadingIndicatorCallback:r}),a="success"}else"not_authorized"===e.status?((0,I.My)("web.facebook_connect_button.cancel.not_authorized"),(0,c.x)(n),a="not_authorized"):((0,I.My)("web.facebook_connect_button.cancel.unknown"),(0,c.x)(n),a="other_error");const{handlePostConnectClick:l}=this.props;null==l||l(a)})),R(this,"showDefaultError",(()=>{const{i18n:e,loadingIndicatorCallback:t}=this.props;null==t||t(!1),(0,c.x)(e._('Email required for registration.', ' - ', ' -- '))})),R(this,"registerWithFacebook",(async function({facebookConnectData:e,loggingData:o,isFromStatusChange:n,switchToSocialSignupWithAgeFlow:i}){(0,I.Rp)({event:"start",provider:"facebook"});const{checkExperiment:r,desktopCoreLoginContext:{register:a},disablePostSignupNextUrl:l,loadingIndicatorCallback:c,nextUrlParam:d,onFBMissingEmail:u,onFBPhoneOnlyConnectVerified:_,showResponseMessageModal:p,showSignupWelcomeLoadingFn:g}=t.props,m=()=>{t.showDefaultError(),n||(t.rerequestFacebookEmail=!0)};let f=null;if("PROFILE"===e.type)f={...e.profile};else try{f=await(0,P.MI)(e.access_token,r("web_unauth_identity_meta_birthdate_removal").anyEnabled)}catch(w){m()}if(!f)return;const x=(0,h.Z)(f),b={type:"facebook",context:o,signupOptions:x};if(!f.email)return void(_?(n||null==c||c(!1),_(b)):n&&u?u(b):m());const y={birthday_source_site:E.E_.FACEBOOK,email_source_site:E.E_.FACEBOOK};if(!n)return void i(b);const{birthday:v}=x;if(void 0===v||!(0,s.Z)(v))return null==c||c(!1),void i({...b,signupOptions:{...b.signupOptions,email_source_site:E.E_.FACEBOOK}});p||null==g||g(!0),(0,I.Rp)({event:"signup_api_call_start",provider:"facebook"});try{await a({...x,...y,birthday:v},{signupContext:o,signupAttemptContextEvent:t.signupLoginContextEvent(7537)}),(0,I.Rp)({event:"signup_api_call_success",provider:"facebook"})}catch(w){(0,I.Rp)({event:"signup_api_call_failure",provider:"facebook"}),m()}p?p(!0):C.ZP.handleSignupRedirect(n?d:d||window.location.pathname,l)}))}componentDidMount(){if(this.props.webFacebookDisabled)return;"undefined"!=typeof window&&(window.statusChangeCallback=this.statusChangeCallback,window.checkLoginState=()=>this.checkLoginState(),window.fbConnectButtonContainerStack?window.fbConnectButtonContainerStack.push(this.props.container):window.fbConnectButtonContainerStack=[this.props.container],window.nextUrlParam=this.props.nextUrlParam,window.fbButtonMounted=window.fbButtonMounted?window.fbButtonMounted+1:1);const{requestContext:{userAgent:{platform:e}}}=this.props;if(["ios","ipad"].includes(e))if(window.fb_init!==S.Z.STARTED&&window.fb_init!==S.Z.FINISHED)this.initializeFB();else if(window.fb_init===S.Z.FINISHED&&window.FB.XFBML)window.FB.XFBML.parse();else{const e=setInterval((()=>{window.fb_init===S.Z.FINISHED&&window.FB.XFBML&&(window.FB.XFBML.parse(),clearInterval(e))}),100)}else setTimeout((()=>{window.__branchRedirectToStore||!window.__branchPinterestStarted?this.initializeFB():window.onbeforeunload=()=>{window.__branchRedirectToStore&&this.initializeFB()}}),50);var t,o,n,i;this.props.isRerequest&&(null===(t=(o=this.props).loadingIndicatorCallback)||void 0===t||t.call(o,!1),null===(n=(i=this.props).showSignupWelcomeLoadingFn)||void 0===n||n.call(i,!1))}componentDidUpdate(){window.nextUrlParam=this.props.nextUrlParam}componentWillUnmount(){if("undefined"!=typeof window){if(window.fbButtonMounted-=1,window.fbConnectButtonContainerStack){const e=window.fbConnectButtonContainerStack.indexOf(this.props.container);e>=0&&window.fbConnectButtonContainerStack.splice(e,1)}0===window.fbButtonMounted&&(delete window.statusChangeCallback,delete window.checkLoginState,delete window.nextUrlParam)}}initializeFB(){const{requestContext:{locale:e}}=this.props;null!==this.profilePicButton&&(void 0!==window.FB&&null!==window.FB?window.FB.XFBML.parse():(window.fbAsyncInit=()=>(0,P.sl)(),((t,o,n)=>{const i=t.getElementsByTagName(o)[0];if(t.getElementById(n))return;const s=t.createElement(o);s.id=n,s.src=(0,A.Z)(e),i&&i.parentNode&&i.parentNode.insertBefore(s,i)})(document,"script","facebook-jssdk")))}checkLoginState(){window.FB.getLoginStatus((function(e){this.statusChangeCallback&&this.statusChangeCallback(e)}))}signupLoginContextEvent(e){const{desktopCoreLoginContext:{viewer:t}}=this.props;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:T.Z.FACEBOOK}}}renderProfilePicButtonWithFallback(){const{i18n:e,isRerequest:t,showFallback:o,checkExperiment:n}=this.props;return(0,_.jsxs)(i.xu,{"data-test-id":"facebook-connect-button",ref:e=>{this._fallbackButton=e},children:[(0,_.jsx)(a.Z,{onClick:()=>{var e;const{connectErrorMessage:t,desktopCoreLoginContext:{getDeviceAppTypeString:o},i18n:n,webFacebookDisabled:i,viewer:s}=this.props;if(i)return void this.setState({showModal:!0});(0,I.My)("fallback_facebook_button.click"),(0,I.NC)("press_facebook_login_fallback"),(0,I.My)("unauth_web.facebook_connect.manual.attempt"),(0,I.My)(`unauth_web.social_connect.facebook.${o()}`),(0,I.EX)({event:"start",provider:"facebook"}),null===(e=this.unsubscribeThisButton)||void 0===e||e.call(this);const{unsubscribe:r}=u({onSuccess:e=>{(0,I.My)("unauth_web.facebook_connect.manual.success"),this.loginWithFacebook({facebookConnectData:e,isFromStatusChange:!1})},onError:e=>{(0,I.My)("unauth_web.facebook_connect.manual.failure"),(0,c.x)("POPUP_DISABLED"===e?n._('You must enable popups!', ' - ', ' -- '):t)},onEventReceived:()=>{var e;null===(e=this.unsubscribeThisButton)||void 0===e||e.call(this)},rerequestFacebookEmail:this.rerequestFacebookEmail,viewer:s});this.unsubscribeThisButton=()=>{r(),this.unsubscribeThisButton=null}},styleOverrides:{backgroundClip:"padding-box",backgroundColor:"#1877F2",display:"block",fontWeight:"normal",height:"40px",marginTop:"0px",padding:"0px 0px 0px 8px",position:o?"relative":"absolute",textAlign:"left",transition:"opacity .2s linear",width:"100%",borderRadius:"20px"},tabIndex:-1,children:(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,_.jsx)(i.xu,{color:"default",rounding:"circle",marginStart:1,dangerouslySetInlineStyle:{__style:{paddingTop:4,paddingBottom:3,paddingRight:3,paddingLeft:3}},height:24,width:24,children:(0,_.jsx)(i.JO,{accessibilityLabel:e._('facebook', 'accessible label for facebook icon', 'accessible label for facebook icon'),color:"shopping",icon:"facebook",inline:!0,size:19})}),(0,_.jsx)("span",{style:{color:"#fff",display:"inline-block",fontFamily:r.Z,fontSize:"16px",fontWeight:"bold",letterSpacing:"0.1px",lineHeight:"15px",marginRight:"24px",marginLeft:"15px",paddingTop:"4px",textAlign:"center",verticalAlign:"text-bottom",WebkitFontSmoothing:"auto",whiteSpace:"normal",width:"88%"},children:e._('Continue with Facebook', ' - ', ' -- ')})]})}),!o&&(0,_.jsx)(i.xu,{height:40,dangerouslySetInlineStyle:{__style:{textAlign:"left"}},ref:e=>{this.profilePicButton=e},children:(0,_.jsx)("div",{className:"fb-login-button","data-auth-type":t?"rerequest":void 0,"data-button-type":"continue_with","data-layout":"rounded","data-onlogin":"checkLoginState","data-scope":(0,P._V)(n("web_unauth_identity_meta_birthdate_removal").anyEnabled).join(","),"data-size":"large","data-use-continue-as":"true","data-width":"268px"})})]})}render(){const{tooltip:e}=this.props;return(0,_.jsxs)("div",{style:{position:"relative"},children:[this.renderProfilePicButtonWithFallback(),!!e&&(0,_.jsx)(p,{anchor:this._fallbackButton,message:e}),this.state.showModal&&(0,_.jsx)(g.Z,{type:"facebook",onDismiss:()=>this.setState({showModal:!1})})]})}}function z(e){const t=(0,y.ZP)(),o=(0,k.B)(),n=(0,l.B$)(),i=(0,b.lO)(),{checkExperiment:s}=(0,j.F)(),{anyEnabled:r}=s("web_facebook_disabled"),a=(0,O.Z)();return(0,_.jsx)(L,{...e,connectErrorMessage:t._('Couldn\'t connect. You must authorize Pinterest.', ' - ', ' -- '),desktopCoreLoginContext:n,i18n:t,login:(0,f.Z)(),requestContext:o,pageContext:i,webFacebookDisabled:r,viewer:a,checkExperiment:s})}},912127:(e,t,o)=>{o.r(t),o.d(t,{default:()=>ht});var n=o(667294),i=o(616550),s=o(883119),r=o(965533),a=o(563962),l=o(938547),c=o.n(l),d=o(682126),u=o(457628),h=o(791045),_=o(560544),p=o(891643),g=o(38730),m=o(785893);const f=({margin:e,wideLight:t})=>(0,m.jsx)("div",{style:{borderBottom:(t?"#efefef":"#dedede")+" 1px solid",margin:null!=e?e:"10px auto",width:t?404:110}});var x=o(95983),b=o(536042),y=o(282802),v=o(837792),w=o(98736),P=o(618569),S=o(3060);function A({type:e}){const{viewer:t}=(0,p.B$)(),o=(0,b.ZP)(),n=(0,a.Z)(),i=`${S.C0}${v.Hm}`;return(0,m.jsxs)(s.xu,{display:"flex",alignItems:"center",justifyContent:"center",fit:!0,marginTop:2,marginEnd:"auto",marginBottom:1,marginStart:"auto",children:[(0,m.jsx)(s.xv,{size:"100",weight:"normal",children:o._('Are you a business?', 'Prompt for business signup', 'Prompt for business signup')}),(0,m.jsx)(s.xu,{"data-test-id":"business-start",marginStart:1,children:(0,m.jsx)(s.rU,{href:i,underline:"none",target:"blank",onClick:()=>{(0,w.My)("unauth.business_link.click"),n({event_type:101,component:"signupToLogin"===e?13096:13867,element:10281,aux_data:(0,x.Z)(t.type)})},children:(0,m.jsx)(s.xv,{size:"100",weight:"bold",children:o._('Get started here!', 'Prompt for signing up', 'Prompt for signing up')})})})]})}const C=({children:e,layout:t})=>{const{isRTL:o}=(0,y.B)();switch(t){case"SIGNUP_LARGE":return(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.xu,{marginTop:4,children:e})});case"SIGNUP_SMALL":return(0,m.jsx)(s.xu,{marginTop:3,children:e});case"SIGNUP_WITH_AGE":return(0,m.jsx)(s.xu,{margin:-4,children:(0,m.jsx)(s.xu,{padding:3,"data-test-id":"login-button",children:e})});case"LOGIN_INLINE":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(f,{}),(0,m.jsx)(s.xu,{display:"inlineBlock",marginEnd:1,children:e})]});case"LOGIN_SMALL":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(f,{}),e]});case"SIGNUP_DEFAULT":case"LOGIN_DEFAULT":return(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(f,{margin:"SIGNUP_DEFAULT"===t?o?"20px -68px 15px 0px":"20px 0px 15px -68px":o?"20px 30px 15px -10px":"20px -10px 15px -68px",wideLight:!0}),(0,m.jsx)(s.xu,{children:e})]});default:return e}};function E({layout:e,onClick:t,shouldHideBusinessCreateFooterLink:o,type:n}){const i=(0,b.ZP)(),r=(0,P.Z)();return(0,m.jsxs)(C,{layout:e,children:[(0,m.jsx)(s.xu,{display:"flex",fit:!0,marginEnd:"auto",marginBottom:1,alignItems:"center",justifyContent:"center",children:(0,m.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"center",children:["signupToLogin"===n&&(0,m.jsx)(s.xv,{size:"100",children:i._('Already a member?', 'modernized.nux.footer.text', 'Header text to switch from the sign up modal to the login modal ')}),(0,m.jsx)(g.Z,{noButtonStyles:!0,onClick:e=>{r({action:"click",item:"email-signup-button"}),t(e)},styleOverrides:{color:"#333",marginLeft:"5px",fontWeight:"bold"},type:"button",dataTestId:"login-signup-toggle",children:"signupToLogin"===n&&i._('Log in', 'modernize.nux.switch.to.login.modal', 'Toggle to switch from the sign up modal to the login modal')||i._('Not on Pinterest yet? Sign up', 'nux.unauth.user.sign.up.message', 'Toggle to switch from the login modal to the sign up modal')})]})}),!o&&(0,m.jsx)(A,{type:n})]})}var T=o(435983),j=o(654194),k=o(315219),I=o(950861),O=o(804484),R=o(822123),L=o(61833),z=o(813586);const N=({disablePostSignupNextUrl:e,handleLoginToggleButtonClick:t,loadingIndicatorCallback:o,nextUrlParam:i,registrationCredentials:r,showResponseMessageModal:a})=>{const l=(0,b.ZP)(),{register:g,viewer:f}=(0,p.B$)(),{refreshToken:y}=(0,L.D)(),[v,P]=(0,n.useState)(!1),[S,A]=(0,n.useState)(!0),[C,N]=(0,n.useState)(!1),[M,D]=(0,n.useState)(""),[B,Z]=(0,n.useState)(void 0);let U="other";switch(null==r?void 0:r.type){case"google":U="google";break;case"facebook":U="facebook";break;case"line":U="line"}(0,n.useEffect)((()=>{"1"===u.U2(h.It)&&(N(!0),D(l._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.birthdaycollection.ineligible.msg', 'Error message shown when underage user tries to register')))}),[l,D]),(0,n.useEffect)((()=>{(0,w.My)("dweb.signup_age_step",{type:null==r?void 0:r.type,format:"birthday"})}),[null==r?void 0:r.type]);const F=async()=>{if(!r||!B)return void o(!1);const t={...r.signupOptions,birthday:(0,_.Z)(B),birthday_source_site:O.E_.PINTEREST};try{const o={facebook:R.Z.FACEBOOK,google:R.Z.GPLUS,google_one_tap:R.Z.GOOGLE_ONE_TAP,line:R.Z.LINE,socialSignupWithAge:void 0}[r.type];let n;"google"===r.type?n=12981:"google_one_tap"===r.type&&(n=12982),(0,w.Rp)({event:"signup_api_call_start",provider:U}),await g(t,{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,element:n,aux_data:{...(0,x.Z)(f.type),...o?{signup_login_method:o}:Object.freeze({})}}}),(0,w.My)("dweb.birthdaycollection.signup_success"),(0,w.Rp)({event:"signup_api_call_success",provider:U}),a?a(!0):I.ZP.handleSignupRedirect(i,e)}catch(n){switch((0,w.Rp)({event:"signup_api_call_failure",provider:U}),y&&y(),n.api_error_code){case k.tz:(0,w.My)("dweb.birthdaycollection.signup_error.underage"),u.t8(h.It,"1",(0,u.kZ)(h.It)),P(!0);break;case k.NF:(0,w.My)("dweb.birthdaycollection.signup_error.eu_missing_age"),D(n.message||l._('We need to know your age to provide you this service.', 'signup.birthdaycollection.error.missingAge', 'Error message shown when age is required and it is missing'));break;case k.tL:(0,w.My)("dweb.birthdaycollection.signup_error.overage"),D(n.message||l._('Oops! Please use a valid age to sign up.', 'signup.birthdaycollection.error.overage', 'Error message shown when overage (age over 120) user tries to register'));break;case k.iZ:(0,w.My)("dweb.birthdaycollection.signup_error.invalid_email"),D(l._('Your email is invalid.', 'signup.birthdaycollection.error.invalidEmail', 'Error message shown when user inputs invalid email'));break;case k.Jt:(0,w.My)("dweb.birthdaycollection.signup_error.email_contain_pinterest"),D(l._('Please stick to your name, or the name of your brand', 'signup.birthdaycollection.error.emailContainsPinterest', 'Error message shown when email contains pinterest'));break;default:(0,w.My)("dweb.birthdaycollection.signup_error.other"),D(l._('Sorry! Something went wrong on our end.', 'signup.birthdaycollection.error.other', 'Error message shown when there is an unknown error'))}}};return v?(0,m.jsx)(j.Z,{birthday:B,onEditBirthday:()=>P(!1)}):(0,m.jsx)(s.xu,{paddingX:5,paddingY:5,children:(0,m.jsx)(s.xu,{paddingX:12,children:(0,m.jsxs)(s.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:[(0,m.jsx)(s.xu,{width:48,height:48,marginTop:5,marginBottom:1,children:(0,m.jsx)(s.Ee,{alt:l._('Birthday Image', 'signup.birthdaycollection.image.alt', 'Alt text for birthday cake image'),src:c(),naturalHeight:48,naturalWidth:48})}),(0,m.jsx)(s.xu,{marginBottom:2,children:(0,m.jsx)(s.X6,{align:"center",size:"600",children:l._('Enter your birthdate', 'signup.birthdaycollection.title', 'label for birthday collection')})}),(0,m.jsx)(s.xu,{width:310,marginBottom:4,children:(0,m.jsx)(s.xu,{marginBottom:4,children:(0,m.jsx)(s.xv,{align:"center",children:l._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don\'t share this information and it won\'t be visible on your profile.', 'signup.birthdaycollection.subheader1', 'Sign up birthday step subheader')})})}),(0,m.jsx)(s.xu,{width:280,marginBottom:4,children:(0,m.jsx)(s.nv,{autoComplete:"bday",disabled:C,errorMessage:M,id:"birthday",onChange:({value:e})=>{D(""),A(!e),Z(e)},size:"lg",type:"date",value:B||""})}),(0,m.jsx)(s.xu,{width:280,marginBottom:10,children:(0,m.jsx)(s.xv,{color:"subtle",align:"center",children:(0,d.ML)(l)})}),(0,m.jsx)(s.xu,{width:280,marginBottom:3,children:(0,m.jsx)(s.zx,{color:"red",disabled:S,fullWidth:!0,onClick:()=>{(0,w.Rp)({event:"submit_birthday",provider:U}),!B||(0,d.Cd)(B,z.kx)?F():D((0,d.Uy)(l))},text:l._('Create account', 'signup.birthdaycollection.submit_label', 'Text on the sign up button for signing up on birthday collection screen')})}),(0,m.jsx)(s.xu,{marginTop:2,marginBottom:9,width:340,children:(0,m.jsx)(T.Z,{dark:!0})}),(0,m.jsx)(s.xu,{marginBottom:2,children:(0,m.jsx)(E,{layout:"SIGNUP_LARGE",onClick:()=>t(),type:"signupToLogin"})})]})})})};var M=o(788241),D=o(406018),B=o(228742),Z=o(384955),U=o(45818),F=o(94802),G=o(751222),V=o(507057),H=o(759495),W=o(391670),$=o(949433),Y=o(604094),q=o(970588),K=o(550140),X=o(991937),J=o(18759),Q=o(245410),ee=o(785629),te=o(643183),oe=o(63262),ne=o(565479),ie=o(966633),se=o(392881);function re(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ae=(0,n.lazy)((()=>o.e(92798).then(o.bind(o,892798)))),le="emailpwdstep";class ce extends n.Component{constructor(e){var t;super(e),t=this,re(this,"onLoginWithSuspended",(()=>{const{loadingIndicatorCallback:e}=this.props;e(!1),this.setState({accountRecoveryModalType:B.w[k.an]})})),re(this,"onLoginWithVoluntarilyDeactivated",(e=>this.setState({googleValidationError:e}))),re(this,"setLoadingState",(e=>{const{loadingIndicatorCallback:t,showSignupWelcomeLoadingFn:o}=this.props;return o&&!1===e&&o(!1),t(e)})),re(this,"handleEmailChange",(e=>{this.props.setEmail(e.target.value),this.setState({hideFBGoogleToolTip:!0})})),re(this,"handlePasswordChange",(e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)})),re(this,"handleAgeChange",(e=>{this.state.birthdayValidationError&&this.setState({birthdayValidationError:null}),this.props.onAgeChange&&this.props.onAgeChange(e)})),re(this,"handleEmailSignUp",(()=>{var e;(0,w.My)("unauth_email_validation_attempt"),this.props.trackInteraction({action:"click",item:"email-signup-button"});let t=(0,ie.Z)(null!==(e=this.props.email)&&void 0!==e?e:"",this.emailValidators);if(t)this.setState({emailValidationError:t}),(0,w.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${le}`);else{var o,n;const e=(0,ie.Z)(null!==(o=this.props.password)&&void 0!==o?o:"",this.asciiValidators);e&&(this.setState({passwordValidationError:e}),(0,w.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${le}`)),t=(0,ie.Z)(null!==(n=this.props.password)&&void 0!==n?n:"",this.loginPasswordValidators),t?(this.setState({passwordValidationError:t}),(0,w.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${le}`)):(this.setState({passwordValidationError:null}),this.validateEmailAvailable()),this.setState({emailValidationError:null}),this.props.setNameFromEmail()}})),re(this,"register",(({birthday:e})=>{const{birthdayCollectionRequired:t,container:o,email:n,name:i,pageContext:s,password:r,onBirthdayUnderage:a,requestContext:l,signupSource:c,register:d,i18n:_}=this.props,p={type:"email",birthday:e,email:n,password:r,country:l.country,first_name:i,last_name:"",recaptchaV3Token:this.props.recaptchaV3Token||"default"},g={container:o,page:null==s?void 0:s.pageType,signupSource:c};(0,w.My)("one_step_age_signup_complete"),(0,w.Rp)({event:"signup_api_call_start",provider:"email"}),d(p,{signupContext:g,signupAttemptContextEvent:this.signupLoginContextEvent(7537)}).then((()=>{const{showResponseMessageModal:e}=this.props;(0,w.My)("unauth.signup_one_step.completed"),(0,w.Rp)({event:"signup_api_call_success",provider:"email"}),e?e(!0):I.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl)}),(e=>{switch(this.setLoadingState(!1),(0,w.Rp)({event:"signup_api_call_failure",provider:"email"}),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token(),e.api_error_code){case k.tz:u.t8(h.It,"1"),a&&t?a({birthday:this.props.birthday,email:n}):this.showUnderAgeError(e.message);break;case k.NF:this.setState({birthdayValidationError:e.message||_._('We need to know your age to provide you this service.', 'userRegistration.missingAgeError', 'Error message shown when age is required and it is missing')});break;case k.tL:this.setState({birthdayValidationError:e.message||_._('Oops! Please use a valid age to sign up.', 'userRegistration.overageError', 'Error message shown when overage (age over 120) user tries to register')});break;case k.iZ:(0,w.My)("unauth_show_invalid_email_inline_error"),this.setState({emailValidationError:_._('Your email is invalid.', ' - ', ' -- ')});break;case k.Jt:(0,w.My)("unauth_show_invalid_email_contains_pinterest"),this.setState({emailValidationError:_._('Please stick to your name, or the name of your brand', ' - ', ' -- ')});break;default:(0,U.x)(_._('Sorry! Something went wrong on our end.', ' - ', ' -- '))}}))})),re(this,"checkEmailExistsWithCompletion",(({email:e,handleEmailExists:t,handleEmailNotExist:o,handleError:n})=>{const{i18n:i}=this.props;(0,q.Z)({url:"/v3/register/exists/",data:{email:e}}).then((e=>{var n;this.setState({emailValidationError:null}),!1===(null===(n=e.resource_response)||void 0===n?void 0:n.data)?o():t()}),(e=>{let t=i._('Hmm...that doesn\'t look like an email address', ' - ', ' -- ');if(e.api_error_code===k.bd)t=e.message;else{(0,ie.Z)(this.props.email,this.asciiValidators)&&(0,w.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${le}`)}this.setState({emailValidationError:t}),null==n||n()}))})),re(this,"checkEmailValidation",(async function(e){const{i18n:o,showToast:n}=t.props;if((0,$.Z)(e)||(0,$.z)(e,"yahoo")||(0,$.z)(e,"hotmail"))t.setState({emailValidationError:o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')});else try{const n=await(0,q.Z)({url:"/v3/email/validation/",data:{email:e}}),{data:i}=n.resource_response||{};i&&i.is_valid?t.setState({emailValidationError:null}):t.setState({emailValidationError:o._('Sorry, this doesn\'t look like a valid email', 'register.email.error.message', 'Email error by backend validation')})}catch(i){null!=i&&i.message?n((({hideToast:e})=>(0,m.jsx)(K.ZP,{duration:3e3,type:"error",text:i.message,onHide:e}))):(0,w.My)(`unauth.login.error.${le}.ERROR${i.api_error_code}`)}})),re(this,"updateAccountRecoveryModal",(e=>this.setState({accountRecoveryModalType:e}))),re(this,"renderSignupForm",(()=>{const{age:e,birthday:t,birthdayCollectionRequired:o,email:n,i18n:i,onBirthdayChange:r,password:a,suppressFocus:l,logContextEvent:c,viewType:_,viewParameter:p,component:g,attributionLabel:f}=this.props,{birthdayValidationError:x}=this.state,b=(0,d.Uy)(i);return this.state.showRegisterForm?(0,m.jsx)(V.Z,{buttonText:i._('Continue', 'Continue button on web', 'Continue button on web'),buttonTextLabel:i._('Continue creating your Pinterest account', 'Accessiblity button text to continue creating an account', 'Accessiblity button text to continue creating an account'),email:n,emailFieldHasError:this.state.emailFieldHasError,emailLabel:i._('Continue with email', 'Sign up button', 'Sign up button'),emailText:i._('Email', 'Text on button asking for email', 'Text on button asking for email'),emailValidationError:this.state.emailValidationError,signupForm:{ageOrBirthday:o?{type:"birthday",props:{birthday:t,birthdayValidationError:x,setBirthdayValidationError:e=>this.setState({birthdayValidationError:e}),onBirthdayChange:r}}:{type:"age",props:{age:e,ageValidationError:x,onAgeChange:this.handleAgeChange,onAgeError:e=>this.setState({birthdayValidationError:e})}},checkEmailExistsWithCompletion:this.checkEmailExistsWithCompletion,checkEmailValidation:this.checkEmailValidation,registerRestricted:"1"===u.U2(h.It)},onButtonClick:()=>{if(o){if("1"===u.U2(h.It))return void this.showUnderAgeError();if(t&&!(0,d.Cd)(t,z.kx))return void this.setState({birthdayValidationError:b})}this.setState({facebookValidationError:null,googleValidationError:null,hideFBGoogleToolTip:!1}),this.handleEmailSignUp()},onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:null!=a?a:"",passwordText:i._('Create a password', 'Text asking the user to create a password while registering', 'Text asking the user to create a password while registering'),passwordValidationError:this.state.passwordValidationError,suppressFocus:l,component:g,viewType:_,viewParameter:p}):(0,m.jsx)(s.xu,{"data-test-id":"emailSignUpButton",children:(0,m.jsx)(s.zx,{fullWidth:!0,text:i._('Continue with email', 'Text on the sign up button for signing up with email', 'Text on the sign up button for signing up with email'),color:"red",onClick:()=>{c({view_type:_,view_parameter:p,component:g,element:13506,event_type:10441,aux_data:{upsell_reason:f}}),(0,w.NC)("signup_email_button"),this.props.trackInteraction({action:"click",item:"email-signup-button",within:"bottom-right-upsell"}),this.setState({showRegisterForm:!0})}})})})),re(this,"showUnderAgeError",(e=>{const{i18n:t}=this.props;this.setState({birthdayValidationError:e||t._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Error message shown when underage user tries to register', 'Error message shown when underage user tries to register')})}));const o=new URLSearchParams(e.location.search),n=+o.get("aec");o.delete("aec"),e.history.replace({pathname:e.location.pathname,search:o.toString()}),this.state={accountRecoveryModalType:n===k.yV||n===k.$j?I.Ny.SOFT_BANNED:null,birthdayValidationError:null,emailFieldHasError:!1,emailValidationError:null,facebookValidationError:null,googleValidationError:null,passwordValidationError:null,showRegisterForm:"home_page"===this.props.container,hideFBGoogleToolTip:!1};const{i18n:i}=e;this.emailValidators=[(0,se.aH)({message:i._('You missed a spot! Don\'t forget to add your email.', ' - ', ' -- ')}),(0,se.GT)({message:i._('Hmm...that doesn\'t look like an email address.', ' - ', ' -- ')})];const r=i._('Your password is too short! You need 6+ characters.', ' - ', ' -- '),a=i._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'EmailPasswordStep.password.onlyASCII', 'Only ASCII characters are allowed for password');this.requireAgeValidatorMessage=i._('Help us protect you by providing your age', 'signup.emailpasswordstep.age.validator_message', 'Error message shown when user did not fill the age field in the sign up model'),this.requireBirthdayValidatorMessage=i._('You missed a spot. Don\u2019t forget to add your birthday.', 'signup.emailpasswordstep.birthday.require.validator_message', 'Error message shown when user did not fill the birthday field in the sign up model');const l=i._('Invalid date', 'signup.emailpasswordstep.birthday.validator_message', 'Error message shown when user input a birthday date later than allowed');this.passwordValidators=[(0,se.aH)({message:r}),(0,ne.r)({shortPassStr:r,samePasswordStr:i._('Please make your username and password different.', ' - ', ' -- '),blackPassStr:i._('Please make a stronger password.', ' - ', ' -- ')})],this.asciiValidators=[(0,se.oR)({message:a})],this.loginPasswordValidators=[(0,se.aH)({message:r}),(0,se.oR)({message:a}),(0,se.Gy)({min:6,minErrorString:r})];const c=i._('Please enter a valid number.', 'Signup.EmailPasswordStep.ageError', 'Error message when value entered for age is invalid'),_=(0,se.ZA)({invalidAgeString:c,ageTooShortString:c});this.ageValidators=e.birthdayCollectionRequired?[]:[(0,se.aH)({message:this.requireAgeValidatorMessage}),_],this.birthdayValidators=[(0,se.aH)({message:this.requireBirthdayValidatorMessage}),(0,se.C9)({date:new Date((new Date).getFullYear(),0,1),message:l})]}handleLoginFailure(e,t){const{setPassword:o,email:n,onLoginWithMfa:i,i18n:s}=this.props,r=e.http_status===ee.Ej?ee.Ej:e.api_error_code;var a;if(r===k.Zn)return void I.ZP.handleLoginMfa(t,{phoneNumberEnd:null===(a=e.data)||void 0===a?void 0:a.phone_number_end},i);const l=(0,J.Z)({error:e,source:"emailPasswordStep",onClickPasswordReset:()=>{(0,w.My)("unauth_password_reset_link_tapped"),(0,q.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:n}}).then((()=>this.updateAccountRecoveryModal(I.Ny.PASSWORD_RESET_SENT)))}});l?(this.setState({...l,accountRecoveryModalType:r?B.w[r]:void 0}),l.passwordValidationError&&o(""),this.setLoadingState(!1)):((0,U.x)(s._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),this.setLoadingState(!1))}handleLoginSuccess(e){I.ZP.storeLoginCredentialsToBrowser(e);const{showResponseMessageModal:t}=this.props;t?t(!1):this.props.nextUrlParam?I.ZP.handleSignupRedirect(this.props.nextUrlParam,this.props.disablePostSignupNextUrl):window.location.reload()}signupLoginContextEvent(e){const{viewer:t}=this.props;return{event_type:e,aux_data:{...(0,x.Z)(t.type),signup_login_method:R.Z.EMAIL}}}validateEmailAvailable(){var e=this;const{birthdayCollectionRequired:t,container:o,email:n,login:i,pageContext:s,password:r}=this.props;this.setLoadingState(!0),this.checkEmailExistsWithCompletion({email:n,handleEmailExists:()=>{const e={username_or_email:n,password:null!=r?r:""};i({creds:e,loggingOptions:{loggingData:{container:o,page:null==s?void 0:s.pageType},loginAttemptContextEvent:this.signupLoginContextEvent(7534)}}).then((()=>this.handleLoginSuccess(e)),(t=>this.handleLoginFailure(t,e)))},handleEmailNotExist:async function(){await e.checkEmailValidation(n);const{age:o,birthday:i,password:s}=e.props;if(e.setLoadingState(!1),e.state.emailValidationError)return;const r=t?(0,ie.Z)(i||"",e.birthdayValidators):(0,ie.Z)(o||"",e.ageValidators);if(r)return(0,w.My)(`unauth.login.error.CLIENT_ERROR.${t?"invalidbirthday":"invalidage"}.${le}`),void e.setState({birthdayValidationError:r});let a;if(a=t?i?(0,_.Z)(i):void 0:null!=o&&o.trim()?(0,D.Z)(parseInt(o,10)):void 0,void 0===a)return void e.setState({birthdayValidationError:t?e.requireBirthdayValidatorMessage:e.requireAgeValidatorMessage});const l=(0,ie.Z)(null!=s?s:"",e.passwordValidators);if(l)return e.setState({passwordValidationError:l}),void(0,w.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${le}`);(0,$.Z)(n)?e.setState({emailFieldHasError:!0}):(e.setState({emailValidationError:null}),(0,w.My)("unauth.signup_step_1.completed"),e.register({birthday:a}))}})}render(){const{additionalChildren:e,container:t,disablePostSignupNextUrl:o,email:i,loadingIndicatorCallback:r,nextUrlParam:a,onFBMissingEmail:l,onFBPhoneOnlyConnectVerified:c,onLoginWithMfa:d,switchToSocialSignupWithAgeFlow:u,showLineConnectButton:h,showResponseMessageModal:_,showSignupWelcomeLoadingFn:p,logContextEvent:g,viewType:f,viewParameter:x,component:b,attributionLabel:y}=this.props,{accountRecoveryModalType:v,facebookValidationError:w,googleValidationError:P,hideFBGoogleToolTip:S,showRegisterForm:A}=this.state,C=e=>{g({view_type:f,view_parameter:x,component:b,element:e,event_type:10441,aux_data:{upsell_reason:y}})};return(0,m.jsxs)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,m.jsx)(B.Z,{email:i,modalType:v,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),(0,m.jsxs)(s.xu,{children:[this.renderSignupForm(),!!A&&(0,m.jsx)(Z.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"10px"}},children:[(0,m.jsx)(F.Z,{container:t,disablePostSignupNextUrl:o,loadingIndicatorCallback:r,onFBPhoneOnlyConnectVerified:c,onFBMissingEmail:l,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:_,showSignupWelcomeLoadingFn:p,tooltip:!S&&w||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(I.Ny.RATE_LIMITED),onClick:()=>{C(13505)}}),(0,m.jsx)(s.xu,{height:10}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(G.Z,{container:t,nextUrlParam:a,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:_,tooltip:!S&&P||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(I.Ny.RATE_LIMITED),onClick:()=>{C(13504)}})}),h&&(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.xu,{height:10}),(0,m.jsx)(Y.Z,{name:"SafeSuspense_EmailPasswordStep_LineConnectButton",children:(0,m.jsx)(te.Z,{children:(0,m.jsx)(ae,{container:t,loadingIndicatorCallback:r,nextUrlParam:a,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:u},showResponseMessageModal:_,showLoginRateLimited:()=>this.updateAccountRecoveryModal(I.Ny.RATE_LIMITED),onClick:()=>{C(13507)}})})})]})]})]}),(0,m.jsx)(T.Z,{dark:!0}),e]})}}function de(e){const t=(0,W.lO)(),o=(0,y.B)(),{showToast:s}=(0,oe.F9)(),{register:r,viewer:l}=(0,p.B$)(),c=(0,H.Z)(),d=(0,a.Z)(),{viewType:u,viewParameter:h}=(0,M.SU)(),_=(0,P.Z)(),g=(0,b.ZP)(),{country:f}=o,x=(0,i.useLocation)(),v=(0,i.useHistory)(),{recaptchaV3Token:w,refreshToken:S}=(0,L.D)(),{checkExperiment:A}=(0,Q.F)(),C=A("web_birthday_collection_eu_new_users").anyEnabled,E=["GB","IE"].includes(f)||C,T="JP"===f,[j,k]=(0,n.useState)(),[I,O]=(0,n.useState)(),[R,z]=(0,n.useState)(""),[N,D]=(0,n.useState)("");return(0,m.jsx)(ce,{...e,age:j,onAgeChange:e=>k(e.value),birthday:I,onBirthdayChange:e=>O(e.value),name:R,setNameFromEmail:()=>z((0,X.Z)(e.email,f)),password:N,setPassword:D,recaptchaV3Token:w,refreshRecaptchaV3Token:S,birthdayCollectionRequired:E,pageContext:t,requestContext:o,viewer:l,register:r,login:c,logContextEvent:d,viewType:u,viewParameter:h,i18n:g,location:x,history:v,showLineConnectButton:T,showToast:s,trackInteraction:_})}var ue=o(308979),he=o(447390);const _e=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:r})=>{const a=(0,b.ZP)();(0,n.useEffect)((()=>{(0,w.My)("unauth.fb_phone_only_signup.email_step")}),[]),a._('We use your email address for account creation and for important security and legal notices.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');const l=a._('Oops. We\'re unable to create your account without your email. To continue, make sure you provide email to create your account.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');return(0,m.jsx)(s.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),r()},children:[(0,m.jsx)(s.xv,{align:"start",overflow:"normal",children:l}),(0,m.jsx)(s.xu,{marginTop:3}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.nv,{ref:he.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:a._('Email address', 'email placeholder in the email inputfield on email collection form', 'email placeholder in the email inputfield on email collection form'),size:"lg",type:"email"})}),(0,m.jsx)(s.xu,{marginTop:5}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",disabled:!e,text:a._('Continue', 'word on the button which to submit user email information', 'word on the button which to submit user email information'),type:"submit"}),(0,m.jsx)(s.xu,{marginTop:2}),(0,m.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,w.My)("unauth.fb_phone_only_signup.email_step.not_now_click"),o&&o()},text:a._('Not now', 'word on not now button to dismiss the collection form', 'word on not now button to dismiss the collection form'),type:"submit"})]})})};var pe=o(261551),ge=o(450667);function me(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const fe="email";class xe extends n.Component{constructor(e){super(e),me(this,"mounted",!1),me(this,"handleEmailChange",(({value:e})=>{this.setState({email:e})})),me(this,"showError",((e,t)=>{this.mounted&&t===fe&&this.setState({emailError:e})})),me(this,"handleSubmit",(()=>{const{i18n:e}=this.props;if((0,w.My)("unauth.fb_phone_only_signup.submit_email"),(0,w.Rp)({event:"submit_email",provider:"facebook"}),this.state.email)(0,w.My)("unauth.fb_phone_only_signup.submit_email"),this.attemptEmailSignupOrLogin();else{const t=e._('Email is required', 'email error message', 'email error message');this.setState({emailError:t})}})),me(this,"handleSignupSuccess",(()=>{I.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0),(0,w.My)("unauth.fb_phone_only_signup.signup_success"),(0,w.Rp)({event:"signup_api_call_success",provider:"facebook"})})),me(this,"handleSignupFailure",(e=>t=>{const{i18n:o}=this.props,n=t.message||o._('Oops! Something went wrong\u2026 Click Continue to try again.', 'Error during signup during FB email collection step', 'Error during signup during FB email collection step');this.showError(n,e),(0,w.My)("unauth.fb_phone_only_signup.signup_failure"),(0,w.Rp)({event:"signup_api_call_failure",provider:"facebook"})})),me(this,"attemptEmailSignupOrLogin",(()=>{const{checkExperiment:e,desktopCoreLoginContext:{register:t},i18n:o}=this.props,{email:n}=this.state,i=[(0,se.GT)({message:o._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')})],s=(0,ie.Z)(n,i);if(s)return(0,w.My)("unauth.fb_phone_only_signup.email_validation_failure"),void this.setState({emailError:s});const{registrationCredentials:{type:r,signupOptions:a},showSocialSignupWithAgeStep:l,showEmailAlreadyExistModal:c}=this.props;(0,q.Z)({url:"/v3/register/exists/",data:{email:n}}).then((o=>{var i;if(!1===(null===(i=o.resource_response)||void 0===i?void 0:i.data)){const o={...a,email:n,email_source_site:O.E_.PINTEREST},{birthday:i}=o;if(void 0!==i&&(0,ue.Z)(i)){(0,w.Rp)({event:"signup_api_call_start",provider:"facebook"});(o.facebook_token?(0,ge.MI)(o.facebook_token,e("web_unauth_identity_meta_birthdate_removal").anyEnabled).then(pe.Z):Promise.resolve(Object.freeze({}))).then((e=>t({...e,...o,birthday:i,birthday_source_site:O.E_.FACEBOOK},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}))).then(this.handleSignupSuccess,this.handleSignupFailure(fe))}else l({type:r,signupOptions:o})}else c({email:n}),(0,w.My)("unauth.fb_phone_only_signup.email_existed")}),(e=>{let t=o._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message');e.api_error_code===k.bd&&(t=e.message),this.showError(t,fe),(0,w.My)("unauth.fb_phone_only_signup.email_exist_api_call_failure")}))})),this.state={email:"",emailError:""}}componentDidMount(){this.mounted=!0,this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1)}componentWillUnmount(){this.mounted=!1}render(){return(0,m.jsx)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:(0,m.jsx)(_e,{email:this.state.email,emailError:this.state.emailError,handleEmailChange:this.handleEmailChange,handleSubmit:this.handleSubmit,onNotNowClick:this.props.onNotNowClick})})}}const be=e=>{const t=(0,p.B$)(),o=(0,y.B)(),{checkExperiment:n}=(0,Q.F)(),i=(0,b.ZP)();return(0,m.jsx)(xe,{...e,checkExperiment:n,desktopCoreLoginContext:t,i18n:i,requestContext:o})},ye=({onClick:e})=>{const t=(0,y.B)(),o=(0,b.ZP)();return(0,m.jsx)(s.xu,{position:"absolute",display:"block",marginTop:4,marginEnd:4,marginStart:4,height:40,width:40,right:!t.isRTL,left:t.isRTL,top:!0,"data-test-id":"full-page-signup-close-button",children:(0,m.jsx)(s.hU,{accessibilityLabel:o._('close', 'accessible label for close button', 'accessible label for close button'),onClick:e,icon:"cancel",iconColor:"darkGray",size:"md"})})};var ve=o(621699),we=o(525104);const Pe=32,Se=({fallback:e,savePinId:t,iconButton:o})=>{var n,r;const a=(0,b.ZP)(),{path:l}=(0,i.useRouteMatch)(),c=(0,i.useLocation)(),d=(0,we.S6)(),u=t||("/pin/:id"===l?c.pathname.split("/")[2]:null);if(!u)return e;const h=d(u);if(!h)return e;const _=null===(n=h.images)||void 0===n||null===(r=n["236x"])||void 0===r?void 0:r.url;return _?(0,m.jsxs)(s.xu,{width:82,height:80,position:"relative",margin:"auto","data-test-id":"signup-image-wrapper",children:[(0,m.jsx)(s.xu,{width:56,height:72,margin:"auto",marginBottom:6,marginTop:4,children:(0,m.jsx)(s.zd,{width:56,height:72,rounding:2,children:(0,m.jsx)(s.Ee,{alt:a._('Save pin image', 'FullPageSignup.signupImage.savePinImage', 'Unauth save modal pin image alt text'),color:h.dominant_color||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:_})})}),!!o&&(0,m.jsx)(s.xu,{position:"absolute",bottom:!0,right:!0,children:o})]}):e};function Ae({container:e,fallback:t,savePinId:o,user:n,signupSource:i}){var r,a;const l=(0,b.ZP)(),{colorGray0:c}=(0,s.tv)();switch(e){case"follow":return(0,m.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:8,marginBottom:4,children:(0,m.jsx)(ve.Z,{accessibilityLabel:l._('User Avatar', 'profile.ProfileHeader.Avatar', 'Avatar in user profile page'),name:null!==(r=null==n?void 0:n.full_name)&&void 0!==r?r:"",outline:!0,size:"md",src:null!==(a=null==n?void 0:n.image_large_url)&&void 0!==a?a:""})});case"save":case"download":return(0,m.jsx)(Se,{fallback:t,savePinId:o,iconButton:"downloadImageBtnUnauth"===i?(0,m.jsx)(s.zd,{rounding:"circle",children:(0,m.jsx)("div",{onClick:()=>{(0,w.My)("dweb.unauth.signup_modal.download_icon.click")},"aria-hidden":"true",children:(0,m.jsx)(s.xu,{display:"flex",rounding:"circle",color:"lightWash",direction:"column",alignItems:"center",justifyContent:"center",width:Pe,height:Pe,dangerouslySetInlineStyle:{__style:{boxSizing:"border-box",border:`solid 3px ${c}`}},children:(0,m.jsx)(s.JO,{accessibilityLabel:l._('Sign Up to download', 'web.unauth.download_modal.download_value_prop_unauth', 'Highlighting the download value prop in signup modal for unauth users after download attempt'),icon:"download",color:"default"})})})}):null});default:return t}}var Ce=o(767874);function Ee({large:e}){return(0,m.jsx)(s.xu,{display:"block",height:45,width:45,dangerouslySetInlineStyle:{__style:{margin:"8px auto 6px"}},children:(0,m.jsx)(Ce.Z,{size:e?50:40})})}class Te extends n.Component{constructor(...e){var t,o,n;super(...e),n=()=>{const{container:e,modalType:t}=this.props;(0,w.My)("web.unauth.modal_title.view"),(0,w.My)(`unauth_web_modal.${e||"unknown"}.tier1.${t}.shown`)},(o="componentDidMount")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{titleText:e}=this.props;return(0,m.jsx)("h1",{style:{color:"#333",fontSize:"32px",fontWeight:"600",letterSpacing:"-1.2px",MozOsxFontSmoothing:"grayscale",paddingLeft:"16px",paddingRight:"16px",WebkitFontSmoothing:"antialiased",wordBreak:"keep-all"},children:e})}}const je=({email:e,emailError:t,onNotNowClick:o,handleEmailChange:i,handleSubmit:r})=>{const a=(0,b.ZP)();(0,n.useEffect)((()=>{(0,w.My)("unauth.line_missing_email.email_step")}),[]),a._('We use your email address for account creation and for important security and legal notices.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');const l=a._('Oops. We\'re unable to create your account without your email. To continue, make sure you provide email to create your account.', 'subtitle to explain the step on email collection form', 'subtitle to explain the step on email collection form');return(0,m.jsx)(s.xu,{marginTop:3,children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:e=>{e.preventDefault(),r()},children:[(0,m.jsx)(s.xv,{align:"start",overflow:"normal",children:l}),(0,m.jsx)(s.xu,{marginTop:3,marginBottom:5,children:(0,m.jsx)(s.nv,{ref:he.Z,errorMessage:Array.isArray(t)?t.join(""):t,id:"email",onChange:i,placeholder:a._('Email address', 'email placeholder in the email inputfield on email collection form', 'email placeholder in the email inputfield on email collection form'),size:"lg",type:"email"})}),(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",disabled:!e,text:a._('Continue', 'word on the button which to submit user email information', 'word on the button which to submit user email information'),type:"submit"}),(0,m.jsx)(s.xu,{marginTop:2}),(0,m.jsx)(s.zx,{fullWidth:!0,onClick:()=>{(0,w.My)("unauth.line_missing_email.email_step.not_now_click"),o&&o()},text:a._('Not now', 'word on not now button to dismiss the collection form', 'word on not now button to dismiss the collection form'),type:"submit"})]})})};var ke=o(272109);const Ie=({nextUrlParam:e,loadingIndicatorCallback:t,showEmailAlreadyExistModal:o,onNotNowClick:i,registrationCredentials:r,showSocialSignupWithAgeStep:a})=>{const l=(0,p.B$)(),c=(0,b.ZP)(),[d,u]=(0,n.useState)(""),[h,_]=(0,n.useState)("");return(0,ke.Z)((()=>{t(!1)})),(0,m.jsx)(s.xu,{marginTop:0,marginBottom:0,marginStart:"auto",marginEnd:"auto",width:268,children:(0,m.jsx)(je,{email:d,emailError:h,handleEmailChange:({value:e})=>u(e),handleSubmit:()=>{if((0,w.My)("unauth.line_missing_email.submit_email"),!d)return void _(c._('Email is required', 'email error message', 'email error message'));(0,w.My)("unauth.line_missing_email.submit_email");const{register:n}=l,i=[(0,se.GT)({message:c._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')})],s=(0,ie.Z)(d,i);if(s)return(0,w.My)("unauth.line_missing_email.email_validation_failure"),void _(s);const{type:u,signupOptions:h}=r;(0,q.Z)({url:"/v3/register/exists/",data:{email:d}}).then((i=>{var s;if(!1!==(null===(s=i.resource_response)||void 0===s?void 0:s.data))return o({email:d}),void(0,w.My)("unauth.line_missing_email.email_existed");t(!0);const{birthday:r}=h;void 0===r?(a({type:u,signupOptions:{...h,email:d}}),t(!1)):n({...h,email:d,birthday:r},{signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_type:10}}).then((()=>{t(!1),I.ZP.handleSignupRedirect(e||I.ZP.defaultSocialLoginRedirectUrl(),!0),(0,w.My)("unauth.line_missing_email.signup_success")}),(e=>{t(!1);const o=e.message||c._('Oops! Something went wrong\u2026 Click Continue to try again.', 'unauth.lineEmailCollect.error', 'Error during signup during Line email collection step');_(o),(0,w.My)("unauth.line_missing_email.signup_failure")}))}),(e=>{_(e.api_error_code===k.bd?e.message:c._('Hmm... that doesn\'t look like an email address.', 'email error message', 'email error message')),(0,w.My)("unauth.line_missing_email.email_exist_api_call_failure")}))},onNotNowClick:i})})};var Oe=o(227648),Re=o(388011),Le=o(777610),ze=o(361927),Ne=o(630089),Me=o(36521);const De=function({container:e="unknown",creds:t,isAccountSwitch:o,nextUrlParam:i,phoneNumberEnd:r}){const[a,l]=(0,n.useState)(null),[c,d]=(0,n.useState)(""),[u,h]=(0,n.useState)(!1),[_,p]=(0,n.useState)(!1),{isAuthenticated:f,loginState:x}=(0,y.B)(),P=(0,b.ZP)(),S=(0,W.lO)(),A=(0,H.Z)(),C={container:e,page:null==S?void 0:S.pageType},{logContextEvent:E}=(0,Re.v)();(0,Le.Q)({view_type:565,view_parameter:3731}),(0,n.useEffect)((()=>{!o&&I.ZP.isFullyLoggedIn(f,x)&&I.ZP.handleRedirect(i)}),[]);const T=P._('Continue', ' - ', ' -- ');return(0,m.jsxs)(s.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"18px auto"}},children:[u&&(0,m.jsx)(Me.Z,{rounding:8}),(0,m.jsx)("p",{style:{fontSize:"14px",margin:"24px 0",textAlign:"center"},children:r?(0,Ne.nk)(P._('Please check your phone with the number ending in {{ phoneNumberEnd }} for a code and enter it in the field below to log in.', ' - ', ' -- '),{phoneNumberEnd:(0,m.jsx)("strong",{children:r},"phone")}):P._('Please check your phone for a code and enter it in the field below to log in.', ' - ', ' -- ')}),(0,m.jsxs)("form",{method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),E({view_type:565,view_parameter:3731,event_type:101,element:12019});const o=(0,ie.Z)(null!=c?c:"",[(0,se.aH)({message:P._('You missed a spot! Don\'t forget to add your verification code.', ' - ', ' -- ')}),(0,se.VC)({message:P._('Hmm...that doesn\'t look like a verification code.', ' - ', ' -- ')})]);o?(l(o),(0,w.My)("unauth.login.error.CLIENT_ERROR.wrongcode.loginmfa")):(l(null),h(!0),A({creds:{...t,mfa_token:c},loggingOptions:{loggingData:C,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then((()=>{E({view_type:565,view_parameter:3731,event_type:9992});const e=window.location.pathname===v.lf||window.location.pathname.startsWith(v.rO)?"/":window.location.pathname;I.ZP.handleRedirect(i||e)}),(e=>{e.message?(l(e.message),h(!1)):((0,U.x)(P._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),h(!1))})))},children:[(0,m.jsx)(ze.Z,{autoComplete:"off",focused:!0,hasError:!!a,id:"mfaCode",name:"code",onChange:e=>d(e.target.value),placeholder:P._('Verification code', ' - ', ' -- '),tooltip:a,type:"text",value:c}),(0,m.jsx)(g.Z,{accessibilityLabel:T,className:"red SignupButton",styleOverrides:{width:"100%",borderRadius:"20px"},type:"submit",children:(0,m.jsx)(s.xu,{children:T})})]}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"15px",color:"#333"}},children:(0,Ne.nk)(P._('If you didn\'t get it, we can {{ resendCode }}.', ' - ', ' -- '),{resendCode:(0,m.jsx)(s.rU,{display:"inlineBlock",href:"",onClick:({event:e,dangerouslyDisableOnNavigation:o})=>{o(),e.preventDefault(),E({view_type:565,view_parameter:3731,event_type:101,element:12920}),h(!0),A({creds:{...t,mfa_resend:!0},loggingOptions:{loggingData:C,loginAttemptContextEvent:{event_type:7534,view_type:565,view_parameter:3731}}}).then((()=>{h(!1),p(!0)}),(e=>{h(!1),e.message?l(e.message):(0,U.x)(P._('Sorry! Something went wrong on our end.', ' - ', ' -- '))}))},underline:"hover",children:(0,m.jsx)(s.xv,{size:"100",weight:"bold",children:P._('resend the code', ' - ', ' -- ')})},"code")})}),_&&(0,m.jsx)(s.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:50,left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,m.jsx)(K.ZP,{onHide:()=>p(!1),text:P._('We sent you a new code!', 'login2fa.resendCode.success', 'Code was succesfully sent again to the user\'s phone number'),duration:5e3})})]})};var Be=o(380540);const Ze={backgroundColor:"#fff",borderRadius:"8px",padding:"22px 0",position:"relative",textAlign:"center",width:"400px",margin:"auto",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},Ue=({children:e,noBoxShadow:t})=>{const o={...Ze,...t?{boxShadow:"none"}:{}},{viewer:n}=(0,p.B$)(),i=(0,p.Cw)();return"LIMITED_LOGIN"===n.type&&i?(0,m.jsxs)("div",{"data-test-id":"login-modal-default",style:{...o,display:"flex",width:"auto",padding:""},children:[(0,m.jsx)(s.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"8px 0 0 8px"}},children:(0,m.jsx)(s.xu,{maxWidth:400,height:"100%",dangerouslySetInlineStyle:{__style:{width:"number"==typeof i.height&&"number"==typeof i.width?600*(i.width/i.height||0):0,backgroundSize:"cover",backgroundPosition:"center",backgroundImage:i.url?`url(${i.url})`:""}}})}),(0,m.jsx)(s.xu,{width:400,dangerouslySetInlineStyle:{__style:{padding:"32px 0"}},children:e})]}):(0,m.jsx)("div",{"data-test-id":"login-modal-default",style:{...o,padding:"32px 0"},children:e})},Fe=({children:e,email:t,footer:o,handleNotYouClick:i,header:r,noBoxShadow:a,title:l,viewerInfo:c})=>{var d;const{viewer:u}=(0,p.B$)(),h=(0,b.ZP)();return(0,m.jsx)(Ue,{noBoxShadow:a,children:(0,m.jsxs)(n.Fragment,{children:[r,(0,m.jsx)("div",{style:{display:"block",margin:"0 auto 16px",width:40,height:40},children:(0,m.jsx)(Ce.Z,{size:40})}),(0,m.jsx)("div",{style:{__style:{width:"auto",overflow:"hidden",maxHeight:"150px",margin:"0 48px 16px"}},children:l}),"LIMITED_LOGIN"===u.type&&(0,m.jsx)(s.xu,{marginBottom:4,paddingX:12,children:(0,m.jsx)(Be.Z,{})}),(0,m.jsx)(s.xu,{width:120,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(ve.Z,{name:c.firstName,src:null!==(d=c.imageUrl)&&void 0!==d?d:void 0})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{align:"center",children:t})}),e,(0,m.jsx)(s.xu,{paddingY:5,children:(0,m.jsx)(s.iz,{})}),(0,m.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),i()},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(s.rU,{href:"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:h._('Not you? Log in with a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account')})})})}),(0,m.jsx)(s.xu,{marginBottom:0,marginTop:1,children:o})]})})};var Ge=o(300218),Ve=o(526750);const He=({age:e,handleAgeChange:t,handleSubmit:o,error:i,removeExtraSpaceForErr:r,method:a})=>{const l=(0,b.ZP)();(0,n.useEffect)((()=>{(0,w.My)("dweb.signup_age_step",{type:a,format:"age"})}),[a]);const[c,d]=(0,n.useState)(""),u=l._('Enter your age', 'age.input.placeholder', 'placeholder for age input');return(0,m.jsx)(s.xu,{children:(0,m.jsxs)("form",{method:"post",noValidate:!0,onSubmit:t=>{t.preventDefault(),e&&!c&&o({age:e})},children:[(0,m.jsx)(s.xu,{marginTop:2}),(0,m.jsx)(Ve.Z,{value:null==e?void 0:e.toString(),focusOnMount:!0,error:i,onChangeParsed:e=>t({value:e}),onValidation:d,customPlaceholderText:u}),(0,m.jsxs)(s.xu,{children:[(0,m.jsx)(s.xu,{paddingY:12,marginTop:12}),(0,m.jsx)(s.xu,{paddingY:(e=>r&&""!==e?2:5)(c)})]}),(0,m.jsx)(s.xu,{marginTop:3}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.zx,{fullWidth:!0,color:"red",disabled:!!c||!e,text:l._('Next', 'social.connect.age.form.next.btn', 'Next Button For Social Connect Age Form '),type:"submit"})})]})})};function We(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class $e extends n.Component{constructor(...e){super(...e),We(this,"state",{age:void 0,error:"",isLoading:!1,removeExtraSpaceForErr:!1}),We(this,"getViewParameter",(e=>{switch(null==e?void 0:e.type){case"facebook":return 3205;case"google":return 3204;case"google_one_tap":return 3201;default:return}})),We(this,"handleAgeChange",(({value:e})=>{this.setState({age:e,removeExtraSpaceForErr:!0})})),We(this,"handleSignupSuccess",(()=>{this.track("signup_success");const{showResponseMessageModal:e}=this.props;e?e(!0):I.ZP.handleSignupRedirect(this.props.nextUrlParam||window.location.pathname,!0)})),We(this,"handleSignupFailure",(e=>{const{i18n:t}=this.props;this.track("signup_failure"),this.props.loadingIndicatorCallback&&this.props.loadingIndicatorCallback(!1),this.setState({isLoading:!1});const o=e.message||t._('Oops! Something went wrong\u2026 Click Continue to try again.', 'Error during signup during age collection step', 'Error during signup during age collection step');this.setState({error:o})})),We(this,"handleSubmit",(({age:e})=>{const{desktopCoreLoginContext:{register:t},onLineEmailMissingError:o}=this.props;this.track(`submit_button_click.${e||"undefined"}`);const{loadingIndicatorCallback:n,registrationCredentials:i,showResponseMessageModal:s}=this.props;if("1"===u.U2(h.It))return void this.track("signup_failure");const r=i&&i.type;if(n&&!["google_one_tap","google","facebook"].includes(r)&&n(!0),!i)return void n(!1);const a=(0,D.Z)(e),l={signupContext:void 0,signupAttemptContextEvent:{event_type:7537,view_parameter:this.getViewParameter(this.props.registrationCredentials)}};if("facebook"===i.type){this.track("attempt_signup");t({...i.signupOptions,birthday:a,birthday_source_site:O.E_.PINTEREST},l).then(this.handleSignupSuccess,this.handleSignupFailure)}else if("google"===i.type||"google_one_tap"===i.type){this.track("attempt_signup");t({...i.signupOptions,birthday:a},l).then(this.handleSignupSuccess,this.handleSignupFailure)}else if("line"===i.type){this.track("attempt_signup");const e={...i.signupOptions,birthday:a};t({...e},l).then(this.handleSignupSuccess,(t=>{t.api_error_code===k.iZ&&o?o({...i,signupOptions:e}):this.handleSignupFailure(t)}))}s||"facebook"!==i.type||this.setState({isLoading:!0})}))}componentDidMount(){this.track("shown")}track(e){const{container:t,registrationCredentials:o}=this.props,n=o?o.type:"undefined";(0,w.My)(`unauth_web.age_collection_form.${e}.${n}.${t||"undefined"}`)}render(){const{age:e,error:t,isLoading:o,removeExtraSpaceForErr:n}=this.state,{registrationCredentials:i}=this.props;return o?(0,m.jsx)(Ge.Z,{}):(0,m.jsx)(s.xu,{width:464,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:(0,m.jsx)(He,{age:e,error:t,handleAgeChange:this.handleAgeChange,handleSubmit:this.handleSubmit,removeExtraSpaceForErr:n,method:null==i?void 0:i.type})})}}const Ye=e=>{const t=(0,b.ZP)(),o=(0,p.B$)();return(0,m.jsx)($e,{...e,desktopCoreLoginContext:o,i18n:t})};var qe=o(906215),Ke=o(121633);const Xe=e=>{qe.Z.resume(Ke.LU),(0,w.My)(`web.dismiss_account_switcher.${e}`)};var Je=o(840093),Qe=o(493851),et=o(846226),tt=o(488203),ot=o(911386),nt=o(712968);const it={backgroundColor:"#fff",borderRadius:"32px",position:"relative",textAlign:"center",margin:"auto",minHeight:"450px",boxShadow:"0 2px 10px rgba(0,0,0,0.45)"},st={...it,height:"610px",width:"528px",padding:"20px 10px 24px"},rt={home_page:{...it,minHeight:"initial"},pinBookmarklet:{...it,boxShadow:"none"}},at={minHeight:"400px",padding:"20px 10px 24px"},lt={margin:"0 auto 22px",width:"270px"},ct={margin:"90px auto 22px",width:"464px"},dt=(e,t)=>{switch(t){case"boardInvite":return e._('Sign up to accept your board invite', 'Sign up copy board invite', 'Sign up copy board invite');case"saveButton":return e._('Sign up to see more', 'signup copy save button', 'signup copy save button');case"saveButtonExp":return e._('Join Pinterest to save this idea', 'FullPageSignup.signupTagline.save', 'signup copy save exp button');case"homePage":return e._('Welcome to Pinterest', 'Title on desktop signup modal on home page', 'Title on desktop signup modal on home page');case"pinBookmarklet":return e._('Sign up to save this Pin!', 'signup copy save button from third party website', 'signup copy save button from third party website');case"downloadImageBtnDweb":return e._('Never lose track of your ideas again! Sign up for an account', 'mweb.unauth.download_modal.download_value_prop', 'Highlighting the download value prop in download modal');case"downloadImageBtnUnauth":return e._('Sign Up to download', 'web.unauth.download_modal.download_value_prop_unauth', 'Highlighting the download value prop in signup modal for unauth users after download attempt');case"followButton":return e._('Join Pinterest to follow', 'mweb.unauth.follow_modal.follow_value_prop', 'Highlighting the follow value prop in follow modal');default:return e._('Sign up to see more', 'sigup copy default includes pin click and scrolling', 'sigup copy default includes pin click and scrolling')}},ut=(e,t)=>{switch(t){case"boardInvite":return e._('Log in to accept your board invite', 'Login copy board invite', 'Login copy board invite');case"homePage":return e._('Welcome to Pinterest', 'Title on desktop signup modal on home page', 'Title on desktop signup modal on home page');case"pinBookmarklet":return e._('Sign in to save this Pin!', 'Login copy save button from third party website', 'Login copy save button from third party website');default:return e._('Log in to see more', 'Title on desktop login modal', 'Title on desktop login modal')}};function ht({container:e,savePinId:t,customLoginTagline:o,customSignupTagline:l,handleCloseButtonClick:c,handleShowingSignupWelcomeLoading:d,hideAccountSwitchValueProp:u,inviter:h,isAccountSwitch:_=!1,isBusiness:g,nextUrlParam:v,renderBusinessCreateButton:S,showCloseIcon:A,showResponseMessageModal:C,signupRedirectUrl:T,signupSource:k="defaultSource",suppressFocus:I,toggleType:O="DEFAULT_TOGGLE",signupFlow:R,component:L,attributionLabel:z}){var M;const D=(0,y.B)(),{country:B}=D,Z=(0,b.ZP)(),{viewer:{info:U,type:F}}=(0,p.B$)(),G=(0,a.Z)(),V=(0,P.Z)(),{checkExperiment:H}=(0,Q.F)(),W=H("web_birthday_collection_eu_new_users").anyEnabled,[$,Y]=(0,n.useState)(!1),[q,K]=(0,n.useState)(!1),[X,J]=(0,n.useState)(!1),[ee,te]=(0,n.useState)("signup"===(0,ot.Z)().type?{type:"signup"}:R),[oe,ne]=(0,n.useState)(!1),ie=(0,x.Z)(F),{username:se}=(0,i.useParams)(),re=(0,nt.cm)(),ae=se?re(se):null,le=["GB","IE"].includes(B)||W,ce="commentComposerExp"===k&&H("web_unauth_comment_upsell_copy").group;(0,n.useEffect)((()=>((0,w.My)(`unauth.authentication_modal.shown.${O}.${ee.type}`),()=>{_&&((0,Je.Z)("add_account_dismiss",null,e),Xe(e))})),[]);const ue=(0,n.useRef)(ee.type);(0,n.useEffect)((()=>{ue.current!==ee.type&&(ue.current=ee.type,(0,w.My)(`unauth.authentication_modal.shown.${O}.${ee.type}`))}));const he=(0,n.useRef)(R);(0,n.useEffect)((()=>{he.current.type!==R.type&&(he.current=R,te(R))}));const _e=null!==(M=rt[e])&&void 0!==M?M:it,pe=()=>v?decodeURIComponent(v):v,ge=e=>pe()?(0,tt.Z)(e,{next:pe()}):e,me=e=>te({type:"EmailCollection",registrationCredentials:e}),fe=e=>te({type:"socialSignupWithAge",registrationCredentials:e}),xe=(e,t)=>te({type:"loginMfa",creds:e,phoneNumberEnd:(null==t?void 0:t.phoneNumberEnd)||void 0}),we=e=>{(0,w.My)(`unauth.personalized_login.prevent_register.${e}`),ne(!0),K(!1),te({type:"signup"})},Pe=()=>{(0,w.My)("unauth.personalized_login.not_you.click"),(0,w.NC)("click_change_signin_account"),G({aux_data:ie,element:10879,event_type:101})},Se=e=>{(0,w.My)(`unauth.authentication_modal.${e}.${O}.${ee.type}`)},Ce=e=>{Se("login_toggle_click"),(0,w.NC)("click_toggle_login"),V({action:"click",item:"login-button"}),te({type:"login",email:null==e?void 0:e.email}),Y(!1)},je=({email:e})=>{Se("signup_toggle_click"),(0,w.NC)("click_toggle_signup"),T?(0,r.Z)(T,!1):te({type:"signup",email:e})},ke=({email:e})=>(0,m.jsx)(s.iP,{fullWidth:!1,onTap:t=>{const o={event_type:101,element:10880};g?G(o):(t.event.preventDefault(),(0,w.My)("unauth.personalized_login.signup_instead.click"),G({...o,aux_data:ie}),je({email:e}))},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(et.Z,{id:"need-account-link",children:(0,m.jsx)(s.rU,{href:g?ge("/business/create"):"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:Z._('Need an account? Sign up now', 'Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account', 'Short message (in small fonts) on the bottom of the login modal that prompts a users to create an account')})})})}),Re=A&&(0,m.jsx)(ye,{onClick:c});if(X&&["signup","login","socialSignupWithAge"].includes(ee.type))return(0,m.jsx)(Ge.Z,{});switch(ee.type){case"signup":case"respondMessage":{var Le;const o=$?Z._('Welcome back to Pinterest!', 'welcoming user back to pinterest in signup modal when we recognize their email', 'welcoming user back to pinterest in signup modal when we recognize their email'):l||dt(Z,k),i=h&&!h.is_default_image?h:null,r=(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:lt},width:"login_page"!==e?400:void 0,children:(0,m.jsx)(Te,{container:e,modalType:"signup",titleText:"enabled_signup_converse"===ce&&Z._('Join the conversation', 'Prompt user to signup to comment on dweb unauth', 'Prompt user to signup to comment')||"enabled_signup_comment"===ce&&Z._('Join Pinterest to comment', 'Prompt user to singup to comment on dweb unauth', 'Prompt user to signup to comment')||i&&("respondMessage"===R.type?(Z._('Sign up and let {{ name }} know what you think', 'Prompt user to signup to access all Pinterest features', 'Prompt user to signup to access all Pinterest features')).replace("{{ name }}",i.first_name||i.full_name):(Z._('Join {{ name }} on Pinterest for more ideas', 'Prompt user to signup to access all Pinterest features', 'Prompt user to signup to access all Pinterest features')).replace("{{ name }}",i.first_name||i.full_name))||(["login_page","home_page","save","download","follow"].includes(e)?o:Z._('Unlimited free access to the world\'s best ideas', 'FullPageSignup.signupTitle.save', 'Save value prop on desktop signup modal'))})});return(0,m.jsxs)(s.xu,{"data-test-id":"signup-default-modal",width:484,dangerouslySetInlineStyle:{__style:_e},children:[q&&(0,m.jsx)(Me.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:i?{minHeight:"400px",padding:"30px 10px 20px"}:at},children:[Re,i?(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(s.xu,{width:108,dangerouslySetInlineStyle:{__style:{margin:"0 auto 16px"}},children:(0,m.jsx)(ve.Z,{name:i.first_name||i.full_name,src:i.image_medium_url,verified:"respondMessage"===R.type})}),r]}):(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(Ae,{container:e,fallback:(0,m.jsx)(Ee,{large:"homePage"!==k}),savePinId:t,user:ae,signupSource:k}),r,(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:lt},children:!$&&(0,m.jsx)(s.xu,{marginTop:-4,marginBottom:4,children:(0,m.jsx)(s.xv,{size:"300",align:"center",children:"enabled_signup_comment"===ce&&Z._('Create an account to add a comment and connect with the Pinterest community', 'dweb.full_page_signup.comment_compose.upsell_text', 'Value prop for full page comment signup')||"enabled_signup_converse"===ce&&Z._('Create an account to add a comment and interact with the Pinterest community', 'dweb.full_page_signup.comment_compose.upsell_text', 'Value prop for full page comment signup')||("login_page"!==e&&"home_page"!==e&&"save"!==e&&"download"!==e&&"follow"!==e?o:"downloadImageBtnDweb"===k&&Z._('Discover a better way to keep your ideas organized', 'mweb.unauth.signup_modal.download_value_prop_subheader', 'Highlighting the download value prop in signup modal but as a subheader')||"downloadImageBtnUnauth"===k&&Z._('Download this image and more with a Pinterest Account', 'web.unauth.signup_modal.download_value_prop_subheader', 'Highlighting the download value prop in signup modal but as a subheader for unauth')||"followButton"===k&&(0,Ne.nk)(Z._('Create an account to follow {{ creatorName }}', 'mweb.unauth.signup_modal.follow_value_prop_subheader', 'Highlighting the follow value prop in signup modal but as a subheader creatorName:<the name of the creator who the user attempted to follow>'),{creatorName:null==ae?void 0:ae.full_name})||"homePage"===k&&Z._('Find new ideas to try', 'Value prop on desktop signup modal on home page', 'Value prop on desktop signup modal on home page')||"saveButtonExp"===k&&Z._('Unlimited free access to the world\'s best ideas', 'FullPageSignup.signupSubTitle.saDDve', 'Value prop on desktop signup modal')||Z._('Discovery starts here', 'Pinterest value proposition on desktop login modal', 'Pinterest value proposition on desktop login modal'))})})})]}),(0,m.jsx)(s.xu,{"data-test-id":"signup-options",position:"relative",dangerouslySetInlineStyle:{__style:{textAlign:"center",margin:"0 auto"}},children:(0,m.jsx)(de,{additionalChildren:(0,m.jsx)(E,{layout:("NOT_NOW_BUTTON"===O?"SIGNUP_LARGE":"home_page"===e&&"SIGNUP_SMALL")||"SIGNUP_DEFAULT",onClick:()=>Ce({email:ee.email}),type:"signupToLogin",shouldHideBusinessCreateFooterLink:!!S}),container:e,disablePostSignupNextUrl:!v,email:null!==(Le=ee.email)&&void 0!==Le?Le:"",loadingIndicatorCallback:K,nextUrlParam:pe(),onBirthdayUnderage:({birthday:e,email:t})=>{te({type:"UnderageConfirmation",birthday:e,email:t})},onFBPhoneOnlyConnectVerified:me,onFBMissingEmail:me,onLoginWithMfa:xe,setEmail:e=>te((ee.type,{...ee,email:e})),showResponseMessageModal:"respondMessage"===R.type?C:void 0,showSignupWelcomeLoadingFn:e=>{J(e),d&&d(e)},signupSource:k,suppressFocus:I,switchToSocialSignupWithAgeFlow:fe,component:L,attributionLabel:z})})]}),S&&S()]})}case"login":{if(!oe&&!_&&U&&"AUTH"!==F&&"bottom.right.upsell.email"!==e){var ze;const t=U.hasPassword||U.connectedToFacebook||U.connectedToGoogle;return(0,m.jsx)(Fe,{email:null!==(ze=ee.email)&&void 0!==ze?ze:"",handleNotYouClick:()=>{ne(!0),Pe()},noBoxShadow:"pinBookmarklet"===e,header:(0,m.jsxs)(n.Fragment,{children:[q&&(0,m.jsx)(Me.Z,{}),Re]}),viewerInfo:U,title:(0,m.jsx)(Te,{container:e,modalType:"personalizedLogin",titleText:(0,Ne.nk)(Z._('Welcome back, {{name}}!', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest'),{name:U?U.firstName:""}).join("")}),footer:ke({email:ee.email}),children:(0,m.jsx)(Oe.ZP,{container:e,disablePostSignupNextUrl:!v,email:U.email,hideEmailField:!0,hideFacebookButton:t&&!U.connectedToFacebook,hideGoogleButton:t&&!U.connectedToGoogle,hideLineButton:t,hidePasswordField:t&&!U.hasPassword,hideTermsOfService:!0,loadingIndicatorCallback:K,loginButtonTextOverride:Z._('Continue', ' - ', ' -- '),nextUrlParam:pe(),onEmailChange:()=>{},onLoginWithMfa:xe,requestContext:D,showResponseMessageModal:"respondMessage"===R.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:we},component:L,attributionLabel:z})})}const t="enabled_login_comment"===ce?Z._('Log in to comment', 'dweb.unauth.comment_compose.upsell_tagline', 'Value prop for comment upsell tagline'):o||ut(Z,k);return(0,m.jsxs)(s.xu,{"data-test-id":"login-modal-default",width:484,dangerouslySetInlineStyle:{__style:_e},children:[q&&(0,m.jsx)(Me.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:at},children:[Re,(0,m.jsx)(Ee,{large:"homePage"!==k}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:lt},width:"login_page"!==e?400:void 0,children:[(0,m.jsx)(Te,{container:e,modalType:"login",titleText:t}),"enabled_login_comment"===ce&&(0,m.jsx)(s.xu,{marginTop:4,marginBottom:4,children:(0,m.jsx)(s.xv,{size:"300",align:"center",children:Z._('Log in or sign up to add a comment and join the conversation', 'dweb.unauth.comment_compose.upsell_text', 'Value prop for comment login subtitle')})})]}),_&&!u&&(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:lt},children:(0,m.jsx)(s.xu,{marginTop:-4,marginBottom:8,children:(0,m.jsx)(s.xv,{align:"center",size:"300",children:Z._('Have another Pinterest account? Log in to easily switch between them', 'Subtitle on the login modal that explains to a user why they would add an additional account to their profile', 'Subtitle on the login modal that explains to a user why they would add an additional account to their profile')})})}),(0,m.jsx)(Oe.ZP,{container:e,disablePostSignupNextUrl:!v,email:ee.email,isAccountSwitch:_,loadingIndicatorCallback:K,nextUrlParam:pe(),onEmailChange:e=>te({...ee,email:e.target.value}),onFBPhoneOnlyConnectVerified:me,onLoginWithMfa:xe,socialSignupCallbacks:{type:"SOCIAL_SIGNUP_WITH_AGE",switchToSocialSignupWithAgeFlow:fe},requestContext:D,showResponseMessageModal:"respondMessage"===R.type?C:void 0,component:L,attributionLabel:z}),g?(0,m.jsxs)(s.kC,{direction:"column",alignItems:"center",children:[(0,m.jsx)(f,{}),(0,m.jsx)(s.xv,{weight:"bold",size:"100",children:(0,m.jsx)(s.rU,{href:ge("/business/create"),children:Z._('Create new account', 'Link to the page to create a new business account instead of logging in', 'Link to the page to create a new business account instead of logging in')})})]}):!_&&(0,m.jsx)(E,{layout:("NOT_NOW_BUTTON"===O?"LOGIN_INLINE":"SMALL_TOGGLE"===O&&"LOGIN_SMALL")||"LOGIN_DEFAULT",type:"loginToSignup",onClick:()=>je({email:ee.email})})]})]})}case"loginMfa":return(0,m.jsx)(s.xu,{"data-test-id":"login-modal-mfa",width:489,dangerouslySetInlineStyle:{__style:_e},children:(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:at},children:[Re,(0,m.jsx)(Ee,{}),(0,m.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...lt,padding:"0 10px"}},width:"100%",children:(0,m.jsx)(Te,{container:e,modalType:"loginMfa",titleText:Z._('Two-factor authentication required', 'desktopLoginModal.2fa.title', 'Title for the two-factor authentication modal')})}),(0,m.jsx)(De,{container:e,creds:ee.creds,isAccountSwitch:_,nextUrlParam:pe(),phoneNumberEnd:ee.phoneNumberEnd})]})});case"socialSignupWithAge":{if(le)return(0,m.jsx)(s.xu,{"data-test-id":"birthday-collection-modal",dangerouslySetInlineStyle:{__style:_e},minHeight:"0",children:(0,m.jsx)(N,{disablePostSignupNextUrl:!v,handleLoginToggleButtonClick:Ce,loadingIndicatorCallback:K,nextUrlParam:pe(),registrationCredentials:ee.registrationCredentials,showResponseMessageModal:"respondMessage"===R.type?C:void 0})});const t=ee.registrationCredentials.signupOptions.first_name;return(0,m.jsxs)(s.xu,{"data-test-id":"login-modal-with-age",dangerouslySetInlineStyle:{__style:st},children:[q&&(0,m.jsx)(Me.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:at},children:[Re,(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:ct},children:[(0,m.jsx)(s.X6,{size:"500",align:"center",children:t?(0,Qe.Z)(Z._('Oh hi, {{facebookFirstName}}! How old are you?', 'social.signup.age.collection.header', 'Age collection signup step for Facebook/G+ authentication. facebookFirstName: first name of user via facebook data'),{facebookFirstName:t}):Z._('Sign up to see more', 'Age collection signup step for Facebook/G+ authentication', 'Age collection signup step for Facebook/G+ authentication')}),(0,m.jsx)(s.xu,{children:(0,m.jsx)(s.xv,{size:"300",align:"center",children:Z._('This won\'t be publicly displayed. We collect age to provide you with the right experience on Pinterest, including to personalize your recommendations and ads.', 'social.signup.age.collection.subheader', 'Age collection subheader during signup step for Facebook/G+ authentication')})})]}),(0,m.jsx)(Ye,{container:e,loadingIndicatorCallback:K,nextUrlParam:pe(),registrationCredentials:ee.registrationCredentials,showResponseMessageModal:"respondMessage"===R.type?C:void 0,onLineEmailMissingError:me})]}),(0,m.jsx)(E,{layout:"SIGNUP_WITH_AGE",onClick:()=>Ce(),type:"signupToLogin"})]})}case"EmailCollection":{const e=()=>{te({type:"signup",email:ee.registrationCredentials.signupOptions.email}),K(!1)},t=({email:e})=>te({type:"EmailAlreadyExist",email:e});return(0,m.jsxs)(s.xu,{"data-test-id":"line"===ee.registrationCredentials.type?"signup-modal-line-phone-only":"signup-modal-facebook-phone-only",minHeight:400,dangerouslySetInlineStyle:{__style:it},children:[q&&(0,m.jsx)(Me.Z,{}),(0,m.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:at},children:[Re,(0,m.jsx)(Ee,{}),(0,m.jsx)(s.xu,{width:310,dangerouslySetInlineStyle:{__style:lt},children:(0,m.jsx)(s.X6,{size:"600",children:Z._('What\'s your email address?', 'Prompt for email address in after sign in with line', 'Prompt for email address in after sign in with line')})}),"line"===ee.registrationCredentials.type?(0,m.jsx)(Ie,{loadingIndicatorCallback:K,nextUrlParam:v,onNotNowClick:e,registrationCredentials:ee.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:fe}):(0,m.jsx)(be,{loadingIndicatorCallback:K,nextUrlParam:v,onNotNowClick:e,registrationCredentials:ee.registrationCredentials,showEmailAlreadyExistModal:t,showSocialSignupWithAgeStep:fe})]})]})}case"EmailAlreadyExist":return(0,m.jsxs)(s.xu,{"data-test-id":"login-modal-existing-email",dangerouslySetInlineStyle:{__style:Ze},children:[q&&(0,m.jsx)(Me.Z,{}),(0,m.jsx)(Ee,{}),(0,m.jsx)(s.xu,{overflow:"hidden",maxHeight:120,width:350,dangerouslySetInlineStyle:{__style:lt},children:(0,m.jsx)(Te,{container:e,modalType:"personalizedLogin",titleText:(0,Ne.nk)(Z._('Looks like you\'re already on Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest', 'Short title (large font) on the login modal welcoming back a user who previously logged in to Pinterest'),{name:U?U.firstName:""}).join("")})}),(0,m.jsx)(s.xu,{marginBottom:3,children:(0,m.jsx)(s.xv,{align:"center",children:ee.email})}),(0,m.jsx)(Oe.ZP,{container:e,disablePostSignupNextUrl:!v,email:ee.email,hideEmailField:!0,hideFacebookButton:!0,hideLineButton:!0,hideTermsOfService:!0,loadingIndicatorCallback:K,loginButtonTextOverride:Z._('Continue', ' - ', ' -- '),nextUrlParam:pe(),onEmailChange:()=>{},onLoginWithMfa:xe,requestContext:D,showResponseMessageModal:"respondMessage"===R.type?C:void 0,socialSignupCallbacks:{type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:we},component:L,attributionLabel:z}),(0,m.jsx)(s.xu,{paddingY:5,children:(0,m.jsx)(s.iz,{})}),(0,m.jsx)(s.xu,{"data-test-id":"login-switch-account",children:(0,m.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>{e.preventDefault(),te({type:"login"}),ne(!0),Pe()},children:(0,m.jsx)(s.xv,{align:"center",size:"200",weight:"bold",children:(0,m.jsx)(s.rU,{href:"#",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:Z._('Not you? Log in with a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account', 'Short message (in small fonts) on the bottom of the login modal that prompts a user to log in to a different account')})})})}),(0,m.jsx)(s.xu,{marginBottom:4,marginTop:1,children:ke({email:ee.email})}),Re]});case"UnderageConfirmation":return(0,m.jsx)(s.xu,{"data-test-id":"underage-confirmation-modal",dangerouslySetInlineStyle:{__style:_e},children:(0,m.jsx)(j.Z,{birthday:ee.birthday,onEditBirthday:()=>{te({type:"signup",email:ee.email}),K(!1)}})});default:return null}}},751222:(e,t,o)=>{o.d(t,{Z:()=>k});var n=o(667294),i=o(883119),s=o(891643),r=o(45818),a=o(38730),l=o(152448),c=o(975601),d=o(536042),u=o(353226),h=o(785893);function _(e){const t=(0,d.ZP)(),{tooltip:o}=e,[s,r]=(0,n.useState)();return(0,h.jsxs)(i.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,h.jsx)(a.Z,{onClick:()=>r(!0),type:"button",styleOverrides:{width:"100%",borderRadius:"20px",border:"0px solid"},children:(0,h.jsxs)(i.kC,{alignItems:"center",justifyContent:"center",children:[(0,h.jsx)(i.xu,{height:24,width:24,marginTop:1,children:(0,h.jsx)(u.Z,{size:20})}),(0,h.jsx)(i.xu,{marginStart:2,children:(0,h.jsx)(i.xv,{weight:"bold",children:t._('Connect with Google', 'googleConnectButtonWithDisabledSDK.buttonText', 'Connect with Google button text')})})]})}),!!o&&(0,h.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},children:(0,h.jsx)(c.Z,{message:o})}),s&&(0,h.jsx)(l.Z,{type:"google",onDismiss:()=>r(!1)})]})}var p=o(321443),g=o(759495),m=o(95983),f=o(391670),x=o(752977),b=o(315219),y=o(539636),v=o(684113),w=o(324159),P=o(950861),S=o(822123),A=o(245410),C=o(282802),E=o(98736),T=o(272109);const j=({container:e,isAccountSwitch:t,nextUrlParam:o,onLoginWithMfa:a,onLoginWithSuspended:l,onLoginWithVoluntarilyDeactivated:u,showResponseMessageModal:_,socialSignupCallbacks:j,tooltip:k,showLoginRateLimited:I,onClick:O})=>{const{viewer:{type:R}}=(0,s.B$)(),L=(0,g.Z)(),z=(0,f.lO)(),N=(0,d.ZP)(),{checkExperiment:M}=(0,A.F)(),D=(0,w.M)(),B=(0,n.useRef)(null),Z=M("dweb_google_button_locale_fix").anyEnabled,{locale:U}=(0,C.B)(),F=Z?U:void 0;return(0,T.Z)((()=>(window.googleConnectButtonContainer=e||"",()=>{delete window.googleConnectButtonContainer}))),(0,T.Z)((()=>{const n=({credential:n,select_by:i})=>{const s=(0,v.mK)((0,v.PL)(i));L({creds:{google_open_id_token:n},loggingOptions:{loggingData:{container:window.googleConnectButtonContainer,page:null==z?void 0:z.pageType,trigger:s},loginAttemptContextEvent:{event_type:7534,element:12981,aux_data:{...(0,m.Z)(R),signup_login_method:S.Z.GPLUS}}},isAccountSwitch:t}).then((n=>{var i,s;const r=null==n||null===(i=n.resource_response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.user;t&&r&&(0,x.Z)(r,"google",e),_?_(!1):P.ZP.handleRedirect(o||P.ZP.defaultSocialLoginRedirectUrl()),M("m10n_measurement_pinterest_tag_us").anyEnabled&&(0,p.Z)()}),(e=>{switch(b.ik.includes(e.api_error_code)&&(null==I||I()),e.api_error_code){case b.E6:null==u||u(e.message);break;case b.Zn:var t;null==a||a({google_open_id_token:n},{phoneNumberEnd:null===(t=e.data)||void 0===t?void 0:t.phone_number_end});break;case b.xN:if("ACCOUNT_RECOVERY"===j.type)j.switchToAccountRecoverySignupFlow("google");else{(0,E.Rp)({event:"start",provider:"google"});const e=(0,y.Z)(n),t={container:window.googleConnectButtonContainer,page:null==z?void 0:z.pageType,trigger:s},o={type:"google",google_open_id_token:n,first_name:e.given_name,last_name:e.family_name,image_url:e.picture};j.switchToSocialSignupWithAgeFlow({type:"google",context:t,signupOptions:{...o}})}break;default:e.api_error_code===b.an&&l?l():(0,r.x)(N._('Sorry, we can\'t log you in.', 'error message when user failed to login caused by suspend/deactivated etc.', 'error message when user failed to login caused by suspend/deactivated etc.'))}}))};return(async()=>{await(null==D?void 0:D.ensureInit("button",n)),(0,v.ru)({buttonRef:B,isDesktop:!0,locale:F})})(),()=>{null==D||D.removeButtonCallback(n)}})),(0,h.jsxs)(i.xu,{"data-test-id":"google-connect-button",position:"relative",children:[(0,h.jsx)(i.xu,{height:44,children:(0,h.jsx)("div",{ref:B,style:{position:"absolute",width:"100%"},onClick:()=>{null==O||O()}})}),!!k&&(0,h.jsx)(i.xu,{position:"absolute",dangerouslySetInlineStyle:{__style:{top:"12px",left:"100%"}},children:(0,h.jsx)(c.Z,{message:k})})]})};function k(e){const{checkExperiment:t}=(0,A.F)(),{anyEnabled:o}=t("web_google_disabled");return o?(0,h.jsx)(_,{tooltip:e.tooltip}):(0,h.jsx)(j,{...e})}},380540:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(883119),i=o(583121),s=o(536042),r=o(393599),a=o(785893);const l=({useDefaultText:e})=>{const{limitedLoginModalSubheader:t}=(0,r.H)(),o=(0,s.ZP)();return(0,a.jsx)(n.xv,{align:"center",overflow:"normal",children:e||!t?(0,i.lt)(o):t.text})}},227648:(e,t,o)=>{o.d(t,{OL:()=>G,ZP:()=>H});var n=o(667294),i=o(883119),s=o(388011),r=o(788241),a=o(228742),l=o(384955),c=o(891643),d=o(45818),u=o(94802),h=o(751222),_=o(507057),p=o(435983),g=o(402833),m=o(759495),f=o(95983),x=o(391670),b=o(604094),y=o(970588),v=o(536042),w=o(906215),P=o(121633),S=o(752977),A=o(315219),C=o(18759),E=o(950861),T=o(822123),j=o(61833),k=o(282802),I=o(785629),O=o(643183),R=o(837792),L=o(98736),z=o(565479),N=o(966633),M=o(392881),D=o(785893);function B(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const Z=(0,n.lazy)((()=>o.e(92798).then(o.bind(o,892798)))),U=R.lf,F="loginmodal",G="6LeZIo0UAAAAAKFpimHio-ff_ddIT8f_QzpXG0_1";class V extends n.Component{constructor(e){super(e),B(this,"onLoginWithVoluntarilyDeactivated",(e=>this.setState({googleValidationError:e}))),B(this,"onLoginWithSuspended",(()=>{const{loadingIndicatorCallback:e}=this.props;e&&e(!1),this.setState({accountRecoveryModalType:a.w[A.an],loading:!1})})),B(this,"onloadCallback",(()=>{try{window.recaptchaIdOne=window.grecaptcha.render("recaptcha_placeholder_1",{sitekey:G,callback:"verifyCaptcha"})}catch(e){}try{window.recaptchaIdTwo=window.grecaptcha.render("recaptcha_placeholder_2",{sitekey:G,callback:"verifyCaptcha"})}catch(e){}})),B(this,"handleButtonClick",((e,t)=>{var o;(0,L.My)("unauth.login.button.clicked");const{logContextEvent:n,desktopCoreLoginContext:{viewer:i}}=this.props;n({event_type:101,element:30,aux_data:{...(0,f.Z)(i.type),signup_login_method:T.Z.EMAIL}}),this.setState({googleValidationError:null,hideFBGoogleToolTip:!1});let s=(0,N.Z)(null!==(o=this.props.email)&&void 0!==o?o:"",this.emailValidators);if(s)this.setState({emailValidationError:s}),(0,L.My)(`unauth.login.error.CLIENT_ERROR.malformemail.${F}`);else{this.setState({emailValidationError:null}),s=(0,N.Z)(this.props.password,this.passwordValidators);const e=(0,N.Z)(this.props.password,this.asciiValidators);s?(this.setState({passwordValidationError:s}),(0,L.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${F}`)):e?(this.setState({passwordValidationError:e}),(0,L.My)(`unauth.login.error.CLIENT_ERROR.malformpwd.${F}`)):(this.setState({passwordValidationError:null}),this.loginUser("email",void 0,t))}})),B(this,"updateAccountRecoveryModal",(e=>this.setState({accountRecoveryModalType:e}))),B(this,"loadRecaptchaView",(()=>{if("undefined"!=typeof document&&document.head)if(document.getElementById("recaptcha-jssdk"))this.onloadCallback();else{const e=document.createElement("script");e.id="recaptcha-jssdk",e.src="https://www.recaptcha.net/recaptcha/api.js?onload=onloadCallback&render=explicit",document.head&&document.head.appendChild(e)}})),B(this,"handleLoginFailure",((e,t,o)=>{const{email:n,i18n:i,loadingIndicatorCallback:s,setPassword:r}=this.props;(0,L.My)(`unauth.login.error.LOGIN_FAILURE.${e}`),s(!1),this.props.refreshRecaptchaV3Token&&this.props.refreshRecaptchaV3Token();const l=t.http_status||t.httpStatus,c=l===I.Ej?I.Ej:t.api_error_code;var u;if(c===A.Zn)return void E.ZP.handleLoginMfa(o,{phoneNumberEnd:null===(u=t.data)||void 0===u?void 0:u.phone_number_end},this.props.onLoginWithMfa);if(l===I.Ej&&c===A.bd&&t.message&&"!"!==t.message[t.message.length-1]&&!E.ZP.isExceedRecaptchaLocalLimit())return this.loadRecaptchaView(),void this.setState({passwordValidationError:i._('Oops! You logged in too quickly. Please try again with the reCAPTCHA.', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha'),loading:!1});if(c===A._K&&l===I.AB&&!E.ZP.isExceedRecaptchaLocalLimit())return this.loadRecaptchaView(),void this.setState({passwordValidationError:i._('Oops! You logged in too quickly. Please try again with the reCAPTCHA.', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha', 'Error message showing to user when his/her login attempt exceeds ip based rules, ask they to retry using recaptcha'),loading:!1});const h=(0,C.Z)({error:t,source:"login",onClickPasswordReset:()=>{(0,L.My)("unauth_password_reset_link_tapped"),(0,y.Z)({url:"/v3/users/forgot_password/",method:"POST",data:{username_or_email:n}}).then((()=>this.updateAccountRecoveryModal(E.Ny.PASSWORD_RESET_SENT)))}});h?(this.setState({...h,accountRecoveryModalType:c?a.w[c]:void 0,loading:!1}),h.passwordValidationError&&r("")):((0,d.x)(i._('Sorry! Something went wrong on our end.', ' - ', ' -- ')),this.setState({loading:!1}))})),B(this,"verifyCaptcha",(()=>{const e=window.grecaptcha.getResponse(window.recaptchaIdOne)||window.grecaptcha.getResponse(window.recaptchaIdTwo);E.ZP.updateRecaptchaTimeStamp(),this.handleButtonClick(void 0,e),E.ZP.isExceedRecaptchaLocalLimit()||(void 0!==window.recaptchaIdOne&&window.grecaptcha.reset(window.recaptchaIdOne),void 0!==window.recaptchaIdTwo&&window.grecaptcha.reset(window.recaptchaIdTwo))})),B(this,"handleEmailChange",(e=>{this.props.onEmailChange&&this.props.onEmailChange(e),this.setState({hideFBGoogleToolTip:!0})})),B(this,"handlePasswordChange",(e=>{this.state.passwordValidationError&&this.setState({passwordValidationError:null}),this.props.setPassword(e.target.value)})),B(this,"handleBlur",(()=>{var e;this.setState({googleValidationError:null});let t=(0,N.Z)(null!==(e=this.props.email)&&void 0!==e?e:"",this.asciiValidators);t&&(0,L.My)(`unauth.login.error.CLIENT_ERROR.nonasciiemail.${F}`),t=(0,N.Z)(this.props.password,this.asciiValidators),t&&(0,L.My)(`unauth.login.error.CLIENT_ERROR.nonasciipwd.${F}`)})),B(this,"renderSocialButtons",(()=>{const{disablePostSignupNextUrl:e,hideFacebookButton:t,hideLineButton:o,hideGoogleButton:s,isAccountSwitch:r,isPersonalizedLoginFlyout:a,loadingIndicatorCallback:l,nextUrlParam:c,onLoginWithMfa:d,onFBPhoneOnlyConnectVerified:_,onFBMissingEmail:p,container:g="unknown",socialSignupCallbacks:m,showResponseMessageModal:f,isLineAuthenticationEnabled:x,logContextEvent:y,viewType:v,viewParameter:w,component:P,attributionLabel:S}=this.props,{hideFBGoogleToolTip:A}=this.state,C="ACCOUNT_RECOVERY"===m.type?{...m,type:"ACCOUNT_RECOVERY",switchToAccountRecoverySignupFlow:e=>{"facebook"===e?this.updateAccountRecoveryModal(E.Ny.PREVENT_FACEBOOK_REGISTER):"google"===e&&this.updateAccountRecoveryModal(E.Ny.PREVENT_GOOGLE_REGISTER),m.switchToAccountRecoverySignupFlow(e)}}:m,T=e=>{y({view_type:v,view_parameter:w,component:P,element:e,event_type:10441,aux_data:{upsell_reason:S}})},j=!t&&(0,D.jsx)(u.Z,{container:g,disablePostSignupNextUrl:e,isAccountSwitch:r,loadingIndicatorCallback:l,nextUrlParam:c,onFBPhoneOnlyConnectVerified:_,onFBMissingEmail:p,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,socialSignupCallbacks:C,showResponseMessageModal:f,tooltip:null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),onClick:()=>{T(13505)}}),k=!s&&(0,D.jsx)(h.Z,{container:g,isAccountSwitch:r,nextUrlParam:c,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,onLoginWithVoluntarilyDeactivated:this.onLoginWithVoluntarilyDeactivated,showResponseMessageModal:f,tooltip:!A&&this.state.googleValidationError||null,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),socialSignupCallbacks:C,onClick:()=>{T(13504)}}),I=!o&&x&&(0,D.jsx)(b.Z,{name:"SafeSuspense_LineConnectButton",children:(0,D.jsx)(O.Z,{children:(0,D.jsx)(Z,{container:g,loadingIndicatorCallback:l,isAccountSwitch:r,nextUrlParam:c,onLoginWithMfa:d,onLoginWithSuspended:this.onLoginWithSuspended,showResponseMessageModal:f,socialSignupCallbacks:C,showLoginRateLimited:()=>this.updateAccountRecoveryModal(E.Ny.RATE_LIMITED),onClick:()=>{T(13507)}})})}),R=!t&&!s?"8px":"0px";return(0,D.jsxs)(i.xu,{"data-test-id":"login-options",dangerouslySetInlineStyle:{__style:{marginTop:a?"9px":"10px"}},children:[j,(0,D.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:a?R:"10px"}}}),k,!o&&x&&(0,D.jsxs)(n.Fragment,{children:[(0,D.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{height:a?R:"10px"}}}),I]})]})})),B(this,"renderRegisterForm",(()=>{const{disableEmailLogin:e,email:t,hideEmailField:o,hideFacebookButton:s,hideGoogleButton:r,hidePasswordField:a,i18n:l,isAccountSwitch:c,loginButtonTextOverride:d,password:u,suppressFocus:h,logContextEvent:p,requestContext:{isRTL:g},desktopCoreLoginContext:{viewer:m},viewType:x,viewParameter:b,component:y,attributionLabel:v}=this.props,{emailValidationError:w,loading:P,passwordValidationError:S}=this.state,A=d||l._('Log in', 'Copy on the button to log in', 'Copy on the button to log in'),C=S&&(0,n.isValidElement)(S)?null:(0,D.jsx)(i.xu,{marginBottom:3,marginTop:2,dangerouslySetInlineStyle:{__style:{float:g?"right":"left"}},children:(0,D.jsx)(i.xv,{size:"200",weight:"bold",children:(0,D.jsx)(i.rU,{href:U+(t?`?q=${t}`:""),onClick:({dangerouslyDisableOnNavigation:e})=>{e(),(0,L.My)("login_modal_forget_account"),(0,L.NC)("click_forget_password"),p({event_type:101,element:10881,aux_data:{...(0,f.Z)(m.type)}})},children:l._('Forgot your password?', 'Desktop login modal link for users to recover their account', 'Desktop login modal link for users to recover their account')})})});return(0,D.jsx)(_.Z,{buttonText:A,disableEmailLogin:e,email:t,emailText:l._('Email', 'Placeholder text for email field', 'Placeholder text for email field'),emailValidationError:w,hideEmailField:o,hideFacebookButton:s,hideGoogleButton:r,hidePasswordField:a,loading:P&&!c,onButtonClick:this.handleButtonClick,onEmailBlur:this.handleBlur,onEmailChange:this.handleEmailChange,onPasswordChange:this.handlePasswordChange,password:u,passwordResetLink:C,passwordText:l._('Password', ' - ', ' -- '),passwordValidationError:S,suppressFocus:h,component:y,attributionLabel:v,viewType:x,viewParameter:b})})),B(this,"renderOriginalForm",(()=>{const{hideFacebookButton:e,hideGoogleButton:t,hidePasswordField:o}=this.props,i=!(o||t&&e);return(0,D.jsxs)(n.Fragment,{children:[this.renderRegisterForm(),i&&(0,D.jsx)(l.Z,{}),this.renderSocialButtons()]})})),B(this,"renderButtons",(()=>this.renderOriginalForm())),this.state={accountRecoveryModalType:null,emailValidationError:null,passwordValidationError:null,googleValidationError:null,loading:!1,hideFBGoogleToolTip:!1};const{i18n:t}=e,o=t._('You missed a spot! Don\'t forget to add your email.', ' - ', ' -- '),s=t._('Hmm...that doesn\'t look like an email address.', ' - ', ' -- '),r=t._('Use only a mix of letters, numbers and special characters (for example: ?, !, $).', 'Login.password.onlyASCII', 'Only ASCII characters are allowed for password');this.emailValidators=[(0,M.aH)({message:o}),(0,M.GT)({message:s})];const c=t._('The password you entered is incorrect.', ' - ', ' -- ');this.passwordValidators=[(0,z.r)({shortPassStr:c,samePasswordStr:c,blackPassStr:c})],this.asciiValidators=[(0,M.oR)({message:r})]}componentDidMount(){const{isAccountSwitch:e,nextUrlParam:t,requestContext:o,showResponseMessageModal:n}=this.props;E.ZP.isFullyLoggedIn(o.isAuthenticated,o.loginState)&&!e&&(n?n(!1):E.ZP.handleRedirect(t)),window.onloadCallback=this.onloadCallback,window.verifyCaptcha=this.verifyCaptcha,void 0===window.recaptchaCount?window.recaptchaCount=1:window.recaptchaCount+=1}componentWillUnmount(){void 0!==window.recaptchaCount&&(window.recaptchaCount-=1)}loginUser(e,t,o){const{container:n="unknown",email:i,flushContextEvents:s,isAccountSwitch:r,loadingIndicatorCallback:a,login:l,pageContext:c,showResponseMessageModal:d,desktopCoreLoginContext:{viewer:u},requestContext:h}=this.props;this.setState({loading:!0}),a(!0);const _=t||{username_or_email:i||"",password:this.props.password},p={container:n,page:c?c.pageType:void 0};let g=T.Z.EMAIL;"facebook"===e?g=T.Z.FACEBOOK:"google"===e&&(g=T.Z.GPLUS),w.Z.pause(P.LU),s(),l({creds:_,loggingOptions:{loggingData:p,loginAttemptContextEvent:{event_type:7534,element:"google"===e?12981:void 0,aux_data:{...(0,f.Z)(u.type),signup_login_method:g}}},isAccountSwitch:r,recaptchaV2Token:o,recaptchaV3Token:this.props.recaptchaV3Token||"default"}).then(((e={})=>{E.ZP.storeLoginCredentialsToBrowser(_);let t=this.props.nextUrlParam||E.ZP.defaultLoginRedirectUrl();const{anyEnabled:o}=h.experimentsClient.checkExperiment("m10n_measurement_pinterest_tag_us");if(o&&"undefined"!=typeof window&&window.pintrk)try{window.pintrk("track","custom",{lead_type:"Pinterest Login",em:i})}catch(s){}if(r&&e.resource_response&&e.resource_response.data&&e.resource_response.data.user){const{user:o}=e.resource_response.data;(0,S.Z)(o,"email",n),t="/"+o.username}else E.ZP.storeLoginCredentialsToBrowser(_);d?d(!1):E.ZP.handleRedirect(t)}),(t=>this.handleLoginFailure(e,t,_)))}render(){const{email:e}=this.props;return(0,D.jsxs)(i.xu,{width:268,dangerouslySetInlineStyle:{__style:{margin:"0 auto"}},children:[(0,D.jsx)(a.Z,{email:e||"",modalType:this.state.accountRecoveryModalType,onLoginWithMfa:this.props.onLoginWithMfa,updateAccountRecoveryModal:this.updateAccountRecoveryModal}),this.renderButtons(),!this.props.hideTermsOfService&&(0,D.jsx)(p.Z,{dark:!0})]})}}function H(e){const t=(0,v.ZP)(),{flushContextEvents:o,logContextEvent:i}=(0,s.v)(),a=(0,x.lO)(),{recaptchaV3Token:l,refreshToken:d}=(0,j.D)(),u=(0,c.B$)(),{country:h}=(0,k.B)(),_="JP"===h,p=(0,m.Z)(),[f,b]=(0,n.useState)(""),{viewType:y,viewParameter:w}=(0,r.SU)(),P=(0,g.g)();return(0,D.jsx)(V,{...e,desktopCoreLoginContext:u,flushContextEvents:o,i18n:t,logContextEvent:i,login:p,pageContext:a,password:f,recaptchaV3Token:l,refreshRecaptchaV3Token:d,isLineAuthenticationEnabled:_,setPassword:b,viewType:y,viewParameter:w,unauthDesktopSignupModalPageContext:P})}},507057:(e,t,o)=>{o.d(t,{Z:()=>b});var n=o(667294),i=o(883119),s=o(388011),r=o(38730);const a=["gmail.com","hotmail.com","hotmail.com.ar","yahoo.com.ar","live.com.ar","outlook.com","live.com","bigpond.com","yahoo.com","icloud.com","yahoo.com.au","yahoo.com.br","bol.com.br","yahoo.ca","hotmail.ca","web.de","gmx.de","t-online.de","hotmail.de","hotmail.es","yahoo.es","hotmail.fr","orange.fr","yahoo.fr","live.fr","free.fr","laposte.net","wanadoo.fr","outlook.fr","hotmail.co.uk","rediffmail.com","yahoo.co.in","yahoo.in","libero.it","hotmail.it","alice.it","yahoo.co.jp","ezweb.ne.jp","docomo.ne.jp","i.softbank.jp","softbank.ne.jp","live.com.mx","outlook.es","aol.com","outlook.com","comcast.net"];var l=o(526750),c=o(536042),d=o(98736),u=o(785893);function h({age:e,ageValidationError:t,onAgeChange:o,onAgeError:s}){const r=(0,c.ZP)();return(0,n.useEffect)((()=>{(0,d.My)("dweb.signup_age_step",{type:"email",format:"age"})}),[]),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(i.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,u.jsx)(i.__,{htmlFor:"age",children:(0,u.jsx)(i.xv,{size:"200",children:r._('Age', 'registerForm.label.age', 'Label for age field')})})}),(0,u.jsx)(i.xu,{"data-test-id":"ageInputField",children:(0,u.jsx)(i.xu,{marginTop:1,children:(0,u.jsx)(l.Z,{error:null==t?void 0:t.toString(),value:e,onChange:o,onValidation:s,preventValidationOnStart:!0})})})]})}var _=o(591057),p=o(245410);function g({birthday:e,birthdayValidationError:t,setBirthdayValidationError:o,onBirthdayChange:s}){const r=(0,c.ZP)(),{checkExperiment:a}=(0,p.F)(),l=a("web_identity_new_user_birthday_step_copy").anyEnabled;(0,n.useEffect)((()=>{(0,d.My)("dweb.signup_age_step",{type:"email",format:"birthday"})}),[]);return(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(i.xu,{marginBottom:1,marginStart:2,marginTop:2,children:(0,u.jsxs)(i.kC,{children:[(0,u.jsx)(i.xu,{marginEnd:2,children:(0,u.jsx)(i.__,{htmlFor:"birthdate",children:(0,u.jsx)(i.xv,{size:"200",children:r._('Birthdate', 'registerForm.label.birthdate', 'Label for birthdate field')})})}),(0,u.jsx)(i.u,{idealDirection:"right",text:l?r._('To help keep Pinterest safe, we now require your birthdate. Your birthdate also helps us provide more personalized recommendations and relevant ads. We don\'t share this information and it won\'t be visible on your profile.', 'registerForm.label.birthdate.tooltipDescription', 'Tooltip explaining why we require birthdate'):r._('We collect this info to help provide a better experience for the younger people in our community. We\u2019ll also use your birthdate to help personalize your recommendations and ads. It will not be displayed publicly.', 'registerForm.label.birthdate.tooltipDescription', 'Tooltip explaining why we require birthdate'),zIndex:_.C,children:(0,u.jsx)(i.JO,{accessibilityLabel:r._('Tooltip', 'registerForm.label.birthdate.tooltip.access', 'accessibility tooltip for birthdate'),icon:"info-circle"})})]})}),(0,u.jsx)(i.xu,{"data-test-id":"signup-birthdate-field",children:(0,u.jsx)(i.nv,{autoComplete:"bday",errorMessage:t,id:"birthdate",onChange:e=>{s(e),o("")},size:"lg",type:"date",value:e||""})})]})}var m=o(361927),f=o(630089),x=o(811359);function b({buttonText:e,buttonTextLabel:t,disableEmailLogin:o,email:l,emailFieldHasError:_,emailLabel:p,emailText:b,emailValidationError:y,hideEmailField:v,hideFacebookButton:w,hideGoogleButton:P,hidePasswordField:S,onButtonClick:A,onEmailBlur:C,onEmailChange:E,onPasswordChange:T,password:j,passwordResetLink:k,passwordText:I,passwordValidationError:O,signupForm:R,suppressFocus:L,component:z,attributionLabel:N,viewType:M,viewParameter:D}){const B=(0,c.ZP)(),[Z,U]=(0,n.useState)(!!R),[F,G]=(0,n.useState)(null),[V,H]=(0,n.useState)("");let W=y;W||!S&&!o||(w||P?!w&&P?W=B._('Your account is connected to Facebook - use the Facebook button to log in', 'Customized desktop login for users with Facebook', 'Customized desktop login for users with Facebook'):w&&!P&&(W=B._('Your account is connected to Google - use the Google button to log in', 'Customized desktop login for users with Google', 'Customized desktop login for users with Google')):W=B._('Your account is connected to Facebook and Google - use the buttons to log in', 'Customized desktop login for users with FB and Google', 'Customized desktop login for users with FB and Google'));const{logContextEvent:$}=(0,s.v)();return(0,u.jsxs)("form",{"data-test-id":"registerForm",method:"POST",noValidate:!0,onSubmit:e=>{e.preventDefault(),A(e)},children:[!v&&(0,u.jsx)(i.xu,{marginBottom:1,marginStart:2,children:(0,u.jsx)(i.__,{htmlFor:"email",children:(0,u.jsx)(i.xv,{size:"200",children:B._('Email', 'registerForm.label.email', 'Label for email field')})})}),!v&&(0,u.jsx)(i.xu,{"data-test-id":"emailInputField",dangerouslySetInlineStyle:{__style:{marginBottom:7}},children:(0,u.jsx)(m.Z,{accessibilityLabel:p,autoComplete:"email",disabled:!(null==R||!R.registerRestricted),domainError:F?(0,f.nk)(B._('Did you mean {{ newEmail }}?', ' - ', ' -- '),{newEmail:(0,u.jsx)(i.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:F},"err_text")}):void 0,focused:!L,hasError:!!y||!!_,id:"email",name:"id",onBlur:()=>{null==C||C(),R&&(l?R.checkEmailExistsWithCompletion({email:l,handleEmailExists:()=>{(0,d.My)("web.unauth.signup.email_entered"),Z&&U(!1)},handleEmailNotExist:async()=>{Z||U(!0),await R.checkEmailValidation(l)},handleError:()=>{U(!0)}}):U(!0));const e=e=>{H(e),l===e?G(null):(G(e),(0,d.My)("unauth.email_domain_typo_suggestion.shown"))},t=l&&-1!==l.indexOf("@")?l.split("@"):[];if(l&&l!==V||G(null),l&&t&&l.length<60){if(2===t.length){const o=t[1],n=o&&-1!==o.indexOf(".")?o.split("."):[];if(n.length>=2&&"gmail"===n[0])if("com"!==n.slice(1).join(".")){e(t[0]+"@gmail.com")}else G(null)}const o=t[1]&&a.includes(t[1])?null:t[1]&&a.map((e=>{const o=(0,x.Z)(e,t[1]);return 2===o||1===o?e:null})).filter((e=>"string"==typeof e));if(o&&o.length){e(o[0]?`${t[0]}@${o[0]}`:"")}}},onChange:E,placeholder:b,tooltip:W,type:"email",value:l})}),!S&&(0,u.jsx)(i.xu,{marginBottom:1,marginStart:2,children:(0,u.jsx)(i.__,{htmlFor:"password",children:(0,u.jsx)(i.xv,{size:"200",children:B._('Password', 'registerForm.label.password', 'Label for password field')})})}),!S&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(i.xu,{"data-test-id":"passwordInputField",children:(0,u.jsx)(m.Z,{autoComplete:"new-password",disabled:!!o||!(null==R||!R.registerRestricted),hasError:!!O,id:"password",name:"password",onChange:T,onFocus:()=>{(0,d.NC)("focus_password")},placeholder:I,tooltip:O,type:"password",value:j,focused:!!v&&!L})}),(0,u.jsx)(i.xu,{"data-test-id":"password-reset-button",children:null!=k?k:null})]}),window.recaptchaCount>0?(0,u.jsx)("div",{className:"g-recaptcha",id:`recaptcha_placeholder_${window.recaptchaCount}`,style:{marginTop:"16px",transform:"scale(0.88)",transformOrigin:"0 0"}}):null,R&&("birthday"===R.ageOrBirthday.type?(0,u.jsx)(g,{...R.ageOrBirthday.props}):Z&&(0,u.jsx)(h,{...R.ageOrBirthday.props})),(null==R?void 0:R.registerRestricted)&&"birthday"===R.ageOrBirthday.type&&(0,u.jsx)(i.xu,{marginTop:2,children:(0,u.jsx)(i.xv,{size:"100",color:"error",children:B._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'Signup.AgeStep.underageError', 'Error message shown when underage user tries to register')})}),!S&&(0,u.jsx)(i.xu,{"data-test-id":"registerFormSubmitButton",children:(0,u.jsx)(r.Z,{accessibilityLabel:t,className:"red SignupButton",disabled:o||!(null==R||!R.registerRestricted),onClick:()=>{$({view_type:M,view_parameter:D,component:z,element:14320===z?13506:30,event_type:10441,aux_data:{upsell_reason:N}}),Z?((0,d.NC)("press_signup_continue"),(0,d.Rp)({event:"start",provider:"email"})):((0,d.EX)({event:"start",provider:"email"}),(0,d.NC)("press_login_continue"))},styleOverrides:{width:"100%",borderRadius:"20px",marginTop:"8px"},type:"submit",children:(0,u.jsx)(i.xu,{children:e})})})]})}},300218:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(293926),s=o(536042),r=o(785893);const a=()=>{const e=(0,s.ZP)();return(0,r.jsx)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",position:"absolute",width:"100%",height:"100%",children:(0,r.jsxs)(n.xu,{color:"default",height:600,minWidth:"500px",rounding:2,width:"30%",children:[(0,r.jsxs)(n.xu,{alignItems:"center",direction:"column",display:"flex",height:"99%",justifyContent:"center",padding:12,children:[(0,r.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:60,justifyContent:"center",marginBottom:4,rounding:"circle",width:60,children:(0,r.jsx)(n.JO,{accessibilityLabel:e._('Loading state for google one tap registration', ' - ', ' -- '),color:"inverse",icon:"pin",size:"28"})}),(0,r.jsx)(n.xu,{paddingY:5,dangerouslySetInlineStyle:{__style:{"text-align":"center"}},children:(0,r.jsx)(n.X6,{children:e._('Welcome to Pinterest!', 'Welcome to Pinterest!', 'Welcome to Pinterest!')})}),(0,r.jsx)(n.xv,{align:"center",overflow:"normal",children:(0,r.jsx)("span",{className:"deprecatedTextSizeXL",children:e._('Your answers to the next questions will help us find the right ideas for you', 'loading state description while waiting for google one tap registration to complete', 'loading state description while waiting for google one tap registration to complete')})})]}),(0,r.jsx)(n.xu,{width:"100%",children:(0,r.jsx)(i.Z,{duration:6e3,finalProgress:95,shape:"rounded"})})]})})}},152448:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(88622),s=o(536042),r=o(785893);function a({type:e,onDismiss:t}){const o=(0,s.ZP)(),a="facebook"===e?o._('Oops! Facebook isn\'t available', 'socialAuthDisabled.facebook.title', 'Title for the modal shown when Facebook services are not working'):o._('Oops! Google isn\'t available', 'socialAuthDisabled.google.title', 'Title for the modal shown when Google services are not working'),l="facebook"===e?o._('Looks like Facebook isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.facebook.description', 'Description for the modal shown when Facebook services are not working'):o._('Looks like Google isn\'t available right now.\n\nGive another option a try or refresh the page and try again later.', 'socialAuthDisabled.google.description', 'Description for the modal shown when Google services are not working');return(0,r.jsx)(i.ZP,{accessibilityModalLabel:a,footer:(0,r.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,r.jsx)(n.xu,{paddingX:1,children:(0,r.jsx)(n.zx,{color:"red",onClick:t,text:o._('OK', 'socialAuthDisabled.okButton', 'Button that closes modal shown when Facebook or Google services are not working'),size:"md"})})}),heading:a,onDismiss:t,children:(0,r.jsx)(n.xu,{paddingX:5,children:(0,r.jsx)(n.xv,{align:"center",children:l})})})}},435983:(e,t,o)=>{o.d(t,{E:()=>l,Z:()=>c});var n=o(883119),i=o(536042),s=o(630089),r=o(837792),a=o(785893);const l="\n.TermsOfService__light a {\n  color: rgba(255,255,255,0.9);\n}\n";function c({dark:e}){const t=(0,i.ZP)();return(0,a.jsx)("div",{style:{marginTop:"12px"},children:(0,a.jsx)("span",{"data-test-id":"terms-of-service",className:e?"":"TermsOfService__light",style:{WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",fontSize:"11px",fontWeight:"normal",textAlign:"center",WebkitTransition:"opacity .2s linear",transition:"opacity .2s linear",...e?{color:"#767676",width:"224px"}:{color:"rgba(255,255,255,0.9)",lineHeight:"150%",margin:"10px auto",textShadow:"0 1px rgba(0,0,0,0.18)",width:"272px"}},children:(0,a.jsx)("span",{children:(0,s.nk)(t._('By continuing, you agree to Pinterest\'s {{ tos }} and acknowledge you\'ve read our {{ privacyPolicy }}. {{ noticeAtCollection }}.', 'termOfService.text', 'Agreement to legal texts for new users tos:Link to Terms of service privacyPolicy:Link to the Privacy Policy noticeAtCollection:Link to the Notice at collection article'),{tos:(0,a.jsx)(n.xu,{"data-test-id":"tos",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",color:"#111"}},children:(0,a.jsx)(n.rU,{display:"inlineBlock",target:"blank",href:r.dQ,underline:"hover",children:t._('Terms of Service', 'termOfService.link.tos', 'Link to TOS')},"tos")},"tos"),privacyPolicy:(0,a.jsx)(n.xu,{"data-test-id":"privacy",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",color:"#111"}},children:(0,a.jsx)(n.rU,{display:"inlineBlock",target:"blank",href:"/_/_/policy/privacy-policy/",underline:"hover",children:t._('Privacy Policy', 'termOfService.link.privacyPolicy', 'Link to privacy policy')},"privacy")},"privacy"),noticeAtCollection:(0,a.jsx)(n.xu,{"data-test-id":"noticeAtCollection",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{fontWeight:"bold",color:"#111"}},children:(0,a.jsx)(n.rU,{display:"inlineBlock",target:"blank",href:r.cv,underline:"hover",children:t._('Notice at collection', 'termOfService.link.noticeAtCollection', 'Link to notice at collection')},"noticeAtCollection")},"noticeAtCollection")})})})})}},361927:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(667294),i=o(883119),s=o(785893);function r({accessibilityLabel:e,autoComplete:t="on",disabled:o,domainError:r,focused:a,hasError:l,helperText:c,id:d,name:u,onBlur:h,onChange:_,onFocus:p,placeholder:g,tooltip:m,type:f,useExperimentalTextfield:x,value:b}){var y;const v=(0,n.useRef)(a),w=(0,n.useRef)(null),P=(0,n.useRef)(l);return(0,n.useEffect)((()=>{var e;v.current&&(null===(e=w.current)||void 0===e||e.focus())}),[]),(0,n.useEffect)((()=>{var e;!1===P.current&&l&&(null===(e=w.current)||void 0===e||e.focus());P.current=l}),[l]),(0,s.jsxs)("fieldset",{style:{position:"relative"},children:[(0,s.jsx)(i.xu,{display:"visuallyHidden",children:(0,s.jsx)(i.__,{htmlFor:d,children:null!==(y=null!=e?e:g)&&void 0!==y?y:""})}),(0,s.jsx)(i.nv,{autoComplete:x?void 0:t,disabled:o,errorMessage:m?x&&r||m:"",helperText:x?void 0:c,id:d,name:u,onBlur:h,onChange:({event:e})=>{_(e)},onFocus:p,placeholder:g,ref:w,size:x?void 0:"lg",type:f,value:b||""})]})}},975601:(e,t,o)=>{o.d(t,{Z:()=>r,g:()=>s});var n=o(883119),i=o(785893);const s="\n.Tooltip_message:before, .Tooltip_message:after {\n  border-style: solid;\n  content: '';\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_message:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_message:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_mobileMessage:before, .Tooltip_message:after {\n  border-style: solid;\n  display: block;\n  margin-top: -8px;\n  position: absolute;\n  right: 100%;\n  top: 17px;\n  width: 0;\n}\n.Tooltip_mobileMessage:before {\n  border-color: transparent rgba(0,0,0,0.48);\n  border-width: 8px 10px 8px 0;\n}\n.Tooltip_mobileMessage:after {\n  border-color: transparent #fff;\n  border-width: 8px 10px 8px 0;\n  margin-right: -1px;\n}\n.Tooltip_wrapper {\n  position: absolute;\n  left: calc(100% + 12px);\n  z-index: 1;\n}\n.Tooltip_mobileWrapper {\n  margin-top: 7px;\n  z-index: 1;\n}\n";function r({message:e}){return(0,i.jsxs)("div",{className:"Tooltip_wrapper","data-test-id":"tooltip",style:{top:"0px",width:"215px"},children:[(0,i.jsx)("div",{className:"Tooltip_message",style:{background:"#fff",borderRadius:"6px",WebkitBoxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",boxShadow:"0 0 2px rgba(0,0,0,0.38),0 1px 3px rgba(0,0,0,0.32)",color:"#000",fontStyle:"normal",fontWeight:"normal",lineHeight:"150%",padding:"8px 14px",textAlign:"left",maxWidth:"215px",display:"inline-block",float:"left"},children:(0,i.jsx)("span",{dangerouslySetInnerHTML:{__html:e},style:{overflowWrap:"break-word",wordWrap:"break-word"}})}),(0,i.jsx)(n.xu,{})]})}},654194:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(31397),s=o(883119),r=o(682126),a=o(457628),l=o(791045),c=o(950073),d=o(550140),u=o(536042),h=o(950861),_=o(98736),p=o(785893);const g=({birthday:e,onEditBirthday:t,onConfirmBirthday:o=(()=>{})})=>{const g=(0,u.ZP)(),[m,f]=(0,n.useState)(!1),x=e?(0,i.Z)(new Date,(0,c.Z)(e)):0;return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(s.xu,{padding:8,"data-test-id":"underageconfirmation-modal",children:(0,p.jsxs)(s.kC,{direction:"column",justifyContent:"center",alignItems:"center",children:[(0,p.jsx)(s.xu,{width:420,marginBottom:5,"data-test-id":"underageconfirmation-title",children:(0,p.jsx)(s.X6,{align:"center",size:"600",children:(0,r.ew)(x,g)})}),(0,p.jsx)(s.xu,{marginBottom:10,maxWidth:540,children:(0,p.jsx)(s.xv,{align:"center",children:(0,r.ML)(g)})}),(0,p.jsx)(s.xu,{children:(0,p.jsxs)(s.kC,{children:[(0,p.jsx)(s.xu,{marginEnd:2,children:(0,p.jsx)(s.zx,{text:g._('Edit', 'signup.underageconfirmation.edit', 'Text on the edit button for birthday collection underage screen'),onClick:()=>{(0,_.My)("dweb.underageconfirmation.edit"),a.t8(l.It,"0",(0,a.kZ)(l.It)),t()}})}),(0,p.jsx)(s.zx,{text:g._('Confirm', 'signup.underageconfirmation.confirm', 'Text on the confirm button for birthday collection underage screen'),type:"submit",color:"red",onClick:()=>{f(!0),(0,_.My)("dweb.underageconfirmation.confirm"),o(),setTimeout((()=>{h.ZP.handleRedirect("/")}),4e3)}})]})})]})}),m&&(0,p.jsx)(s.xu,{fit:!0,dangerouslySetInlineStyle:{__style:{bottom:"50%",left:"50%",transform:"translateX(-50%)"}},paddingX:1,position:"fixed",children:(0,p.jsx)(d.ZP,{onHide:()=>f(!m),text:g._('Sorry, you\u2019re not eligible to sign up for Pinterest right now.', 'signup.underageconfirmation.error', 'Error message shown when underage user tries to register'),duration:3500})})]})}},231652:(e,t,o)=>{o.d(t,{a$:()=>h,kv:()=>u,pH:()=>_});var n=o(690108),i=o(315219),s=o(837792),r=o(845098);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends Error{constructor(e){super(e.statusText),a(this,"name","CrossDomainHandshakeHttpError"),this.response=e}}class c extends Error{constructor(e){super(e.message),a(this,"name","CrossDomainHandshakeApiError"),this.api_error_code=e.code,this.response=e}}const d=({path:e,data:t,unauthId:o})=>fetch(`${s.cD}/v3/${e}/handshake/`,{credentials:"include",mode:"cors",method:"POST",body:(0,r.Z)(t),headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","X-Pinterest-InstallId":o}}).then((e=>{if(200===e.status||401===e.status||409===e.status)return e;throw new l(e)})).then((e=>e.json())).then((e=>{if("success"===e.status)return Promise.resolve(e);if(e.code===i.Zn)return e.api_error_code=e.code,Promise.reject(e);throw new c(e)})).catch((e=>{throw e})),u=(e,t=!1)=>n.Z.create("HandshakeSessionResource",{token:e,isRegistration:t}).callCreate(),h=(e,{facebookToken:t,inviteCode:o,locale:n,referrer:i,unauthId:s})=>{const r=(e.business_name?"partner":e.facebook_id&&"facebook")||"email";let a={email:e.email||"",username:e.username||"",password:e.password||"",first_name:e.first_name||"",last_name:e.last_name||"",country:e.country||"",locale:n,referrer:i};return e.birthday&&(a={...a,birthday:e.birthday}),e.custom_gender&&(a={...a,custom_gender:e.custom_gender}),e.gender&&(a={...a,gender:e.gender}),e.business_name&&(a={...a,business_name:e.business_name,first_name:e.business_name}),o&&(a={...a,invite_code:o}),e.facebook_id&&(a={...a,facebook_id:e.facebook_id,facebook_token:t||e.facebook_token||""}),e.recaptchaV3Token&&(a={...a,recaptcha_v3_token:e.recaptchaV3Token}),d({path:`register/${r}`,data:a,unauthId:s})},_=(e,{recaptchaV3Token:t,referrer:o,unauthId:n})=>{const i=e.mfa_token?"login/mfa":"login";let s={username_or_email:e.username_or_email.trim(),password:e.password,referrer:o};return e.mfa_token&&(s={...s,mfa_token:e.mfa_token}),t&&(s={...s,token:t}),d({path:i,data:s,unauthId:n})}},891643:(e,t,o)=>{o.d(t,{B$:()=>c,Cw:()=>r,I7:()=>l,c4:()=>a});var n=o(667294),i=o(583592);const s=(0,n.createContext)(null),r=()=>(0,n.useContext)(s),a=s.Provider,{Provider:l,useHook:c}=(0,i.Z)("DesktopCoreLogin")},45818:(e,t,o)=>{o.d(t,{o:()=>a,x:()=>r});var n=o(667294),i=o(536042);const s=new Set,r=e=>{s.forEach((t=>t(e)))},a=e=>{const t=(0,i.ZP)();(0,n.useEffect)((()=>{const o=o=>{e(o||t._('Unknown Error', 'unauth.error.modal.unknown', 'Text saying an unknown error occurredr'))};return s.add(o),()=>{s.delete(o)}}),[])}},261551:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(560544);const i=e=>({type:"facebook",first_name:e.first_name,last_name:e.last_name,email:e.email,gender:e.gender,image_url:e.picture&&!e.picture.data.is_silhouette?e.picture.data.url:void 0,facebook_id:e.id,facebook_token:e.access_token,birthday:e.birthday?(0,n.Z)(e.birthday):void 0})},583121:(e,t,o)=>{o.d(t,{Bx:()=>i,N4:()=>r,is:()=>a,lt:()=>n,oM:()=>s});const n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),i=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),s=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),r=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},321443:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(970588);const i=async()=>{try{var e,t,o,i;const s=await(0,n.Z)({url:"/v3/users/me/"}),r=(null===(e=s.resource_response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.email)||(null===(o=((null===(i=s.resource_response)||void 0===i?void 0:i.client_context)||Object.freeze({})).user)||void 0===o?void 0:o.email);"undefined"!=typeof window&&window.pintrk&&window.pintrk("track","custom",{lead_type:"Pinterest Login",em:r})}catch(s){}}},759495:(e,t,o)=>{o.d(t,{Z:()=>v});var n=o(667294),i=o(690108),s=o(388011),r=o(457628),a=o(791045),l=o(231652),c=o(669894),d=o(315219),u=o(814247),h=o(440534),_=o(950861),p=o(617285),g=o(499441),m=o(785629),f=o(626389),x=o(98736),b=o(284814),y=o(890415);function v(){const e=(0,u.hq)(),t=(0,p.Z)(),{logContextEvent:o}=(0,s.v)(),v=(0,b.Z)();return(0,n.useCallback)((({creds:n,isAccountSwitch:s,loggingOptions:{loggingData:u=Object.freeze({}),loginAttemptContextEvent:p},recaptchaV2Token:b,recaptchaV3Token:w})=>{t();const P=!(!n.facebook_autologin&&!n.autologin),S=(0,_.eD)(n),A=e=>{const t=n.google_open_id_token?"google":"facebook";P&&(0,x.dy)({event:e,provider:t})},C=e=>{P||(0,x.EX)({event:e,provider:(0,_.nY)(n)})};o({...p,event_type:7534}),v({action:P?"autologin":"login",event:"attempt",trigger:u.trigger,type:S});const E=e=>{let t="referrer_unknown";try{const e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(a){}const i=u===Object(u)?u.container:"container_unknown";(0,x.My)("login.referrer."+t+"."+S),(0,x.My)("login.container."+String(i)+"."+S),(0,x.My)("login.type."+S);const s=S||"method_unknown",r=u.page||"page_unknown";n.facebook_autologin?((0,x.My)("web_autologin_facebook"),(0,x.My)("new_web_autologin_facebook",{page:r,referrer:t,container:i})):((0,x.My)(`web_login.${s}.success.${r}.${String(i)}.${t}.tier1`),(0,x.My)(`new_web_login.${s}.success`,{page:r,referrer:t,container:i})),(0,g.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),o({...p,event_type:7536}),v({action:P?"autologin":"login",event:"success",trigger:u&&u.trigger,type:S})},T=({error:e,isCrossDomain:t})=>{if(!e)return;const n=e.http_status===m.Ej?m.Ej:e.api_error_code;let i=n;n&&d.qF.has(n)&&(i=d.qF.get(n));const{container:s,trigger:r}=u;(0,x.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(i)}.${s||"unknow_container"}.${S}`),o({...p,event_type:7535}),v({action:P?"autologin":"login",event:"fail",trigger:r,type:S})};if(n.username_or_email&&!n.mfa_resend&&e&&-1!==h.Z.indexOf(e.origin)){const t=e=>(0,x.My)(`web_cross_domain_login.${e}.${(0,_.eD)(n)}`);t("attempt");const{referrer:o,facebookToken:i,unauthId:s}=e;return(0,l.pH)(n,{recaptchaV3Token:w,referrer:o,facebookToken:i,unauthId:s}).then((e=>{const o=e&&e.data;if(o)return t("success_with_token"),(0,l.kv)(o).then((e=>(t("success_token_exchanged"),E(),Promise.resolve())),(e=>{throw t("success_token_not_exchanged"),e}));throw t("success_without_token"),new Error}),(e=>{throw t("failure"),T({error:e,isCrossDomain:!0}),e}))}A("login_api_call_start"),C("login_api_call_start");const j=(0,y.OJ)();return i.Z.create("UserSessionResource",{...n,...j?{referrer:j}:Object.freeze({}),get_user:n.get_user||n.switch_account&&s,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,y.t_)()||null,recaptchaV2Token:b,recaptchaV3Token:w}).callCreate({showError:!1,async:!0}).then((e=>{const{country:t,country_from_hostname:o,country_from_ip:n,region_from_ip:i}=(null==e?void 0:e.client_context)||Object.freeze({});return E({country:t,countryFromHostName:o,countryFromIp:n,regionFromIp:i}),A("login_api_call_success"),C("login_api_call_success"),(0,c.B)(!1),r.zN(a.e7.name),r.zN(a.x3.name),(0,f.D)("login").then((()=>e))}),(e=>(T({error:e,isCrossDomain:!1}),A("login_api_call_failure"),C("login_api_call_failure"),Promise.reject(e))))}),[e,t,o,v])}},133636:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(583121),i=o(536042),s=o(393599);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:o}=(0,s.H)(),r=(0,i.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==o||o.setText((null==t?void 0:t.loginModalHeader)||(0,n.lt)(r))}}},95983:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(675689);const i=e=>"UNAUTH"===e?Object.freeze({}):{login_state:"LIMITED_LOGIN"===e?n.Z.LIMITED:n.Z.DEFAULT}},591057:(e,t,o)=>{o.d(t,{C:()=>s,P:()=>i});var n=o(883119);const i=new n.Ry(1e4),s=new n.H3([i])},391670:(e,t,o)=>{o.d(t,{Mi:()=>i,lO:()=>s});var n=o(583592);const{Provider:i,useMaybeHook:s}=(0,n.Z)("pageContext")},669894:(e,t,o)=>{o.d(t,{B:()=>r,a:()=>s});var n=o(860438),i=o(619277);const s=()=>!!n.Z.getItem(i.WM),r=e=>{n.Z.setItem(i.WM,!!e)}},949433:(e,t,o)=>{o.d(t,{Z:()=>i,z:()=>s});var n=o(811359);function i(e){const t=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2===t.length){const e=t[1],o=e&&-1!==e.indexOf(".")?e.split("."):[];if(o.length>=2&&"gmail"===o[0]&&"com"!==o.slice(1).join("."))return!0;const i=(0,n.Z)(e,"gmail.com");if("g"===e.charAt(0)&&(1===i||2===i))return!0}return!1}function s(e,t){const o=e&&-1!==e.indexOf("@")?e.split("@"):[];if(2!==o.length)return!1;const i=o[1],s=i&&-1!==i.indexOf(".")?i.split("."):[],r=s[0];if(r===t&&s.length>3)return!0;if(s.length>=2){const e=(0,n.Z)(r,t);return r.charAt(0)===t.charAt(0)&&(1===e||2===e)}return(2!==s.length||r!==t||2!==s[1].length&&"com"!==s[1])&&(s.length,!1)}},737311:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(40660),s=o(391297);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class a extends n.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{var o;const{name:t}=this.props,n=this.props.type||"secondary";(0,s.T)({extraData:null!==(o=e.extraData)&&void 0!==o?o:{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),i.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){i.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:o}=this.state;return t&&o?e?e({error:t,info:o,resetError:this.resetError}):null:this.props.children}}},604094:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(737311).Z},527386:(e,t,o)=>{o.d(t,{CK:()=>_,N:()=>x,Qu:()=>p,UT:()=>h,YX:()=>f,d9:()=>g,fO:()=>c,kd:()=>m,pz:()=>d});var n=o(40660),i=o(690108),s=o(703688),r=o(256558),a=o(970588);let l;const c=(e,t)=>o=>{const n=t?{extra_context:e,targeting:t}:{extra_context:e};return i.Z.create("UserExperiencePlatformResource",n).callGet().then((e=>e.resource_response?o((0,r.OD)(e.resource_response.data)):void 0))},d=(e,t,o,n)=>(a,c)=>{if(t)return Promise.resolve();if(n&&(l=n),1===e.length){const t=e[0],n=c().experiences[t],i=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(i)===JSON.stringify(o)||(0,s.E3)(n)&&!(o&&Object.keys(o).length>0))return Promise.resolve()}return i.Z.create("UserExperienceResource",{placement_ids:e,extra_context:o||null,targeting:n}).callGet().then((e=>e.resource_response?a((0,r.cL)(e.resource_response.data)):void 0))},u=(e,t)=>(o,n,s,a=!1,d,u)=>(h,_)=>{const{experiences:p,experiencesMulti:g}=_();let m=null,f=!0;var x;a||(f=p[o]&&p[o].experience_id===n,m=f?p[o]:Array.isArray(g[o])&&(null===(x=g[o])||void 0===x?void 0:x.find((e=>e.experience_id===n))));if(m&&m.experience_id===n||a&&o&&n){const a=i.Z.create(e,{placed_experience_id:`${o}%3A${n}`,extra_context:null!=d?d:{},targeting:u}),_=f?r.Yb:r.xW;switch(t){case"dismissed":return a.callDelete().then((()=>{h(_(o,n,t)),h(c(void 0,l))}));case"completed":return a.callUpdate().then((()=>{s||(h(_(o,n,t)),h(c(void 0,l)))}));case"viewed":return h(_(o,n,t)),a.callUpdate().then((()=>{1000162===o&&h(c())}));case"completedWithoutHomefeed":return a.callUpdate().then((()=>{s||h(_(o,n,t))}));default:return Promise.resolve()}}return Promise.resolve()},h=u("UserExperienceViewedResource","viewed"),_=u("UserExperienceCompletedResource","completed"),p=u("UserExperienceResource","dismissed"),g=u("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(o,i)=>{const{experiences:s}=i(),r=s[e];r&&r.triggerable_placed_exps&&r.triggerable_placed_exps.length&&r.triggerable_placed_exps.forEach((o=>{const[,i]=o.split(":");let s=t;r.metadata&&r.metadata[i]&&(s={...t,...r.metadata[i]}),(0,a.Z)({url:`/v3/experiences/${o.replace(":","%3A")}/trigger/`,method:"PUT",data:s?{extra_context:JSON.stringify(s,null,1)}:{}}).then((()=>{((e,t,o={})=>{n.Z.increment(`${e}.${t}`,1,o)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:i})}))}))},f=e=>(t,o)=>{t(m(e));const{experiences:n}=o();return n[e]},x=(e,t,o)=>n=>{o&&(l=o),n(m(e,t)),t&&Object.keys(t).length>0&&n(d([e],!1,t,o))}},703688:(e,t,o)=>{function n(e){return!!e&&0!==e.type}o.d(t,{A0:()=>s,E3:()=>n,MQ:()=>i});const i=(e,t,o)=>{const i=e[o];return t[o]&&n(i)?i:null};function s(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},488897:(e,t,o)=>{o.d(t,{$S:()=>n,V$:()=>i,_4:()=>r,iY:()=>a,mR:()=>s});const n="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},256558:(e,t,o)=>{o.d(t,{NW:()=>r,OD:()=>l,Yb:()=>a,cL:()=>c,xW:()=>s});var n=o(690108),i=o(488897);const s=(e,t,o)=>({type:i.V$,payload:{placementId:e,experienceId:t,status:o}}),r=e=>t=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((o=e.resource_response.data,{type:i.$S,payload:{experiencesMulti:o}})):void 0;var o})),a=(e,t,o)=>({type:i.iY,payload:{placementId:e,experienceId:t,status:o}}),l=e=>({type:i._4,payload:{experiences:e}}),c=e=>({type:i.mR,payload:{experiences:e}})},447390:(e,t,o)=>{function n(e){e&&e.focus()}o.d(t,{Z:()=>n})},621699:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(785893);const s=(e,t)=>{const o=null==e?void 0:e.includes("images/user/default");return Boolean(o&&t)};function r({accessibilityLabel:e,name:t,outline:o,size:r,src:a,verified:l}){return(0,i.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:o,size:r,src:s(a,t)?void 0:a,verified:l})}r.displayName="Avatar";const a=r},310072:(e,t,o)=>{function n(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}o.d(t,{Z:()=>n})},13596:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(734417),i=o(282802),s=o(785893);const r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:o,shortform:r,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:c,value:d})=>{const u=(0,n.Z)();return(0,s.jsx)(i.LC,{children:n=>u(n.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:o,shortform:r,shortform_maximum_fraction_digits:a,style:l,uplimit:c})})}},62152:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(736409),i=o(536042),s=o(630089);function r(){const e=(0,i.ZP)();return function(t,o){const i=new Date(t),r=new Date-i,a=Math.floor(r/n.FS),l=Math.floor(r/n.UK),c=Math.floor(r/n.F4),d=Math.floor(r/n.VL),u=Math.floor(r/n.N1),h=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', a, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),p=e.ngettext('{{ days }} day ago', '{{ days }} days ago', c, ' - ', ' -- '),g=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', d, ' - ', ' -- '),m=e.ngettext('{{ years }} year ago', '{{ years }} years ago', u, ' - ', ' -- '),f=e.ngettext('{{ minutes }}m', '{{ minutes }}m', a, 'minutes ago abbreviated', 'minutes ago abbreviated'),x=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),b=e.ngettext('{{ days }}d', '{{ days }}d', c, 'days ago abbreviated', 'days ago abbreviated'),y=e.ngettext('{{ weeks }}w', '{{ weeks }}w', d, 'weeks ago abbreviated', 'weeks ago abbreviated'),v=e.ngettext('{{ years }}y', '{{ years }}y', u, 'years ago abbreviated', 'years ago abbreviated');return u>0?(0,s.nk)(o?v:m,{years:u}).join(""):d>0?(0,s.nk)(o?y:g,{weeks:d}).join(""):c>0?(0,s.nk)(o?b:p,{days:c}).join(""):l>0?(0,s.nk)(o?x:_,{hours:l}).join(""):a>0?(0,s.nk)(o?f:h,{minutes:a}).join(""):e._('Just now', ' - ', ' -- ')}}},734417:(e,t,o)=>{o.d(t,{Z:()=>c});var n=o(536042),i=o(493851);const s=(e,t)=>{const o=t||0,n=10**o,i=+(o?e*n:e).toFixed(8),s=Math.floor(i),r=i-s,a=r>.5-1e-8&&r<.5+1e-8?s%2==0?s:s+1:Math.round(i);return o?a/n:a},r=({maximumFractionDigits:e,minimumFractionDigits:t,style:o,currency:n})=>{const i={maximumFractionDigits:e,minimumFractionDigits:t};return o?{...i,style:o,..."currency"===o?{currency:n,currencyDisplay:"symbol"}:{}}:i},a=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0},l=(e,t)=>{if(t){const{minimumFractionDigits:o,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==o&&void 0!==n)return{minimumFractionDigits:o,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function c(){const e=(0,n.ZP)();return(t,o,n)=>{let c=0,d=0;const u=n&&n.style||void 0,h=n&&n.shortform||!1,_=n&&n.uplimit||void 0,p=n&&n.currency||void 0,g=!!_&&o>=_,m=_&&g?_:o;if("currency"===u){const{minimumFractionDigits:e,maximumFractionDigits:o}=l(t,p);c=void 0===n||void 0===n.maximum_fraction_digits?o:n.maximum_fraction_digits,d=void 0===n||void 0===n.minimum_fraction_digits?e:n.minimum_fraction_digits}else c=void 0===n||void 0===n.maximum_fraction_digits?0:n.maximum_fraction_digits,d=void 0===n||void 0===n.minimum_fraction_digits?0:n.minimum_fraction_digits;if(h&&m>999&&(c=void 0===n||void 0===n.shortform_maximum_fraction_digits?2:n.shortform_maximum_fraction_digits,d=0),c<d)return String(m);let f=m,x="";const b=[{"100M":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],y=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],v=/^zh|ja|ko/.test(t);if(h&&m>999){const e=v?b:y;for(let t=0;t<e.length;t+=1){const o=Object.keys(e[t])[0],n=e[t][o].value;if(m>=n){f=s(m/n*Math.pow(10,c))/Math.pow(10,c),x=e[t][o].localeKey;break}}}if(null==f)return"";const w=f.toLocaleString([a(t)&&"ar-SA"!==t?t:"en-US"],r({maximumFractionDigits:c,minimumFractionDigits:d,currency:p,style:u}));return x&&x.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:w,numberSuffix:x})+(g?"+":""):w+(g?"+":"")}}},121633:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{Z3:()=>h,LU:()=>_,ZP:()=>p});const i=1e6,s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:l,[r.stopped]:l,[r.paused]:l,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(r.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,s&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(r.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*i,endTime:Date.now()*i,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(s)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case r.flushed:case r.paused:case r.exit:a[this.debugId]=!0}}}function u(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const h=!0,_=!1;class p{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const o=this.mutationObservers.get(t);o&&o.offsetHeight<1&&o&&this.stop(o,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=_,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const o=this.activeImpressions.get(e);var n;o&&(o.stop(t),this.mutationObservers.delete(o.mutationObserver),o.stopMutationObserver(),this.activeImpressions.delete(e),null===(n=window.activeImpressions)||void 0===n||n.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){var o;t=new d(e),this.activeImpressions.set(e,t),null===(o=window.activeImpressions)||void 0===o||o.set(e,t),this.observer.observe(e);const n=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(n)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=h){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===_&&(this.pausePriority=e))}resume(e=h){e===_&&this.pausePriority===h||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=_)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:o}=t.getBoundingClientRect();return o>e?o:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:o}=t.getBoundingClientRect();return o<e?o:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const o={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,o),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},906215:(e,t,o)=>{o.d(t,{Z:()=>n});const n=new(o(121633).ZP)},991937:(e,t,o)=>{o.d(t,{Z:()=>i});const n=e=>e.split("").sort((()=>.5-Math.random())).join("");function i(e,t){const o=e.split("@")[0];let i="";return i=o.includes(".")?o.replace("."," "):o.includes("_")?o.replace("_"," "):o,i=i.replace(/[0-9]/g,""),"GB"===t?"User_"+n(i):(i=i.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),i)}},525571:(e,t,o)=>{o.d(t,{Z:()=>i});const n=28;function i(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+n),(new Date).getTime()<t.getTime()}},731048:(e,t,o)=>{o.d(t,{Z:()=>n});const n={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},811359:(e,t,o)=>{function n(e,t){if(0===e.length)return t.length;if(0===t.length)return e.length;const o=[];let n,i;for(n=0;n<=t.length;n+=1)o[n]=[n];for(i=0;i<=e.length;i+=1)o[0][i]=i;for(n=1;n<=t.length;n+=1)for(i=1;i<=e.length;i+=1)t.charAt(n-1)===e.charAt(i-1)?o[n][i]=o[n-1][i-1]:o[n][i]=Math.min(o[n-1][i-1]+1,Math.min(o[n][i-1]+1,o[n-1][i]+1));return o[t.length][e.length]}o.d(t,{Z:()=>n})},20134:(e,t,o)=>{function n(e){let t=!1;return{promise:new Promise(((o,n)=>{e.then((e=>t?n({isCanceled:!0}):o(e)),(e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}o.d(t,{Z:()=>n})},310646:(e,t,o)=>{function n(e,t){if("object"==typeof e&&"object"==typeof t){const o=Object.keys(e),n=Object.keys(t);return o.length===n.length&&o.every((o=>e[o]===t[o]))}return e===t}o.d(t,{Ak:()=>n,_Y:()=>i,qe:()=>a,xZ:()=>r});const i=(e,t)=>e.length===t.length&&e.every(((e,o)=>n(e,t[o]))),s=(e,t)=>e.length===t.length&&e.every(((e,o)=>e===t[o])),r=(e,t=s)=>o=>{const n=[];return function(...i){const s=this,r=n.find((e=>e.context===s&&t(e.args,i)));if(r)return r.result;const a={context:s,args:i,result:o.apply(this,i)};return n.push(a),e&&n.length>e&&n.shift(),a.result}},a=r(1);r()},752977:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(840093),i=o(514316);const s=e=>{var t;const o={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return o.fullName&&o.imageMediumUrl&&o.imageLargeUrl||(0,n.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create?{...o,partner:{is_create:!0}}:o},r=(e,t,o)=>{(0,i.r8)({...(0,i.rl)(),[e.id]:s(e)}),t&&o&&(0,n.Z)("new_account_add_success",{method:t,user_added:e.id},o)}},840093:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(172045),i=o(514316),s=o(98736);const r="web_account_switcher",a=(e,t,o)=>{let a=(0,i.yW)();a||(a=(()=>{const e=(0,n.Z)();return(0,s.tj)(`${r}.utils.group_created`,{group_id:e,group_count:(0,i.lv)()}),e})(),(0,i.M3)(a));const l={group_count:(0,i.lv)()};let c="";o&&(c="account_switcher_modal"===o?"modal.":"flyout."),(0,s.tj)(`${r}.${c}${e}`,{...t,...l})}},275084:(e,t,o)=>{function n(e,t){if(!Array.isArray(t)){const{[t]:o,...n}=e;return n}const o=new Set(t.flat());return Object.fromEntries(Object.entries(e).filter((([e])=>!o.has(e))))}o.d(t,{Z:()=>n})},850019:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(898252);const i=()=>({isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1});function s(e){var t;const{access:o,attribution:s,embed:r,is_eligible_for_web_closeup:a,promoted_is_lead_ad:l,rich_summary:c,sponsorship:d,story_pin_data_id:u,videos:h}=e,_=i();l&&(_.isLeadPin=!0),null!==(t=e.carousel_data)&&void 0!==t&&t.id&&(_.isCarousel=!0),a&&(_.isOneTap=!0),(0,n.iR)(h)&&(_.isVideo=!0);const p=r||s&&s.embed||null;return p&&"gif"===p.type&&(_.isGif=!0),c&&"product"===c.type_name&&(_.isProduct=!0),c&&"recipe"===c.type_name&&(_.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(_.isPromoted=!0),(o||[]).includes("write")&&(_.isOwnPin=!0),u&&(_.isStoryPin=!0),d&&(_.isSponsored=!0),_}},898252:(e,t,o)=>{o.d(t,{NK:()=>y,Nc:()=>v,VX:()=>c,ZE:()=>f,Zt:()=>x,_J:()=>h,_S:()=>w,cL:()=>g,dZ:()=>A,hb:()=>b,hy:()=>u,iR:()=>l,jL:()=>d,o:()=>P,oN:()=>r,pU:()=>S,rM:()=>m,sV:()=>_,sY:()=>p});var n=o(850019);const i="all_time_realtime",s="30d_realtime",r=5e3,a=["Uploaded by user"],l=e=>!!e&&!!e.video_list,c=(e,t)=>t&&t.products&&t.products.length>0||(null==e?void 0:e.products)&&e.products.length>0||!1,d=(e,t)=>!!t&&!e,u=e=>!!e,h=e=>!!e&&5!==e,_=e=>["email","messages","deep_linking"].includes(e),p=e=>!!e&&"gif"===e,g=({embedSrc:e,embedSubtype:t,embedType:o})=>!!e&&!p(o)&&!(e=>"pinstory"===e)(t),m=({link:e,mobileLink:t,trackedLink:o})=>!t&&!o&&!e,f=e=>/pin.it/gim.test(e||""),x=({link:e,mobileLink:t,origImageUrl:o,trackedLink:n})=>t||n||e||o||"",b=({isGif:e,isProductPin:t,isRecipePin:o,isStoryPin:n,isVideoPin:i})=>e?"gif":t?"productPin":o?"recipePin":n?"storyPin":i?"video":"image",y=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function v({pin:e,isSCEEnabled:t}){var o;const{aggregated_pin_data:i}=e,{isStoryPin:r,isVideo:a}=(0,n.Z)(e);return!(!t&&(r||a))&&0!==Object.keys((null==i||null===(o=i.creator_analytics)||void 0===o?void 0:o[s])||{}).length}function w(e){for(const t of a)if(e===t)return!1;return!0}function P(e){return 0!==Object.keys((null==e?void 0:e[s])||{}).length}function S(e){return 0!==Object.keys((null==e?void 0:e[i])||{}).length}function A(e){var t;return!(null==e||null===(t=e[s])||void 0===t||!t.is_realtime)}},623151:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class s extends n.Component{constructor(e){super(e),i(this,"onImageLoad",(e=>{this.mounted&&("number"==typeof e.width&&"number"==typeof e.height&&e.width>119&&e.height>119?this.setState((t=>({loadedItems:[...t.loadedItems,e]}))):this.setState((e=>({errors:e.errors+1}))))})),i(this,"onImageError",(()=>{this.mounted&&this.setState((e=>({errors:e.errors+1})))})),i(this,"mounted",!1),i(this,"loadImages",(e=>{const t=new Image;t.onload=()=>this.onImageLoad({height:t.naturalHeight,url:e,width:t.naturalWidth}),t.onerror=()=>this.onImageError(),t.src=e})),this.state={errors:0,loadedItems:[]}}componentDidMount(){this.mounted=!0;const{url:e}=this.props;this.loadImages(e||"")}componentWillUnmount(){this.mounted=!1}render(){const{children:e}=this.props,{loadedItems:t}=this.state;return e({image:t})}}},900276:(e,t,o)=>{o.d(t,{$4:()=>I,$K:()=>T,AQ:()=>H,ASPECT_RATIO_FORMAT_MAP:()=>B,Bj:()=>f,DB:()=>W,FH:()=>ae,FM:()=>J,G9:()=>N,GX:()=>m,Hy:()=>de,JO:()=>R,Ke:()=>O,LM:()=>i,Lc:()=>_e,Lr:()=>ce,MN:()=>b,Mn:()=>Q,NB:()=>te,P0:()=>oe,P9:()=>re,Pn:()=>y,TK:()=>w,TZ:()=>E,UU:()=>u,Uw:()=>K,VP:()=>he,W_:()=>le,XB:()=>l,Xy:()=>j,YM:()=>P,aD:()=>pe,aj:()=>U,bA:()=>z,bo:()=>c,dS:()=>A,eZ:()=>p,fk:()=>ie,g1:()=>ue,gU:()=>d,i2:()=>h,iR:()=>M,jh:()=>ge,km:()=>_,lx:()=>L,mr:()=>$,mt:()=>V,n_:()=>Z,np:()=>G,of:()=>n,q:()=>fe,qY:()=>S,qm:()=>se,rc:()=>X,ro:()=>me,sD:()=>r,sG:()=>g,u1:()=>q,uR:()=>a,v5:()=>s,v9:()=>Y,vk:()=>ee,wj:()=>v,x1:()=>D,yC:()=>x,yI:()=>k,yX:()=>C,yb:()=>F,zr:()=>ne});const n=880,i=340,s=380,r=510,a=40,l=20,c=4,d=474,u=134,h=96,_=800,p=186,g=40,m=10,f=88,x=183,b=130,y=24,v=400,w=50,P=8,S=8,A=5,C=20,E=13,T=29,j=5,k=20,I=k**2,O=100,R=500,L=500,z=40,N=100,M=5,D=["attempted","publishing","succeeded","uploading"],B={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}],storyFARPortrait:[{w:1,h:2},{w:9,h:16},{w:2,h:3},{w:3,h:4},{w:4,h:5},{w:1,h:1}],storyFARLandscape:[{w:2,h:1},{w:16,h:9},{w:3,h:2},{w:4,h:3},{w:5,h:4},{w:1,h:1}]},Z=["tl","tc","tr","bl","bc","br"],U=["left","center"],F=["top","center","bottom"],G=["none","uppercase"],V=["sm","md","lg"],H=[1,.75],W=198,$=132,Y=1,q=56,K=240,X="cubic-bezier(0.66, 0.025, 0.33, 0.975)",J=1e3,Q=1500,ee=2,te=3,oe=20,ne=20,ie=2,se=["processing","publishing","saving"],re=60.5,ae=120.5,le=1,ce=104857600,de=2500,ue=3,he=5e3,_e="pin-builder-default-education-id",pe="pin-builder-default-tour-id",ge="pin-builder-editing-tour-id",me="save_from_url",fe=["processing","edited","creating","saving","saved"]},240668:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(739425),i=o(384722);const s={carousel:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multipage_deprecation:{customEnabledCheck:()=>!1,experiment:"web_multipage_deprecation",hasCustomEnabledCheck:({orbacActingAs:e,requestContext:t,viewer:o})=>{const n=e?(0,i.lJ)(o,e):"";n||(t.experimentsClient.checkExperiment("sce_lightswitch_organic"),t.experimentsClient.checkExperiment("sce_lightswitch_monetized"));const{sterlingOnSteroidsLdap:s}=t||{};return!!s||!!n},groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!1,scenarios:["story_pin_v2"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},preview_deprecation:{experiment:"web_idea_pin_creation_preview_deprecation",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!1,scenarios:["story_pin_v2"]},ideaPinExtendVideoLength:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinExtendVideoLengthAboveTwoMin:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_extend_video_duration_above_two_min",groups:/^(employees_min|enabled_min)/,scenarios:["story_pin_v2"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacExperiment:"web_m10n_business_access_orbac_www"},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacExperiment:"web_m10n_business_access_orbac_www"},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacExperiment:"web_m10n_business_access_orbac_www"},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacExperiment:"web_m10n_business_access_orbac_www"},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:({user:e})=>!(null==e||!e.video_upload_allowed),authOnly:!0,hasCustomEnabledCheck:()=>!0,orbacExperiment:"web_m10n_business_access_orbac_www"},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacExperiment:"web_m10n_business_access_orbac_www"},pinQuality:{partnerOnly:!0},ideaPinLinkCreation:{authOnly:!0,partnerOnly:!1,experiment:"web_idea_pin_link_creation",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinScheduling:{authOnly:!0,partnerOnly:!1,experiment:"web_sce_idea_pin_scheduling",groups:/^(employees|enabled)/},ideaPinDraftExpirationTimeBased:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_drafts_expire_time_based",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinDescriptionInDetails:{authOnly:!0,partnerOnly:!1,experiment:"web_sc_combined_desc_details",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinPublishPwtReduceImageRegistrations:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_publish_pwt_reduce_image_registrations",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinPublishPwtReduceMediaStatusWaiting:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_publish_pwt_reduce_media_status_waiting",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinPublishPwtPublishBeforeMediaCompleted:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_publish_pwt_publish_before_media_completed",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinPublishBeforeMediaCompletedCloseupPwt:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_publish_pwt_publish_before_media_complete_closeup_pwt",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},ideaPinMultiUpload:{authOnly:!0,partnerOnly:!1,experiment:"web_px_idea_pin_multi_upload",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]}},r={_experiments:null,_viewer:null,_advertiser:null,_scenario:null,_language:null,_context:null,_orbacActingAs:null,initialize(e){const{requestContext:t,viewer:o,location:i,advertiser:s,scenario:r,orbacActingAs:a}=e;this._context=e,this._experiments=t.experimentsClient,this._language=t.language,this._viewer=o,this._advertiser=s,this._orbacActingAs=a;const{adCreate:l}=(0,n.mB)(i.search);this._scenario=r||(l?"ad_creation":"default")},scenario(){return this._scenario},enabled(e){var t;if(!this._viewer||!this._experiments)return!1;const{advertisers:o,authOnly:n,customEnabledCheck:i,experiment:r,groups:a=/.*/,hasCustomEnabledCheck:l,languages:c,partnerOnly:d,scenarios:u,orbacDisabled:h,orbacExperiment:_}=s[e];return(!(!(null===(t=this._orbacActingAs)||void 0===t||!t.id)&&this._orbacActingAs.id!==this._viewer.id)||!(h||_&&"enabled"!==this._experiments.checkExperiment(_).group))&&(l&&i&&l(this._context)?i(this._context):!(!o||!this._advertiser||null===this._advertiser.billing_type)||!(n&&!this._viewer.isAuth)&&(!(d&&!this._viewer.isPartner)&&(!(u&&!u.includes(this._scenario))&&(!(c&&!c.includes(this._language))&&(!r||a.test(this._experiments.checkExperiment(r).group||""))))))},getExperimentGroup(e){if(!this._viewer||!this._experiments)return null;const{experiment:t}=s[e];if(t){const{group:e}=this._experiments.checkExperiment(t);return e}return null}}},897575:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(900276);function i(e,t=n.LM,o=0){return(t-2*o)/e.width*e.height+2*o}},278904:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(245410);const s=()=>{const{checkExperiment:e}=(0,i.F)(),{anyEnabled:t}=e("web_set_crossorigin_anonymous"),[o,s]=(0,n.useState)(t);return{enabled:o,disable:()=>s(!1)}}},814247:(e,t,o)=>{o.d(t,{aU:()=>a,hq:()=>r,o_:()=>i});var n=o(583592);const{Provider:i,useHook:s}=(0,n.Z)("AuthenticationContext");function r(){return s().loginContext}function a(){return s().logout}},353226:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e}){return(0,n.jsx)("svg",{height:e,viewBox:"0 0 512 512",width:e,xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,n.jsx)("path",{d:"M482.56 261.36c0-16.73-1.5-32.83-4.29-48.27H256v91.29h127.01c-5.47 29.5-22.1 54.49-47.09 71.23v59.21h76.27c44.63-41.09 70.37-101.59 70.37-173.46z",fill:"#4285f4"}),(0,n.jsx)("path",{d:"M256 492c63.72 0 117.14-21.13 156.19-57.18l-76.27-59.21c-21.13 14.16-48.17 22.53-79.92 22.53-61.47 0-113.49-41.51-132.05-97.3H45.1v61.15c38.83 77.13 118.64 130.01 210.9 130.01z",fill:"#34a853"}),(0,n.jsx)("path",{d:"M123.95 300.84c-4.72-14.16-7.4-29.29-7.4-44.84s2.68-30.68 7.4-44.84V150.01H45.1C29.12 181.87 20 217.92 20 256c0 38.08 9.12 74.13 25.1 105.99l78.85-61.15z",fill:"#fbbc05"}),(0,n.jsx)("path",{d:"M256 113.86c34.65 0 65.76 11.91 90.22 35.29l67.69-67.69C373.03 43.39 319.61 20 256 20c-92.25 0-172.07 52.89-210.9 130.01l78.85 61.15c18.56-55.78 70.59-97.3 132.05-97.3z",fill:"#ea4335"}),(0,n.jsx)("path",{d:"M20 20h472v472H20V20z"})]})})}},822123:(e,t,o)=>{o.d(t,{Z:()=>n});const n={EMAIL:1,FACEBOOK:2,GPLUS:3,GOOGLE_ONE_TAP:4,SMARTLOCK:5,MULTIFACTOR:6,SWITCH_ACCOUNT:7,LINE:8}},937633:(e,t,o)=>{o.d(t,{k:()=>S});var n=o(667294),i=o(702664),s=o(690108),r=o(970588);const a=["etsy","facebook","microsoft","twitter","google","instagram","youtube","dropbox"];function l({network:e,data:t,requestContext:o}){if(a.includes(e))return s.Z.create("UserSocialNetworkResource",{network:e,data:t}).callCreate();const n=`/v3/connect/${e}/`,i=((e,t,o)=>{let n;switch(e){case"facebook":const{facebookToken:e}=o;n=t?{facebook_id:t.id,facebook_token:e}:Object.freeze({});break;case"gplus":n=t?{one_time_code:t.one_time_code,redirect_uri:t.redirect_uri||void 0}:Object.freeze({});break;case"line":n=t?{line_id_token:t.line_id_token,line_access_token:t.line_access_token}:Object.freeze({});break;default:n=Object.freeze({})}return n})(e,t,o);return(0,r.Z)({url:n,method:"PUT",data:i})}var c=o(820997),d=o(125715),u=o(310072),h=o(947326),_=o(684113),p=o(837792),g=o(98736);let m=Object.freeze({});const f=e=>{const{network:t}=e;if(!m[t])return;const{[t]:{error:o,success:n,complete:i},...s}=m;m={...s},"error"===e.type?null==o||o(Object.freeze({message:"Please do not close the window when claiming your account!"})):n("facebook"===e.network?{id:e.profile.id}:{one_time_code:e.one_time_code,redirect_uri:e.redirect_uri}),null==i||i()},x=({i18n:e,network:t,callbacks:o,requestContext:n,inAnyGoogleLocaleFixExperiment:i})=>{if(o={error:()=>{},complete:()=>{},...o},(0,g.My)(`auth_web.social_connect.${t}.${(0,u.Z)(n)}`),"gplus"===t||"google"===t)(0,g.My)("auth_web.social_connect.google.migration"),async function(e,t){var o,n;await(0,_.Px)(void 0,t||void 0);const i=null===(o=window.google)||void 0===o||null===(n=o.accounts)||void 0===n?void 0:n.oauth2;i&&i.initCodeClient({client_id:p.v3,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}((e=>{o.success({one_time_code:e.code,redirect_uri:"postmessage"})}),i?n.language:void 0);else if("line"===t){const{locale:e}=n;(0,h.Z)(e,o)}else{const n=window.open("/connect/"+t+"/","",(e=>{switch(e){case"dropbox":return"width=600,height=800";case"instagram":return(0,d.Z)({width:580,height:580});case"etsy":return(0,d.Z)({width:580,height:775});case"youtube":return(0,d.Z)({width:605,height:640});default:return(0,d.Z)()}})(t));if(!n)return c.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void(o.error&&o.error(Object.freeze({})));const i=setInterval((()=>{n.closed&&(clearInterval(i),f({network:t,type:"error"}))}),1e3);m={...m,[t]:o}}};window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");if(e.origin!==t)return;const o=e.data;if(o&&"social-connect-complete"===o.type){const t=e.data;t.network&&f(t)}}));var b=o(245410),y=o(282802),v=o(756513),w=o(802071);class P{constructor({invalidateResource:e,requestContext:t,viewer:o,inAnyGoogleLocaleFixExperiment:n}){this.getUserId=()=>o.isAuth?o.id:"",this.getUsername=()=>o.isAuth?o.username:"",this.isLimitedLogin=()=>o.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.inAnyGoogleLocaleFixExperiment=n}handleConnect(e,t,o,n){const i=t=>{("connect"===t.type?l({network:e,data:t.data,requestContext:this.requestContext}):(0,r.Z)({url:`/v3/connect/${e}/`,method:"DELETE"})).then((e=>{var t;const n={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",n),s.Z.create("UserResource",n).callGet(),null===(t=o.success)||void 0===t||t.call(o,e)}),(e=>{var t;e&&"object"==typeof e&&(null===(t=o.error)||void 0===t||t.call(o,{api_error_code:e.api_error_code,code:e.code,message:e.message}))})).finally((()=>{var e;null===(e=o.complete)||void 0===e||e.call(o)}))};t?this.isLimitedLogin()?i({type:"connect"}):x({network:e,callbacks:{success:e=>i({type:"connect",data:e}),error:o.error,complete:o.complete},i18n:n,requestContext:this.requestContext,inAnyGoogleLocaleFixExperiment:this.inAnyGoogleLocaleFixExperiment}):i({type:"disconnect"})}}function S(){const e=(0,i.useDispatch)(),t=(0,y.B)(),o=(0,w.Z)(),{checkExperiment:s}=(0,b.F)(),r=s("mweb_google_button_locale_fix").anyEnabled||s("dweb_google_button_locale_fix").anyEnabled;return(0,n.useMemo)((()=>new P({invalidateResource:(t,o)=>e((0,v.jB)(t,o)),requestContext:t,viewer:o,inAnyGoogleLocaleFixExperiment:r})),[e,r,t,o])}},947326:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(457628),i=o(791045),s=o(611756);var r=o(837792),a=o(739425),l=o(845098),c=o(619277);const d="undefined"!=typeof window,u=d?`${window.location.origin}/oauth/line/redirect`:"",h=({origin:e,data:t})=>t&&e===window.location.origin?String(t):null,_=({url:e,key:t})=>{if(!e.startsWith(window.location.origin)||t!==c.MM)return null;const o=(0,s.qn)(c.MM);return(0,s.L_)(c.MM),o};function p(e,t){var o;if(!d)return void(null===(o=t.error)||void 0===o||o.call(t,{message:"Window is undefined"}));let s;const c=function(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(36*Math.random())])).join("")}(10),p=async e=>{if(!e.isTrusted)return;const o=e instanceof MessageEvent?h(e):_(e),r=(0,a.mB)(o);if(r.state&&r.code&&r.state===c){s&&!s.closed&&s.close();try{const e=await fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":`${String(n.U2(i.fS))}`},method:"POST",body:(0,l.Z)({code:r.code,redirect_uri:u})}),o=await e.json(),{id_token:s,access_token:a}=o;var d;if(s&&a)t.success({line_id_token:s,line_access_token:a});else null===(d=t.error)||void 0===d||d.call(t,{message:"No tokens returned"})}catch(f){var g;null===(g=t.error)||void 0===g||g.call(t,f)}finally{var m;s&&!s.closed&&s.close(),window.removeEventListener("message",p),window.removeEventListener("storage",p),null===(m=t.complete)||void 0===m||m.call(t)}}};window.addEventListener("message",p),window.addEventListener("storage",p),s=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${r.z}&redirect_uri=${encodeURIComponent(u)}&state=${c}&ui_locales=${e}&scope=profile%20openid%20email`,"_blank")}},440534:(e,t,o)=>{o.d(t,{Z:()=>n});const n=["https://www.pinterest.info","https://www.pinterest.at","https://www.pinterest.com.au","https://www.pinterest.ca","https://www.pinterest.ch","https://www.pinterest.cl","https://www.pinterest.de","https://www.pinterest.dk","https://www.pinterest.es","https://www.pinterest.fr","https://www.pinterest.co.uk","https://www.pinterest.ie","https://www.pinterest.it","https://www.pinterest.jp","https://www.pinterest.co.kr","https://www.pinterest.com.mx","https://www.pinterest.nz","https://www.pinterest.se","https://www.pinterest.ph","https://www.pinterest.pt","https://www.pinterest.ru"]},539636:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{return JSON.parse(decodeURIComponent(atob((t=e.split(".")[1],(t||"").replace(/-/g,"+").replace(/_/g,"/"))).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")));var t}},450667:(e,t,o)=>{o.d(t,{GH:()=>l,JF:()=>m,Jb:()=>_,MI:()=>g,_V:()=>c,sl:()=>u,we:()=>h});var n=o(560544),i=o(970588),s=o(307052),r=o(710197),a=o(98736);const l="274266067164",c=e=>{const t=["public_profile","email","user_friends"];return e?t:[...t,"user_birthday"]},d=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,a.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:l,status:!0,xfbml:!0,version:"v2.7"})):e?(0,a.dy)({event:"global_object_not_found",provider:"facebook"}):(0,a.My)("pcons.non_autologin.fb.global_object_not_found")},h=(e,t)=>{t&&(0,a.dy)({event:"load_script_start",provider:"facebook"});return(0,s.Z)((0,r.Z)(e),"FACEBOOK").then((()=>u(t)))},_=()=>new Promise((e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)})),p=({userID:e,accessToken:t,data:{birthday:o,email:i,first_name:s,gender:r,last_name:a,picture:l}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:o?(0,n.Z)(o):void 0,email:i,first_name:s,gender:r,image_url:l&&!l.data.is_silhouette?l.data.url:void 0,last_name:a});async function g(e,t){var o;const n=(null===(o=(await(0,i.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:t?d:[...d,"birthday"]}})).resource_response)||void 0===o?void 0:o.data)||{};return(0,a.My)(n?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:n.birthday,email:n.email,first_name:n.first_name,gender:n.gender,id:n.id,last_name:n.last_name,picture:n.picture}}const m=e=>new Promise((t=>{window.FB.login(t,{scope:c(e).join(",")})})).then((t=>((e,t,o)=>new Promise(((n,i)=>{if("connected"!==e.status)return void i({status:e.status||"unknown"});const{userID:s,accessToken:r}=e.authResponse;g(r,t).then((e=>{n({creds:{facebook_id:s,facebook_token:r,facebook_autologin:(null==o?void 0:o.autologin)||!1},signupOptions:p({userID:s,accessToken:r,data:e})})}),i)})))(t,e)))},18759:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(883119),i=o(536042),s=o(630089),r=o(315219),a=o(785893);const l=({children:e,onClick:t})=>(0,a.jsx)("button",{onClick:t,style:{background:"transparent",border:"none",verticalAlign:"inherit",padding:0},type:"button",children:(0,a.jsx)(n.xv,{color:"error",inline:!0,size:"200",weight:"bold",children:e},"err_text")});function c({apiErrorCode:e,errorMessage:t,onClickPasswordReset:o}){const c=(0,i.ZP)(),d=(e=>{switch(e){case r.yV:case r.$j:return(0,s.nk)(c._('We noticed some strange activity on your account.  {{ resetPasswordLink }} or log in with Facebook or Google to get back into your account.', 'Error message when user is soft banned', 'Error message when user is soft banned'),{resetPasswordLink:(0,a.jsx)(l,{onClick:o,children:c._('Reset your password', 'Link text for password reset', 'Link text for password reset')})});case r.iK:return(0,s.nk)(c._('Your account is already linked to Google. To log in with email, {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,a.jsx)(l,{onClick:o,children:c._('set a password.', 'Link text to set password for user with account with only google auth', 'Link text to set password for user with account with only google auth')})});case r.nY:return(0,s.nk)(c._('Your account is already linked to Facebook. To log in with email, {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,a.jsx)(l,{onClick:o,children:c._('set a password.', 'Link text to set password for user with account with only facebook auth', 'Link text to set password for user with account with only facebook auth')})});case r.nf:return(0,s.nk)(c._('Your account is connected to Apple. This option works only on the Pinterest iOS app. To log into Pinterest here, you\u2019ll need to {{ resetPasswordLink }}', 'unauth.web.emailLogin', 'Error message displayed to users who are connected to Apple, but do not have a password'),{resetPasswordLink:(0,a.jsx)(l,{onClick:o,children:c._('set a password.', 'Link text to set password for user with account with only apple auth', 'Link text to set password for user with account with only apple auth')})});case r.oP:return(0,s.nk)(c._('The password you entered is incorrect. Try again or {{ resetPasswordLink }}', ' - ', ' -- '),{resetPasswordLink:(0,a.jsx)(l,{onClick:o,children:c._('Reset your password', 'Link text for password reset', 'Link text for password reset')})});default:return[t]}})(e);return(0,a.jsx)(n.xu,{"data-test-id":"touchableErrorMessage",children:d.map(((e,t)=>(0,a.jsx)(n.xv,{color:"error",inline:!0,size:"200",children:e},`err_message_${t}`)))})}var d=o(785629),u=o(98736);const h=[...r.ZP,d.Ej,r.oP,r.nf].filter((e=>e!==r.RL&&e!==r.an));function _({error:e,onClickPasswordReset:t,source:o}){var n;let i=e.api_error_code;(e.http_status||e.httpStatus)===d.Ej&&(i=d.Ej);const s=i&&h.includes(i)?(0,a.jsx)(c,{apiErrorCode:i,errorMessage:null!==(n=e.message)&&void 0!==n?n:"",onClickPasswordReset:t}):e.message;if(s)switch(i){case r.oP:case r.RL:return{passwordValidationError:s};case r.nY:return{facebookValidationError:s};case r.iK:return{googleValidationError:s};case r.hU:return{emailValidationError:s};case r._K:return{passwordValidationError:s};default:return{emailValidationError:s}}else(0,u.My)(`unauth.login.error.SERVER_ERROR.unknown.${String(i)}.${o}`);return null}},950861:(e,t,o)=>{o.d(t,{Ny:()=>u,ZP:()=>_,eD:()=>g,lp:()=>p,nY:()=>m});var n=o(463310),i=o(675689),s=o(860438),r=o(837792),a=o(98736),l=o(198541),c=o(911386),d=o(619277);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class h{static defaultLoginRedirectUrl(){return window.location.pathname===r.lf||window.location.pathname===r.ZE||window.location.pathname.startsWith(r.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(r.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=s.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=s.Z.getItem(d.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const o=((new Date).getTime()/1e3).toString();t.push(o);const n=t.join("|");s.Z.setItem(d.kl,n)}static isFullyLoggedIn(e,t){return e&&t===i.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,c.Z)();if(t){const o=t.next;o&&(e=o,delete t.next),e=(0,l.Z)(e,t)}}(0,n.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){s.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?h.handleRedirect(e):h.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const o=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(o).then((()=>{(0,a.My)("navigatorCredentials.store.success")}))}catch(o){(0,a.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,o){(0,a.My)("multi_step_login"),h.storeLoginCredentialsToBrowser(e),o?o(e,t):(0,a.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const _=h;function p(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":p(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},514316:(e,t,o)=>{o.d(t,{M3:()=>c,PE:()=>r,Q:()=>d,lv:()=>a,r8:()=>s,rl:()=>i,yW:()=>l});var n=o(611756);const i=()=>{try{const e=(0,n.qn)("MULTIPLE_ACCOUNTS");return e?JSON.parse(e):Object.freeze({})}catch(e){return Object.freeze({})}},s=e=>(0,n.Nh)("MULTIPLE_ACCOUNTS",JSON.stringify(e)),r=()=>!!(0,n.qn)("MULTIPLE_ACCOUNTS"),a=()=>Object.keys(i()).length,l=()=>{try{const e=(0,n.qn)("MULTIPLE_ACCOUNTS_GROUP");return e?JSON.parse(e):null}catch(e){return null}},c=e=>(0,n.Nh)("MULTIPLE_ACCOUNTS_GROUP",JSON.stringify(e)),d=()=>({multipleAccountMap:i(),multipleAccountGroupId:l()})},617285:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(245410);const s=()=>{const e=(0,i.F)();return(0,n.useCallback)((()=>{e.flush()}),[e])}},132751:(e,t,o)=>{o.d(t,{MH:()=>l,ad:()=>a,iN:()=>c});var n=o(39008),i=o(912208);const{Provider:s,useHook:r}=(0,i.Z)({name:"board_picker",sampleRate:n.DQ?1:.1}),a=(e,t)=>{let o="unknown";null!=t&&t.includes("pin/")?o="PinCloseup":"/"===t?o="HomeFeed":"PinBookMarklet"===t&&(o="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",o,"STRING")},l=s,c=r},912208:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(667294),i=o(583592),s=o(763795),r=o(677263),a=o(30482),l=o(39983),c=o(583077),d=o(372453),u=o(363959),h=o(324e3),_=o(591614),p=o(577491),g=o(879751),m=o(55941),f=o(769916),x=o(622200);const b=(0,a.XV)("PwtStopwatch"),y=(e,t)=>{if(x.Z){if("start"===t.type&&!e.isTiming){const{name:o,startTime:n,navigationType:i}=t;return(0,s.A9)(`TIMING.${o}`),{isTiming:!0,name:o,isSampled:t.isSampled,startTime:"number"==typeof n?n:x.Z.now(),metricId:{type:"stopwatch",name:o,navigationType:i},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming){if(!t.bypassIsTimingCheck){const o=t.name||e.name;return b("ignoring action - stopwatch is not actively timing",t),(0,s.A9)(`WARN.${o}.noTiming.${t.type}`),e}b("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t)}if("annotate"===t.type){const o=x.Z.now();return b(`adding annotation {${t.label}: ${o}}`),{...e,annotations:e.annotations.concat([{label:t.label,timestamp:o}])}}if("binaryAnnotate"===t.type)return b(`adding binary annotation {${t.name}: ${String(t.value)}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:t.value,type:t.annotationType}}};if("binaryAnnotateOperation"===t.type){const{value:o,type:n}=t.binaryAnnotationValueAndType;if(e.binaryAnnotations[t.name]){const i=e.binaryAnnotations[t.name].value||0;return b(`operating on binary annotation {\n          name: ${t.name}\n          pervious value: ${String(i)}\n          operand: ${String(o)}\n        }`),{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:o?t.operation(i,o):i,type:n}}}}return{...e,binaryAnnotations:{...e.binaryAnnotations,[t.name]:{value:o,type:n}}}}if("addSubspan"===t.type){b(`adding subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&b(`WARNING: adding duplicate subspan name {${t.name}}`);const o=t.id||(0,f.Z)();-1!==e.spans.findIndex((e=>e.id===o))&&b(`WARNING: adding duplicate subspan id {${t.name}: ${o}}`);let n=0;return t.startTime?n=t.startTime:e.startTime?n=e.startTime:b(`WARNING: adding subspan {${t.name}} without start time`),{...e,spans:[...e.spans,{name:t.name,id:o,startTime:n,endTime:t.endTime||1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations},parentId:t.parentId}]}}if("subspanStart"===t.type){var o;b(`starting subspan {${t.name}}`);-1!==e.spans.findIndex((e=>e.name===t.name))&&b(`WARNING: starting duplicate subspan name {${t.name}}`);const n=t.id||(0,f.Z)();-1!==e.spans.findIndex((e=>e.id===n))&&b(`WARNING: starting duplicate subspan id {${t.name}: ${n}}`);const i=t.parentName?null===(o=e.spans.find((e=>e.name===t.parentName)))||void 0===o?void 0:o.id:null;return{...e,spans:[...e.spans,{name:t.name,id:n,parentId:t.parentId||i,startTime:x.Z.now(),endTime:1/0,annotationMap:{...t.annotations},binaryAnnotationMap:{...t.binaryAnnotations}}]}}if("subspanStop"===t.type){if(b(`stopping subspan {${t.name}}`),!t.id){e.spans.reduce(((e,o)=>o.name===t.name?[...e,o]:e),[]).length>1&&(0,s.H)("duplicate_subspan_stop_name",{name:t.name,type:t.type})}const o=t.id?e.spans.findIndex((e=>e.id===t.id)):e.spans.findIndex((e=>e.name===t.name));return o>-1?(e.spans[o].endTime=x.Z.now(),t.annotations&&(e.spans[o].annotationMap={...e.spans[o].annotationMap,...t.annotations}),t.binaryAnnotations&&(e.spans[o].binaryAnnotationMap={...e.spans[o].binaryAnnotationMap,...t.binaryAnnotations})):(0,s.H)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.reduce(((e,o)=>o.name===t.currentName?[...e,o]:e),[]).length>1&&(0,s.H)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});const o=e.spans.findIndex((e=>e.name===t.currentName));return o>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[...e.spanNameUpdates,{currentName:t.currentName,newName:t.newName}]:(b(`renaming subspan {${t.currentName}} to {${t.newName}}`),e.spans[o].name=t.newName):(0,s.H)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){const{startTime:o,metricId:n,pwtStaticContext:i,annotations:s,binaryAnnotations:r,isSampled:a,spans:m,traceId:y}=e;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),a){const a=t.stopTime||x.Z.now(),v=[...m.map((t=>{t.endTime===1/0&&(t.endTime=a);const o=e.spanNameUpdates.findIndex((e=>t.name===e.currentName));return o>-1&&(b(`renaming subspan {${t.name}} to {${e.spanNameUpdates[o].newName}}`),t.name=e.spanNameUpdates[o].newName,e.spanNameUpdates=e.spanNameUpdates.filter((e=>e.newName!==t.name))),t}))];if(t.manualAndResourceSpans||0===m.length){const e=(0,f.Z)();v.push({name:"network_resources",id:e,startTime:o,endTime:a,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(t.customStopwatchBuffer||[]).map((t=>(0,p.Z)((0,h.p)(t,[]),e))).filter(Boolean))}const w="initial_app_load"===n.navigationType&&(0,u.Z)(),P={type:"COMPLETE",traceId:y,startTime:o,endTime:a,spans:v,annotationMap:{...(0,g.Z)(s),...(0,c.jh)("browser_",w?(0,c.D3)(w):{}),...(0,c.jh)("mark_",(0,l.gQ)())},binaryAnnotationMap:(0,d.ng)({metricId:n,pwtStaticContext:i,binaryAnnotations:r,performanceResourceTimings:t.customStopwatchBuffer||[]})};(0,_.Z)({metricId:n,pwtStaticContext:i,result:P})}return{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,f.Z)(),spanNameUpdates:[]}}if("error"===t.type){const{error:o,stopwatchPerformanceObserver:n}=t;return o&&(0,s.H)(o),n&&n.disconnect(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,f.Z)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();const{metricId:o,pwtStaticContext:n}=e,i=t.reason||"";return(0,_.Z)({metricId:o,pwtStaticContext:n,result:{type:"ABORT",reason:i}}),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,f.Z)(),spanNameUpdates:[]}}}return e},v=({name:e,sampleRate:t,navigationType:o,manualAndResourceSpans:i=!1})=>{const s=(0,r.N5)(),a=(0,n.useRef)([]),l=(0,n.useRef)(null),[c,d]=(0,n.useReducer)(y,{isTiming:!1,name:e,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,f.Z)(),spanNameUpdates:[]});return s?{isTiming:c.isTiming,start:n=>{if(window.PerformanceObserver){const e=1e3;a.current=[],l.current=(0,m.Z)({entryTypes:["resource"]},(t=>{a.current=a.current.concat(t.getEntries()),a.current.length>e&&(a.current=a.current.slice(-e))}))}const i={type:"start",startTime:n,name:e,navigationType:o,pwtStaticContext:s,isSampled:!t||Math.random()<t};return d(i)},stop:e=>d({type:"stop",stopTime:e,stopwatchPerformanceObserver:l.current,customStopwatchBuffer:a.current,manualAndResourceSpans:i}),error:e=>{d({type:"error",stopwatchPerformanceObserver:l.current,error:e})},abort:e=>d({type:"abort",stopwatchPerformanceObserver:l.current,customStopwatchBuffer:a.current,reason:e}),annotate:(e,t,o=!1)=>d({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:o}),binaryAnnotate:(e,t,o,n,i=!1)=>d({type:"binaryAnnotate",name:e,value:t,annotationType:o,parentId:n,bypassIsTimingCheck:i}),binaryAnnotateOperation:({name:e,binaryAnnotationValueAndType:t,operation:o,parentId:n,bypassIsTimingCheck:i=!1})=>d({type:"binaryAnnotateOperation",name:e,binaryAnnotationValueAndType:t,operation:o,parentId:n,bypassIsTimingCheck:i}),addSubspan:({name:e,startTime:t,endTime:o,annotations:n={},binaryAnnotations:i={},parentId:s=null,id:r=null,bypassIsTimingCheck:a=!1})=>d({type:"addSubspan",name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s,id:r,bypassIsTimingCheck:a}),subspanStart:({name:e,annotations:t={},binaryAnnotations:o={},parentId:n=null,parentName:i=null,id:s=null,bypassIsTimingCheck:r=!1})=>d({type:"subspanStart",name:e,annotations:t,binaryAnnotations:o,parentId:n,parentName:i,id:s,bypassIsTimingCheck:r}),subspanStop:({name:e,annotations:t,binaryAnnotations:o,id:n,parentId:i,bypassIsTimingCheck:s=!1})=>d({type:"subspanStop",name:e,annotations:t,binaryAnnotations:o,id:n,parentId:i,bypassIsTimingCheck:s}),subspanUpdateName:({currentName:e,newName:t,bypassIsTimingCheck:o,updateWhenStopwatchCompletes:n=!0})=>d({type:"subspanUpdateName",currentName:e,newName:t,bypassIsTimingCheck:o,updateWhenStopwatchCompletes:n}),getSpans:(e,t)=>c.spans.filter((o=>o[e]===t)),getTraceId:()=>c.traceId}:null};var w=o(785893);const P=({name:e,sampleRate:t,abortOnUnloadOrClientNavigation:o=!0,navigationType:a,manualAndResourceSpans:l=!1})=>{const{Provider:c,useMaybeHook:d}=(0,i.Z)(`Stopwatch_${e}`);return{Provider:function({children:i}){const d=v({name:e,sampleRate:t,navigationType:a,manualAndResourceSpans:l}),u=(0,r.fM)(),h=u?u.time:0,_=(0,n.useRef)(!1),p=null==d?void 0:d.isTiming,g=(0,n.useCallback)((t=>{_.current?(_.current=!1,null==d||d.abort(t)):(0,s.A9)(`WARN.${e}.noTiming.abort`)}),[d]),m=(0,n.useCallback)(((e,t)=>{null==d||d.annotate(e,t)}),[d]),f=(0,n.useCallback)(((e,t,o,n)=>{null==d||d.binaryAnnotate(e,t,o,n)}),[d]),x=(0,n.useCallback)((({name:e,binaryAnnotationValueAndType:t,operation:o,parentId:n,bypassIsTimingCheck:i})=>{null==d||d.binaryAnnotateOperation({name:e,binaryAnnotationValueAndType:t,operation:o,parentId:n,bypassIsTimingCheck:i})}),[d]),b=(0,n.useCallback)((({name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s,id:r,bypassIsTimingCheck:a})=>{null==d||d.addSubspan({name:e,startTime:t,endTime:o,annotations:n,binaryAnnotations:i,parentId:s,id:r,bypassIsTimingCheck:a})}),[d]),y=(0,n.useCallback)((({name:e,annotations:t,binaryAnnotations:o,parentId:n,parentName:i,id:s,bypassIsTimingCheck:r})=>{null==d||d.subspanStart({name:e,annotations:t,binaryAnnotations:o,parentId:n,parentName:i,id:s,bypassIsTimingCheck:r})}),[d]),P=(0,n.useCallback)((({name:e,annotations:t,binaryAnnotations:o,id:n,parentId:i,bypassIsTimingCheck:s})=>{null==d||d.subspanStop({name:e,annotations:t,binaryAnnotations:o,id:n,parentId:i,bypassIsTimingCheck:s})}),[d]),S=(0,n.useCallback)((({currentName:e,newName:t,bypassIsTimingCheck:o,updateWhenStopwatchCompletes:n})=>{null==d||d.subspanUpdateName({currentName:e,newName:t,bypassIsTimingCheck:o,updateWhenStopwatchCompletes:n})}),[d]),A=(0,n.useCallback)(((e,t)=>d?d.getSpans(e,t):[]),[d]),C=(0,n.useCallback)((()=>d?d.getTraceId():0),[d]),E=(0,n.useCallback)((t=>{_.current?(_.current=!1,null==d||d.error(t)):(0,s.A9)(`WARN.${e}.noTiming.error`)}),[d]),T=(0,n.useCallback)((e=>{_.current&&(null==d||d.abort("duplicated_init_stopwatch_action")),_.current=!0,null==d||d.start(e)}),[d]),j=(0,n.useCallback)((t=>{_.current?(_.current=!1,null==d||d.stop(t)):(0,s.A9)(`WARN.${e}.noTiming.stop`)}),[d]);(0,n.useEffect)((()=>()=>{o&&g("unloadOrClientNavigation")}),[h]);const k=(0,n.useMemo)((()=>({isTiming:p,abort:g,addAnnotation:m,addBinaryAnnotation:f,binaryAnnotationOperation:x,addSubspan:b,subspanStart:y,subspanStop:P,getSpans:A,getTraceId:C,updateSubspanName:S,stop:j,error:E,start:T})),[p,g,m,f,x,b,y,P,A,C,S,j,E,T]);return(0,w.jsx)(c,{value:k,children:i})},useHook:d}}},768337:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";default:return"OTHER"}}},61833:(e,t,o)=>{o.d(t,{D:()=>l,T:()=>a});var n=o(667294),i=o(202858),s=o(785893);const r=(0,n.createContext)({recaptchaV3Token:"",refreshToken:()=>{}});function a({children:e}){const[t,o]=(0,n.useState)(""),a=(0,n.useCallback)((()=>{(0,i.rY)((e=>o(e)),(e=>{}),i.sk)}),[]);(0,n.useEffect)((()=>{a();const e=setInterval(a,i.yc);return()=>{clearInterval(e)}}),[a]);const l=(0,n.useMemo)((()=>({recaptchaV3Token:t,refreshToken:a})),[t,a]);return(0,s.jsx)(r.Provider,{value:l,children:e})}const l=()=>(0,n.useContext)(r)},202858:(e,t,o)=>{o.d(t,{OA:()=>d,f$:()=>p,rY:()=>l,sk:()=>g,wQ:()=>u,xW:()=>h,yc:()=>c,ys:()=>_});var n=o(40660);const i="onloadRecaptchaJsCallback",s="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",r="recaptcha-enterprise-src",a=(e,t,o)=>{n.Z.increment("recaptcha_v3.request_token.attempt",.1,{action:o}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(new Error("Error loading reCAPTCHA Enterprise")),n.Z.increment("recaptcha_v3.request_token.js_loading_error",.1,{action:o})):window.grecaptcha.enterprise.ready((()=>{try{window.grecaptcha.enterprise.execute(s,{action:o}).then(e).catch(t)}catch(i){n.Z.increment("recaptcha_v3.request_token.exec_error",.1,{action:o}),t(i)}}))},l=(e,t,o)=>{if(window[i]=()=>a(e,t,o),document.getElementById(r))a(e,t,o);else{const e=document.createElement("script");e.id=r,e.src=`https://www.recaptcha.net/recaptcha/enterprise.js?onload=${i}&render=${s}`;const t=document.getElementsByTagName("script")[0];t.parentNode&&t.parentNode.insertBefore(e,t)}},c=105e3,d=8e3,u="mweb_auth",h="mweb_login",_="mweb_signup",p="web_auth",g="web_unauth"},282802:(e,t,o)=>{o.d(t,{B:()=>u,LC:()=>c,P2:()=>l,fH:()=>d,gf:()=>h});var n=o(667294),i=o(310646),s=o(71985),r=o(785893);const a=(0,n.createContext)();function l({children:e,value:t}){const[o,l]=(0,n.useState)(t),c=(0,n.useMemo)((()=>({requestContext:o,updateRequestContext:e=>{const t={...o,...e};(0,i.Ak)(o,e)||l(t),(0,s.J)(t)}})),[o]);return(0,r.jsx)(a.Provider,{value:c,children:e})}const c=({children:e})=>{const t=(0,n.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},d=({children:e})=>{const t=(0,n.useContext)(a);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function u(){const e=(0,n.useContext)(a);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function h(){const e=(0,n.useContext)(a);if(!e)throw new Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},71985:(e,t,o)=>{let n;function i(e){n=e}function s(){return n}o.d(t,{J:()=>i,l:()=>s})},170567:(e,t,o)=>{o.d(t,{UZ:()=>u,Z8:()=>h,my:()=>_});var n=o(667294),i=(o(702664),o(690108)),s=o(583592),r=o(785893);function a(e,t,o){var n;const i=[...null!==(n=t[e][o.payload.name])&&void 0!==n?n:[],o.payload.handler],s={...t};return s[e]={...t[e],[o.payload.name]:i},s}function l(e,t,o){if(!t[e][o.payload.name])return t;const n=t[e][o.payload.name].filter((e=>e!==o.payload.handler)),i={...t};return i[e]={...t[e],[o.payload.name]:n},i}const{Provider:c,useHook:d}=(0,s.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:o},s]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return a("listeners",e,t);case"addMoreListener":return a("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});i.Z.fetchCompleteCallback=({resource:e,options:o,response:n,normalizedResponse:i,refresh:s,resourceSchema:r})=>{t[e]&&t[e].forEach((t=>t({isRefresh:s,normalizedResponse:i,options:o,schema:r,resource:e,response:n})))},i.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:i,refresh:s,resourceSchema:r})=>{o[e]&&o[e].forEach((o=>o({isRefresh:s,normalizedResponse:i,options:t,schema:r,resource:e,response:n})))};const d=(0,n.useMemo)((()=>({listenerDispatch:s})),[]);return(0,r.jsx)(c,{value:d,children:e})}function h(e,t){const{listenerDispatch:o}=d();(0,n.useEffect)((()=>(o({type:"addListener",payload:{name:e,handler:t}}),()=>{o({type:"removeListener",payload:{name:e,handler:t}})})))}function _(e,t){const{listenerDispatch:o}=d();(0,n.useEffect)((()=>(o({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{o({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},497088:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(245410),s=o(282802),r=o(785893);function a({children:e,fallback:t}){const o=t||null,{isAuthenticated:a}=(0,s.B)(),{checkExperiment:l}=(0,i.F)();return(0,r.jsx)(n.Suspense,{fallback:o,children:e})}},643183:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o(497088).Z},52328:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(833603);function s({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:o,resourceName:s,resourceOptions:r,value:a}){const l=(0,i.Z)({allowSearchOnMount:e,resourceName:s,resourceOptions:r,value:a});return(0,n.useEffect)((()=>{null!=l&&l.length&&o(l)}),[l]),t||null}},833603:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(690108);const s=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let o=this._uidToData[e];o||(o=new s(e,t),this._uidToData[e]=o,this._numItems+=1),this._moveToFront(o),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const a=r,l=5,c=0;function d({resourceName:e,resourceOptions:t}){const o={...t,count:"count"in t?t.count:l},n=i.Z.create(e,o),s=new a,r=()=>{n.abort()};return async function(e,t){const o=s.get(`${t}-${e}`);if(o){const{items:t}=o;if(t&&t.length){r();const{hint:n}=o;return{hint:n,items:t,term:e}}}return e.length>=c?(async(e,t)=>{var o;if(n.isCalling()){var i,a;const o=null===(i=n.options)||void 0===i?void 0:i.term,s=null===(a=n.options)||void 0===a?void 0:a.pin_scope;if(e===o&&t===s)return;r()}const{bookmarks:l,...c}=n.options||{};n.options={...c,term:e,pin_scope:t};const d=null===(o=(await n.callGet({showError:!1})).resource_response)||void 0===o?void 0:o.data,u=null==d?void 0:d.items,h=(null==d?void 0:d.hint)||{},_={hint:h,items:u};return s.set(`${t}-${e}`,_),{term:e,items:u,hint:h}})(e,t):{hint:{},items:[],term:e}}}function u({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:o={},value:i}){const s=(0,n.useRef)(!1),r=(0,n.useRef)({}),[a,l]=(0,n.useState)([]),c=function({resourceName:e,resourceOptions:t}){const o=(0,n.useRef)();return o.current||(o.current=d({resourceName:e,resourceOptions:t})),o.current}({resourceName:t,resourceOptions:o}),u=o.pin_scope||"pins",h=`${u}-${i}`;return(0,n.useEffect)((()=>{(async()=>{if(null!=i&&(e||s.current))if(h in r.current)l(r.current[h]);else try{const e=await c(i,u);if(e){const{items:t}=e;r.current[h]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}s.current||(s.current=!0)})()}),[i,u,h]),a}},970214:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(549201),i=o(177923);function s(){return function({deviceType:e,site:t}){switch(t){case"analytics":return 4;case"business":return 6;case"planninghub-internal":return 12;case"sterling":return 3;case"trends":return 7;case"trends-internal":return 8;case"commerce-app":case"pintergration":return 10;case"creators":return 11;default:return"phone"===e||"tablet"===e?1:0}}({deviceType:(0,n.ZP)(),site:(0,i.uo)()})}},512403:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},269758:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},894637:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,n.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},757551:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,n.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,n.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649)"}),(0,n.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("radialGradient",{id:"paint0_radial_3730_649",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(18.16 43.826) scale(34.8672)",children:[(0,n.jsx)("stop",{stopColor:"#09F"}),(0,n.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,n.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,n.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})}},343226:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,n.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},320634:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(785893);function i({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},204125:(e,t,o)=>{o.d(t,{LO:()=>s,Pu:()=>r,cc:()=>n,dB:()=>i,yF:()=>a});const n={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},i={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},s={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},r={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},a={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8}},455788:(e,t,o)=>{o.d(t,{U:()=>r,Z:()=>a});var n=o(731048),i=o(785893);const s=()=>{},r=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:o,allowScroll:a,children:l}){const c=e=>function(e,t){t&&e.keyCode===n.Z.ESCAPE||r(e)}(e,t);return(0,i.jsx)("div",{onAbort:r,onAnimationEnd:r,onAnimationIteration:r,onAnimationStart:r,onBlur:s,onCanPlay:o?s:r,onCanPlayThrough:r,onChange:r,onClick:e?s:r,onCompositionEnd:r,onCompositionStart:r,onCompositionUpdate:r,onContextMenu:r,onCopy:r,onCut:r,onDoubleClick:r,onDurationChange:r,onEmptied:r,onEncrypted:r,onEnded:r,onError:r,onFocus:s,onInput:r,onInvalid:r,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:r,onLoadedData:r,onLoadedMetadata:r,onLoadStart:r,onMouseDown:r,onMouseEnter:r,onMouseLeave:r,onMouseMove:e?s:r,onMouseOut:r,onMouseOver:r,onMouseUp:e?s:r,onPaste:r,onPause:r,onPlay:r,onPlaying:r,onProgress:r,onRateChange:r,onScroll:a?s:r,onSeeked:r,onSeeking:r,onSelect:r,onStalled:r,onSubmit:r,onSuspend:r,onTimeUpdate:r,onTouchCancel:r,onTouchEnd:e?s:r,onTouchMove:e?s:r,onTouchStart:e?s:r,onTransitionEnd:r,onVolumeChange:r,onWaiting:r,onWheel:r,children:l})}},402094:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},729522:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(540975);const i=/\{\{\s*(\w+)\s*\}\}/g,s=(e,t)=>(0,n.Z)(i,e,t)},686473:(e,t,o)=>{o.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},614481:(e,t,o)=>{o.d(t,{Z:()=>i});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,i=e=>n.test(e)},540975:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t,o)=>t?t.replace(e,((e,t)=>o&&Object.prototype.hasOwnProperty.call(o,t)?o[t]:"")):""},493851:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(729522),i=o(686473);const s=(e,t)=>{const o={};return Object.keys(t).forEach((e=>{o[e]=t[e]?(0,i.Z)(t[e].toString()):""})),(0,n.Z)(e,o)}},371362:(e,t,o)=>{o.d(t,{ZP:()=>r});const n=80,i="…",s=!1;function r(e,t=n,o=i,r=s){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{const o=e.lastIndexOf(" ",t);a=e.substring(0,o)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+o}},716793:(e,t,o)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}o.d(t,{Z:()=>n})},806685:(e,t,o)=>{o.d(t,{E5:()=>c,T7:()=>s,Y_:()=>d,bl:()=>a,d9:()=>h,nx:()=>u,xt:()=>l});o(883119);var n=o(282802),i=o(802071);function s(e,t,o,n){const i=function(e,t){return t?"shop":0===e||2===e?"trending":1===e?"best":"article"}(e,t),s=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(o);return`/today/${i}/${encodeURIComponent(s)}/${n}/`}const r={en:["US","GB","CA","IN","AU","ID"],es:["MX","PE","AR","CL","CO","ES","VE","UY","PY","EC","BO","CR","DO","SV","GT","HN","NI","PR","PA"],pt:["BR"],de:["DE","AT","CH"],fr:["FR"],id:["ID"],ja:["JP"],it:["IT"],sv:["SE"]};function a(){var e;const t=(0,n.B)(),o=(0,i.Z)(),s=o.isAuth?o.country:t.country;if(void 0===t||void 0===t.locale)return!1;const a=t.locale.substring(0,2);return null===(e=r[a])||void 0===e?void 0:e.includes(s)}const l=(e,t,o)=>e||(t||o||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),h=e=>{var t,o;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(o=e.width)&&void 0!==o?o:1)}},153091:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(806685);function i(e){const{article_creator_user:t,display_type:o,feed_source:i,header_pin_id:s,id:r,is_product_pin_feed:a,title:l,video_pin:c}=e;switch(o){case 0:case 1:return l?(0,n.T7)(i,null!=a&&a,l,r):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return s?`/pin/${s}/`:"";case 2:return null!=c&&c.id?`/pin/${c.id}/`:"";default:return""}}},618569:(e,t,o)=>{o.d(t,{S:()=>a,Z:()=>l});var n=o(667294),i=o(616550),s=o(988014),r=o(98736);const a=e=>(0,s.L6)(e)?"pin":(0,s.am)(e)?"board":(0,s.Xn)(e)?"login":(0,s.C$)(e)?"home":(0,s.cD)(e)?"profile":(0,s.dr)(e)?"ideas":(0,s.gT)(e)?"ideas-root":(0,s.tZ)(e)?"videos":(0,s.Q0)(e)?"videos-category":(0,s.$Y)(e)?"article":(0,s.E0)(e)?"shopping-spotlight":(0,s.Zz)(e)?"today":(0,s.j8)(e)?"unauth-profile":(0,s.f1)(e)?"shopping-root":(0,s.OX)(e)?"shopping-category":"other";function l(){const e=(0,i.useLocation)();return(0,n.useCallback)((({action:t,item:o,within:n})=>{const i=a(e);(0,r.My)(`logged_out_product.interaction.${i}.${t}`,{item:o||"none",within:n||"none"})}),[e])}},36310:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(883119),s=o(785893);class r extends n.Component{constructor(e){var t,o,i;super(e),i={manualTruncate:!1},(o="state")in(t=this)?Object.defineProperty(t,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[o]=i,this.ref=(0,n.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const i=void 0===n.textContent?"innerText":"textContent",s=n[i];("boolean"!=typeof t.spaces||t.spaces?s.split(" "):s).length<2?this.setState({manualTruncate:!0}):o.e(14118).then(o.bind(o,448433)).then((({default:o})=>{o(n,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:o=!1}=this.props,{manualTruncate:n}=this.state,r={maxWidth:e,maxHeight:t},a=o?{display:"inline",...r}:{...r};return n?(0,s.jsx)(i.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,"data-test-id":"truncater",children:this.props.children}):(0,s.jsx)(i.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},"data-test-id":"truncater",children:this.props.children})}}const a=r},910717:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({ariaHidden:e=!1,color:t="darkGray",size:o}){return(0,i.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,i.jsx)(n.xv,{color:t,inline:!0,size:null!=o?o:"200",children:"·"})})}},488203:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t)=>{const o=new URL(e,"https://pinterest.com");return o.search=new URLSearchParams(t).toString(),o.toString().substring(o.origin.length)}},3060:(e,t,o)=>{o.d(t,{Ag:()=>s,C0:()=>l,L1:()=>h,Vi:()=>r,YD:()=>u,kS:()=>i,oo:()=>a,p3:()=>_,vC:()=>c,vI:()=>d});var n=o(957286);const i="https://www.pinterest.com/business/hub/",s="https://www.pinterest.com/homefeed/",r="www.pinterest.com",a="https://help.pinterest.com",l=`${(0,n.Z)({site:"www"})}`,c=(0,n.Z)({site:"developers"}),d=`${(0,n.Z)({site:"sterling"})}`,u=`${(0,n.Z)({site:"analytics"})}`,h=`${(0,n.Z)({site:"trends"})}`,_=`${(0,n.Z)({site:"www",path:"/product-catalogs/data-source/?advertiserId="})}`},711224:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(572055),i=o(837792);function s({advertiser:e,isAdsSite:t,isAnalyticsSite:o,isTrendsSite:s,baseUrl:r,adsUrl:a,isQuickPromote:l,isShoppingCatalogs:c}){if(t&&!e&&!l)return"/";let d=r;return(t||o||s)&&!c?(a||(a=r),e?(d=(0,n.Z)(a,e.id),t||(d=i.au+d)):d=t?a:i.au+d):c?d=i.au+(0,n.Z)(r,e?e.id:""):a||(d=i.au+r),d}},28630:(e,t,o)=>{o.d(t,{Z:()=>i});var n=o(799665);const i=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,n.Z)(e))},159627:(e,t,o)=>{function n(e,t){if(!t)return e;const o=new RegExp(/http(s?):/);if(!o.test(e)){const n=o.exec(t);if(n&&n.length){e=n[0]+e}}return e}o.d(t,{Z:()=>n})},871203:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294);let i=null,s=!1,r=0;const a=()=>{i&&clearTimeout(i),s=!0,i=setTimeout((()=>{s=!1}),100)},l=()=>{const[e,t]=(0,n.useState)(!1),o=(0,n.useRef)(null);(0,n.useEffect)((()=>(0===r&&window.addEventListener("scroll",a),r+=1,()=>{o.current&&clearTimeout(o.current),r-=1,r||window.removeEventListener("scroll",a)})),[]);const i=e=>{o.current&&clearTimeout(o.current),o.current=e&&s?setTimeout((()=>i(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,n.useRef)({onMouseOver:()=>i(!0),onMouseLeave:()=>i(!1)}).current}}},549201:(e,t,o)=>{o.d(t,{HG:()=>u,Kf:()=>r,Mq:()=>i,Wb:()=>d,ZP:()=>h,dA:()=>a,ds:()=>l,ml:()=>c});var n=o(282802);function i(e){const{isMobile:t,isTablet:o}=e.userAgent;return o?"tablet":t?"phone":"desktop"}const s=()=>i((0,n.B)()),r=e=>"phone"===e,a=e=>"tablet"===e,l=e=>"desktop"===e,c=()=>r(s()),d=()=>a(s()),u=()=>l(s()),h=s},806681:(e,t,o)=>{o.d(t,{Z:()=>r,q:()=>s});var n=o(667294);const i=()=>{const[e,t]=(0,n.useState)(!1),[o,i]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1);return{active:e,focused:o,hovered:s,onBlur:()=>{i(!1),t(!1)},onFocus:()=>i(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function s({children:e}){return e(i())}const r=i},567648:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294);const i=()=>()=>{},s=()=>!1,r=()=>!0,a=()=>(0,n.useSyncExternalStore)(i,s,r)},502108:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(667294),i=o(20134);function s(){const e=(0,n.useRef)([]),t=(0,n.useRef)({});return(0,n.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(o,n){if(n){const e=t.current[n];e&&(e(),delete t.current[n])}const{cancel:s,promise:r}=(0,i.Z)(o);return n?t.current[n]=s:e.current=[...e.current,s],r}}},802071:(e,t,o)=>{o.d(t,{$:()=>i,Z:()=>r});var n=o(583592);const{Provider:i,useHook:s}=(0,n.Z)("viewer"),r=s},966633:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t)=>{let o;return t.some((t=>{const n=t(e);return n.errors.length>0&&(o=n.errors[0],!0)})),o}},663873:(e,t,o)=>{function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}o.d(t,{ZP:()=>a,f7:()=>i,y$:()=>s});const i=" > ",s=(e,t)=>t?`${t}${i}${e}`:e,r=(e,t)=>e.displayName<t.displayName?-1:e.displayName>t.displayName?1:0;const a=class{constructor(){n(this,"nodeMap",{}),n(this,"treeRoot",null),n(this,"getNodeMap",(()=>this.nodeMap)),n(this,"getNode",(e=>this.nodeMap[e]||null)),n(this,"getRoot",(()=>this.treeRoot)),n(this,"getPreOrderListTree",(()=>this.preOrderListTree)),n(this,"getRecursivelyOpenTreeFromNode",(e=>{let t=[];if(e.isExpanded){const o=[],n=e.children||[],i=n.filter((e=>e.numChildren>0)),s=n.filter((e=>0===e.numChildren)),a=i.sort(r),l=s.sort(r);[].concat(l,a).forEach((e=>{const t=this.getNode(e.fullyQualifiedPath);t&&o.push(t)}),this),o.forEach(((e,o)=>{t=t.concat([e],this.getRecursivelyOpenTreeFromNode(e))}),this)}return t})),n(this,"collapseAllChildrenNodes",(e=>{var t;e&&(e.isExpanded=!1,null===(t=e.children)||void 0===t||t.forEach((e=>{this.collapseAllChildrenNodes(e)})))})),n(this,"populatePreOrderListTree",(e=>{const t=[],o=e=>{var n;t.push(e),null===(n=e.children)||void 0===n||n.forEach((e=>{o(e)}))};return o(null!=e?e:this.getRoot()),this.preOrderListTree=t,t})),n(this,"constructChildTree",(({displayName:e,curData:t,parent:o,initialSelectedStatus:n="NOT_SELECTED",selectLeaves:i=!1,ordered:r=!1})=>{const a=s(e,o&&o.fullyQualifiedPath),l={displayName:e,fullyQualifiedPath:a,parent:o,children:null,numChildren:0,numFullySelectedChildren:0,numPartiallySelectedChildren:0,selectedStatus:n,isExpanded:!1,level:o?o.level+1:0,expandOnSelect:!1};if(Object.keys(t).length>0){let e=new Map([...Object.entries(t)]);r&&(e=new Map([...Object.entries(t)].sort()));const o=[];for(const[t,s]of e)o.push(this.constructChildTree({displayName:t,curData:s,parent:l,initialSelectedStatus:n,selectLeaves:i}));l.children=o,l.numChildren=o.length}else i&&(l.selectedStatus="FULLY_SELECTED");return this.nodeMap[a]=l,l})),n(this,"partiallySelect",(e=>{if("NOT_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";const{parent:t}=e;t&&(t.numPartiallySelectedChildren+=1,this.partiallySelect(t))}})),n(this,"select",((e,t=!1,o=!1,n=!1)=>{if("FULLY_SELECTED"===e.selectedStatus)return e;if(e.children&&!t){const i=n&&!t&&!o;e.children.forEach((e=>this.select(e,!1,!0,i)))}n&&(e.isExpanded=!0);const{parent:i}=e;return i&&(i.numFullySelectedChildren+=1,"PARTIALLY_SELECTED"===e.selectedStatus&&(i.numPartiallySelectedChildren-=1),o||(i.numFullySelectedChildren===i.numChildren?this.select(i,!0,!1):this.partiallySelect(i))),e.selectedStatus="FULLY_SELECTED",e})),n(this,"partiallyDeselect",(e=>{if("PARTIALLY_SELECTED"!==e.selectedStatus&&"FULLY_SELECTED"===e.selectedStatus){e.selectedStatus="PARTIALLY_SELECTED";const{parent:t}=e;t&&(t.numFullySelectedChildren-=1,t.numPartiallySelectedChildren+=1,"FULLY_SELECTED"===t.selectedStatus&&this.partiallyDeselect(t))}})),n(this,"deselect",((e,t=!1,o=!1)=>{if("NOT_SELECTED"===e.selectedStatus)return e;e.children&&!t&&e.children.forEach((e=>this.deselect(e,!1,!0)));const{parent:n}=e;return n&&("FULLY_SELECTED"===e.selectedStatus?n.numFullySelectedChildren-=1:"PARTIALLY_SELECTED"===e.selectedStatus&&(n.numPartiallySelectedChildren-=1),o||(0===n.numFullySelectedChildren&&0===n.numPartiallySelectedChildren?this.deselect(n,!0,!1):"FULLY_SELECTED"===e.selectedStatus&&this.partiallyDeselect(n))),e.selectedStatus="NOT_SELECTED",e})),n(this,"updateFilterTree",((e,{expandChildrenOnSelect:t=!0}={})=>{const o=this.getNode(e);o&&("PARTIALLY_SELECTED"===o.selectedStatus||"FULLY_SELECTED"===o.selectedStatus?this.deselect(o):this.select(o,!1,!1,t))})),n(this,"updateTreeWithAPISelectedFilter",((e,t="")=>{if(e){const o=Object.keys(e);if(o.length>0)o.forEach((o=>{const n=e[o],i=s(o,t);this.updateTreeWithAPISelectedFilter(n,i)}));else{const e=this.getNode(t);e&&this.select(e)}}})),n(this,"createShallowTreeFromAPISelectedFilters",((e,t)=>(this.treeRoot=this.constructChildTree({displayName:e,curData:t,parent:null,initialSelectedStatus:"PARTIALLY_SELECTED",selectLeaves:!0}),this.treeRoot))),n(this,"assignNewTree",((e,t)=>{t&&(this.treeRoot=e),this.nodeMap[e.fullyQualifiedPath]=e,e.children&&e.children.forEach((e=>this.assignNewTree(e,!1)))})),n(this,"createFilterTree",((e,t,o=!1)=>(this.treeRoot=this.constructChildTree({displayName:e,curData:t,parent:null,ordered:o}),this.treeRoot)))}}},395487:(e,t,o)=>{o.d(t,{Be:()=>a,DD:()=>P,EK:()=>l,Eo:()=>p,Gv:()=>ce,HK:()=>K,J_:()=>ae,KO:()=>I,MD:()=>L,MU:()=>z,PD:()=>M,Pf:()=>ie,QE:()=>A,QX:()=>F,R0:()=>$,Rd:()=>le,S8:()=>se,V0:()=>m,VO:()=>oe,WH:()=>k,XT:()=>y,Y3:()=>d,aF:()=>B,aZ:()=>n,bS:()=>g,cU:()=>S,cm:()=>G,d0:()=>w,eu:()=>_,g2:()=>C,gd:()=>E,h1:()=>Z,h8:()=>s,hh:()=>v,iu:()=>Y,j0:()=>ne,j1:()=>D,k7:()=>q,kc:()=>h,kl:()=>u,kq:()=>f,l5:()=>x,pA:()=>re,pF:()=>N,pM:()=>O,pV:()=>b,ps:()=>r,q9:()=>c,qB:()=>W,qf:()=>ee,r2:()=>T,rC:()=>R,rD:()=>Q,sG:()=>U,ss:()=>te,t7:()=>J,ul:()=>i,vr:()=>X,wZ:()=>H,yA:()=>V,yq:()=>j});const n=864e5,i={IN_STOCK:"in stock",OUT_OF_STOCK:"out of stock",PREORDER:"preorder"},s={NEW:"new",USED:"used",REFURBISHED:"refurbished"},r={MALE:"male",FEMALE:"female",UNISEX:"unisex"},a={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},l={FEATURED:"FEATURED",CAN_FEATURE:"CAN_FEATURE",FEATURING:"FEATURING",NO_FILTERS:"NO_FILTERS",TOO_FEW_PRODUCTS:"TOO_FEW_PRODUCTS",TOO_FEW_UNIQUE_PRODUCTS:"TOO_FEW_UNIQUE_PRODUCTS",TOO_MANY_PRODUCTS:"TOO_MANY_PRODUCTS",MAX_GROUPS_FEATURED:"MAX_GROUPS_FEATURED",UNFEATUREABLE:"UNFEATUREABLE"},c=[1,2,3,4,5,6,7,8],d=[1,2,3,4,5,6,8],u=[1,2,3,4,5,6,7,0,8],h=90,_=350,p=72,g=450,m=200,f=12,x=114,b={MERCHANT_CREATED:"MERCHANT_CREATED",ALL_PRODUCTS:"ALL_PRODUCTS"},y={FEATUREABLE:1,UNFEATUREABLE_NOT_ENOUGH_PINS:2,UNFEATUREABLE_NOT_ENOUGH_UNIQUE_PINS:3,UNFEATUREABLE_EXCEEDED_PINS_LIMIT:4},v={ITEM_ID:"Item ID",PRODUCT_CATEGORY:"Category",PRODUCT_TYPE:"Product type",BRANDS:"Brands",COST:"Cost",CUSTOM_LABEL:"Custom",CUSTOM_LABEL_0:"Custom label 0",CUSTOM_LABEL_1:"Custom label 1",CUSTOM_LABEL_2:"Custom label 2",CUSTOM_LABEL_3:"Custom label 3",CUSTOM_LABEL_4:"Custom label 4",AVAILABILITY:"Availability",PRICE:"Price",GENDER:"Gender",CONDITION:"Condition",CURRENCY:"Currency",ITEM_GROUP_ID:"Item group ID"},w=[v.PRODUCT_CATEGORY,v.PRODUCT_TYPE,v.BRANDS,v.CUSTOM_LABEL_0,v.CUSTOM_LABEL_1,v.CUSTOM_LABEL_2,v.CUSTOM_LABEL_3,v.CUSTOM_LABEL_4],P={[v.ITEM_ID]:["ITEM_ID"],[v.ITEM_GROUP_ID]:["ITEM_GROUP_ID"],[v.PRODUCT_CATEGORY]:["GOOGLE_PRODUCT_CATEGORY_0"],[v.PRODUCT_TYPE]:["PRODUCT_TYPE_0"],[v.COST]:["MIN_PRICE","MAX_PRICE"],[v.BRANDS]:["BRAND"],[v.CUSTOM_LABEL]:["CUSTOM_LABEL_0","CUSTOM_LABEL_1","CUSTOM_LABEL_2","CUSTOM_LABEL_3","CUSTOM_LABEL_4"],[v.AVAILABILITY]:["AVAILABILITY"],[v.CONDITION]:["CONDITION"],[v.GENDER]:["GENDER"]},S=[v.CUSTOM_LABEL,v.COST,v.CURRENCY],A={1:i.IN_STOCK,2:i.OUT_OF_STOCK,3:i.PREORDER},C={1:s.NEW,2:s.USED,3:s.REFURBISHED},E={1:r.MALE,2:r.FEMALE,3:r.UNISEX},T={1:v.ITEM_ID,5:v.PRODUCT_CATEGORY,12:v.PRODUCT_TYPE,3:v.BRANDS,2:v.AVAILABILITY,17:v.CUSTOM_LABEL_0,18:v.CUSTOM_LABEL_1,19:v.CUSTOM_LABEL_2,20:v.CUSTOM_LABEL_3,21:v.CUSTOM_LABEL_4,4:v.CONDITION,25:v.GENDER,22:v.PRICE,23:v.PRICE,26:v.CURRENCY,24:v.ITEM_GROUP_ID},j={[v.ITEM_ID]:1,[v.PRODUCT_CATEGORY]:5,[v.PRODUCT_TYPE]:12,[v.BRANDS]:3,[v.AVAILABILITY]:2,[v.CUSTOM_LABEL_0]:17,[v.CUSTOM_LABEL_1]:18,[v.CUSTOM_LABEL_2]:19,[v.CUSTOM_LABEL_3]:20,[v.CUSTOM_LABEL_4]:21,[v.CONDITION]:4,[v.GENDER]:25,[v.PRICE]:23,[v.CURRENCY]:26,[v.ITEM_GROUP_ID]:24},k={GREATER_INCLUSION:"0",GREATER_EXCLUSION:"1",LESS_INCLUSION:"2",LESS_EXCLUSION:"3"},I={[k.GREATER_EXCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!1}},[k.GREATER_INCLUSION]:{filterType:22,filterOperator:{negated:!1,inclusion:!0}},[k.LESS_EXCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!1}},[k.LESS_INCLUSION]:{filterType:23,filterOperator:{negated:!1,inclusion:!0}}},O="newlyCreatedPGId",R="storefront",L={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},z=163,N=350,M={LIST:"LIST",GRID:"GRID"},D="236x",B=23,Z=164,U=256,F=112,G="calc(100vh - 175px)",V=75,H=200,W=40,$={PRODUCT_GROUP_NAME:"PRODUCT_GROUP_NAME",PRODUCT_COUNT:"PRODUCT_COUNT",PRODUCT_AVAILABILITY:"PRODUCT_AVAILABILITY",LAST_UPDATE:"LAST_UPDATE",PRODUCT_GROUP_PROMOTED:"PRODUCT_GROUP_PROMOTED",PRODUCT_GROUP_FEATURED:"PRODUCT_GROUP_FEATURED",PRODUCT_GROUP_ACTIONS:"PRODUCT_GROUP_ACTIONS",PG_METRIC:"PG_METRIC",PRODUCT_GROUP_COUNTRY:"PRODUCT_GROUP_COUNTRY"},Y=500,q=20,K=40,X=100,J=4,Q={DELETE_FAILED:"DELETE_FAILED",DELETE_SUCCESSFULLY:"DELETE_SUCCESSFULLY",REMOVE_SUCCESSFULLY:"REMOVE_SUCCESSFULLY"},ee={ALL:"ALL",MIXED:"MIXED",FEED_PROFILE:"FEED_PROFILE"},te="US",oe="selectedCountryKey",ne="selectedFeedProfileId",ie="NEXT_BUTTON",se="PRODUCT_GROUP_NAME_INPUT",re="APPLY_FILTER_BUTTON",ae="activated",le="ads_create_source_param",ce="SIMILARLY_PRICED_PG_GUIDANCE_ID"},581803:(e,t,o)=>{o.d(t,{Wq:()=>g,WO:()=>A,vO:()=>S,Lq:()=>T,Nh:()=>k,ii:()=>B,bV:()=>Z,sq:()=>D,P4:()=>m,yY:()=>j,of:()=>x,_S:()=>R,Iw:()=>z,i9:()=>P,WU:()=>f,LM:()=>I,l_:()=>M,Eh:()=>U,G6:()=>L,DC:()=>w,RZ:()=>E,$H:()=>C,vC:()=>v,Ei:()=>y,fG:()=>b,VT:()=>N,qF:()=>O});var n=o(150361),i=o.n(n),s=o(618446),r=o.n(s),a=o(630089),l=o(275084),c=o(611756),d=o(402094);const u={ITEM_ID:1,AVAILABILITY:2,BRAND:3,CONDITION:4,GOOGLE_PRODUCT_CATEGORY_0:5,GOOGLE_PRODUCT_CATEGORY_1:6,GOOGLE_PRODUCT_CATEGORY_2:7,GOOGLE_PRODUCT_CATEGORY_3:8,GOOGLE_PRODUCT_CATEGORY_4:9,GOOGLE_PRODUCT_CATEGORY_5:10,GOOGLE_PRODUCT_CATEGORY_6:11,PRODUCT_TYPE_0:12,PRODUCT_TYPE_1:13,PRODUCT_TYPE_2:14,PRODUCT_TYPE_3:15,PRODUCT_TYPE_4:16,CUSTOM_LABEL_0:17,CUSTOM_LABEL_1:18,CUSTOM_LABEL_2:19,CUSTOM_LABEL_3:20,CUSTOM_LABEL_4:21,MIN_PRICE:22,MAX_PRICE:23,ITEM_GROUP_ID:24,GENDER:25,CURRENCY:26,COUNTRY:27};var h=o(395487),_=o(663873);const p=e=>h.DD[e]?h.DD[e].map((e=>u[e])):[],g=(e,t)=>({[h.ul.IN_STOCK]:t._('in stock', 'Catalogs.ProductGroups.availabilityType.inStock', 'Product Groups in stock availability type'),[h.ul.OUT_OF_STOCK]:t._('out of stock', 'Catalogs.ProductGroups.availabilityType.outOfStock', 'Product Groups out of stock availability type'),[h.ul.PREORDER]:t._('preorder', 'Catalogs.ProductGroups.availabilityType.preorder', 'Product Groups preorder availability type')}[e]),m=(e,t)=>{switch(e){case h.hh.PRODUCT_CATEGORY:return t._('Category', 'FilterType.Category.filterType', 'Category filter type.');case h.hh.PRODUCT_TYPE:return t._('Product type', 'FilterType.Product.filterType', 'Product type filter type.');case h.hh.COST:return t._('Cost', 'FilterType.Cost.filterType', 'Cost filter type.');case h.hh.BRANDS:return t._('Brands', 'FilterType.Brands.filterType', 'Brands filter type.');case h.hh.CUSTOM_LABEL:return t._('Custom', 'FilterType.Custom.filterType', 'Custom filter type.');case h.hh.ITEM_ID:return t._('Item ID', 'FilterType.ItemID.filterType', 'Item ID filter type.');case h.hh.CUSTOM_LABEL_0:return t._('Custom label 0', 'FilterType.CustomLabel0.filterType', 'Custom label 0 filter type.');case h.hh.CUSTOM_LABEL_1:return t._('Custom label 1', 'FilterType.CustomLabel1.filterType', 'Custom label 1 filter type.');case h.hh.CUSTOM_LABEL_2:return t._('Custom label 2', 'FilterType.CustomLabel2.filterType', 'Custom label 2 filter type.');case h.hh.CUSTOM_LABEL_3:return t._('Custom label 3', 'FilterType.CustomLabel3.filterType', 'Custom label 3 filter type.');case h.hh.CUSTOM_LABEL_4:return t._('Custom label 4', 'FilterType.CustomLabel4.filterType', 'Custom label 4 filter type.');case h.hh.AVAILABILITY:return t._('Availability', 'FilterType.Availability.filterType', 'Availability filter type.');case h.hh.PRICE:return t._('Price', 'FilterType.Price.filterType', 'Price filter type.');case h.hh.GENDER:return t._('Gender', 'FilterType.Gender.filterType', 'Gender filter type.');case h.hh.CONDITION:return t._('Condition', 'FilterType.Condition.filterType', 'Condition filter type.');case h.hh.CURRENCY:return t._('Currency', 'FilterType.Currency.filterType', 'Currency filter type.');case h.hh.ITEM_GROUP_ID:return t._('Item group ID', 'FilterType.ItemGroupID.filterType', 'Item group ID filter type.');default:return t._('Unknown Type', 'FilterType.Unknown.filterType', 'Unknown filter type.')}},f=(e,t,o,n)=>{if("number"!=typeof t)return"";const i=((e,t)=>23===e?null!=t&&t.inclusion?"<=":"<":22===e?null!=t&&t.inclusion?">=":">":"")(e,o);return(0,a.Wc)(n._('Price ({{operator}} {{price}})', 'catalogs.productGroup.filterValueDropdown.selectedValue', 'Text indicating how many more values were selected'),{operator:i,price:"number"==typeof t?`${t}`:""})},x=(e,t,o)=>{var n,i,s;switch(t){case 2:return(0,d.Z)(null!==(n=g(h.QE[Number(e)],o))&&void 0!==n?n:o._('Unknown Type', 'Catalogs.AvailabilityType.Unknown', 'Unknown availability type.'));case 4:return(0,d.Z)(null!==(i=((e,t)=>({[h.h8.NEW]:t._('new', 'Catalogs.ProductGroups.contitionType.new', 'Product Groups new contition type'),[h.h8.USED]:t._('used', 'Catalogs.ProductGroups.contitionType.used', 'Product Groups used contition type'),[h.h8.REFURBISHED]:t._('refurbished', 'Catalogs.ProductGroups.contitionType.refurbished', 'Product Groups refurbished contition type')}[e]))(h.g2[Number(e)],o))&&void 0!==i?i:o._('Unknown Type', 'Catalogs.ProductGroups.conditionType.Unknown', 'Unknown condition type.'));case 25:return(0,d.Z)(null!==(s=((e,t)=>({[h.ps.MALE]:t._('male', 'Catalogs.ProductGroups.genderType.male', 'Product Groups male gender type'),[h.ps.FEMALE]:t._('female', 'Catalogs.ProductGroups.genderType.female', 'Product Groups female gender type'),[h.ps.UNISEX]:t._('unisex', 'Catalogs.ProductGroups.genderType.unisex', 'Product Groups unisex gender type')}[e]))(h.gd[Number(e)],o))&&void 0!==s?s:o._('Unknown Type', 'Catalogs.ProductGroups.genderType.Unknown', 'Unknown gender type.'));default:return e}},b=(e,t=[])=>e.map(((e,o)=>((e,t=!1,o)=>({displayName:e,checked:t,index:o,key:e}))(e,t.includes(e),o))),y=e=>e?{[h.hh.ITEM_ID]:e[p(h.hh.ITEM_ID)[0]]||[],[h.hh.ITEM_GROUP_ID]:e[p(h.hh.ITEM_GROUP_ID)[0]]||[],[h.hh.PRODUCT_CATEGORY]:e[p(h.hh.PRODUCT_CATEGORY)[0]]||{},[h.hh.PRODUCT_TYPE]:e[p(h.hh.PRODUCT_TYPE)[0]]||{},[h.hh.BRANDS]:e[p(h.hh.BRANDS)[0]]||[],[h.hh.CUSTOM_LABEL_0]:e[p(h.hh.CUSTOM_LABEL)[0]]||[],[h.hh.CUSTOM_LABEL_1]:e[p(h.hh.CUSTOM_LABEL)[1]]||[],[h.hh.CUSTOM_LABEL_2]:e[p(h.hh.CUSTOM_LABEL)[2]]||[],[h.hh.CUSTOM_LABEL_3]:e[p(h.hh.CUSTOM_LABEL)[3]]||[],[h.hh.CUSTOM_LABEL_4]:e[p(h.hh.CUSTOM_LABEL)[4]]||[],[h.hh.AVAILABILITY]:e[p(h.hh.AVAILABILITY)[0]]||[],[h.hh.GENDER]:e[p(h.hh.GENDER)[0]]||[],[h.hh.CONDITION]:e[p(h.hh.CONDITION)[0]]||[]}:{},v=e=>!h.d0.includes(e),w=e=>!h.cU.includes(e),P=e=>{if(!e)return[];const t=[];return h.d0.forEach((o=>{var n,i,s,r,a,l,c;switch(o){case h.hh.PRODUCT_CATEGORY:case h.hh.PRODUCT_TYPE:Object.keys(null!==(n=e[p(o)])&&void 0!==n?n:{}).length>0&&t.push(o);break;case h.hh.CUSTOM_LABEL_0:(null!==(i=e[p(h.hh.CUSTOM_LABEL)[0]])&&void 0!==i?i:[]).length>0&&t.push(o);break;case h.hh.CUSTOM_LABEL_1:(null!==(s=e[p(h.hh.CUSTOM_LABEL)[1]])&&void 0!==s?s:[]).length>0&&t.push(o);break;case h.hh.CUSTOM_LABEL_2:(null!==(r=e[p(h.hh.CUSTOM_LABEL)[2]])&&void 0!==r?r:[]).length>0&&t.push(o);break;case h.hh.CUSTOM_LABEL_3:(null!==(a=e[p(h.hh.CUSTOM_LABEL)[3]])&&void 0!==a?a:[]).length>0&&t.push(o);break;case h.hh.CUSTOM_LABEL_4:(null!==(l=e[p(h.hh.CUSTOM_LABEL)[4]])&&void 0!==l?l:[]).length>0&&t.push(o);break;default:(null!==(c=e[p(o)])&&void 0!==c?c:[]).length>0&&t.push(o)}})),t},S=(e=[],t=null)=>{const o=[];return e.forEach((e=>{if("NOT_SELECTED"!==e.selectedStatus)if("FULLY_SELECTED"!==e.selectedStatus||e!==t&&e.children){if(e.children&&e.children.length){const n=S(e.children,t);n.length&&o.push(...n)}}else o.push(e.fullyQualifiedPath.split(_.f7).slice(1))})),o},A=e=>e.reduce(((e,{displayName:t,checked:o})=>(e.push(...o?[t]:[]),e)),[]),C=e=>[23,22].includes(e),E=e=>[1,24].includes(e),T=({logicalOperator:e,filterOrders:t,filterValueById:o,filterTypeById:n,filterOperatorById:i},s=!1)=>({logical_operator:e,criteria:t.map((e=>{var t,r,a,l,c;return C(n[e])?{key:n[e],values:o[e],negated:!(null===(r=i[e])||void 0===r||!r.negated),inclusion:!(null===(a=i[e])||void 0===a||!a.inclusion)}:26===n[e]?{key:n[e],values:o[e]}:s&&(c=n[e],[12,5].includes(c))&&Array.isArray(o[e])?{key:n[e],values:o[e].map((e=>Array.isArray(e)?e:e.split(">").map((e=>e.trim())))),negated:!(null===(l=i[e])||void 0===l||!l.negated)}:{key:n[e],values:o[e],negated:!(null===(t=i[e])||void 0===t||!t.negated)}}))}),j=({filterValueById:e,filterTypeById:t})=>{const o=Object.keys(t).find((e=>26===t[e]));return o?{id:o,value:"string"==typeof e[o]?e[o]:""}:null},k=e=>{const t=j(e);return e.filterOrders.filter((e=>(null==t?void 0:t.id)!==e)).length},I=({filterValueById:e,filterTypeById:t,filterOrders:o})=>o.filter((e=>C(t[e]))).map((t=>({id:t,value:e[t]}))),O=(e,t,o,{customComparator:n,defaultValue:s}={})=>{const a=null!=n?n:(e,t)=>r()(e[o],t[o]),l=(c=t.id,e.find((e=>c===e.id)));var c,d;return l&&!a(t,l)?{...l,[o]:null!==(d=i()(t[o]))&&void 0!==d?d:s}:null},R=(e,t,{omitProps:o=[]}={})=>{let n=!1;e.length!==t.length&&(n=!0);const i=t.map((t=>{const i=e.find((e=>e.id===t.id));if(!i)return n=!0,{...t};const s=(0,l.Z)(t,o);return r()(s,(0,l.Z)(i,o))?{...i}:(n=!0,{...i,...s})}));return n?i:e},L=()=>["pin.description","pin.dominant_color","pin.grid_title","pin.id","pin.images[170x, 236x, 474x, orig]","pin.price_currency","pin.price_value","pin.rich_metadata()","pin.rich_summary()","pin.title"],z=e=>"badge_"+e,N=e=>{const t=new Date;e.forEach((e=>(0,c.Nh)(z(e),t.getTime()+108e5)))},M=e=>{const t=h.kl.indexOf(e);return-1===t?h.kl.length:t},D=(e,t)=>t.filter((({name:t,id:o})=>t.toLowerCase().includes(e.toLowerCase())||o.toString().includes(e))),B=e=>e.filter((({feedProfileId:e})=>!e)),Z=(e,t)=>t.filter((({country:t})=>t&&t===e)),U=(e,t,o)=>{let n=Object.freeze({});return e&&(n={...n,[h.VO]:e}),t&&(n={...n,[h.j0]:t}),o&&(n={...n,[h.pM]:o}),n}},732192:(e,t,o)=>{o.r(t),o.d(t,{RoleBasedAccessControlProvider:()=>b,useRoleBasedAccessControlContext:()=>x});var n=o(667294),i=o(583592),s=o(245410),r=o(819079),a=o(802071),l=o(771799),c=o(173085),d=o(716793);const u=e=>{const t={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&("object"!=typeof e[o]||null===e[o]||Array.isArray(e[o])?t[(0,d.Z)(o)]=e[o]:t[(0,d.Z)(o)]=u(e[o]));return t},h=(e,t)=>{const o=[];for(const s in e)s!==t&&o.push({id:s,...u(e[s])});const n=o.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),i=new Map;for(const s of n)i.set(s.id,s);return i},_={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},p=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,o]=(0,n.useReducer)(p,_),i=(({dispatch:e,isEnabled:t,state:o})=>{const{orbacVisibility:i,disableProfileChanger:s,headerVisible:r}=o;return{changeProfile:(0,n.useCallback)((o=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:o})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=o?o:!i})}),[t,e,i]),toggleDisableProfileChanger:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=o?o:!s})}),[t,e,s]),toggleHeaderVisibility:(0,n.useCallback)((o=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=o?o:!r})}),[t,e,r])}})({dispatch:o,isEnabled:e,state:t}),{activeProfile:s,orbacVisibility:r}=t;(0,n.useEffect)((()=>{const e=(0,c.qn)("orbacActiveProfile",!1);e&&o({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,c.qn)("orbacVisibilty",!1);e&&o({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,c.Nh)("orbacVisibility",r)}),[r]),(0,n.useEffect)((()=>{(0,c.Nh)("orbacActiveProfile",s)}),[s]);return{state:t,actions:i,receiveProfiles:(0,n.useCallback)(((e,t)=>{o({type:"LOAD_PROFILES",payload:h(e,t)})}),[o])}};var m=o(785893);const{Provider:f,useMaybeHook:x}=(0,i.Z)("RoleBasedAccessControlContext"),b=({children:e})=>{const{checkExperiment:t}=(0,s.F)(),o=(0,a.Z)(),i=Boolean(o.isAuth&&o.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=g(i),{activeProfile:h,headerVisible:_,profiles:p=[]}=c,x=p?Array.from(p.values()):[],b=(0,l.Z)(x),y=!!(o.isAuth&&x.length>0)&&b,v=o.isAuth?o.id:"",w=o.isAuth?o.username:"",{changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:A,toggleHeaderVisibility:C}=d;(0,n.useEffect)((()=>{i&&("string"!=typeof b?h||P(v):P(b))}),[b,v,i,P,h]),(0,n.useEffect)((()=>{i&&(y&&!_&&C(!0),!y&&_&&C(!1))}),[C,y,i,_,p]);const{data:E}=(0,r.Z)(i?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),T=null==E?void 0:E.profiles;let j;o&&o.isAuth&&c.activeProfile===o.id?j={id:o.id,permissions:["OWNER"],user:{username:w,businessName:o.fullName,imgUrl:o.imageSmallUrl}}:h&&c.profiles&&(j=c.profiles.get(h)),(0,n.useEffect)((()=>{T&&u(T,v)}),[u,T,v]);const k=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(f,{value:{profiles:k,headerVisible:c.headerVisible,activeProfile:j,changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:A,toggleHeaderVisibility:C},children:e})}},329689:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(245410),i=o(732192),s=o(771799);const r=()=>{const{checkExperiment:e}=(0,n.F)(),t=(0,i.useRoleBasedAccessControlContext)(),{activeProfile:o}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,s.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return r?l&&!a?Object.freeze({}):o&&(o.viewerMeetsMfaRequirement||(o.permissions||[]).includes("OWNER"))?o:Object.freeze({}):Object.freeze({})}},771799:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(616550),i=o(988014),s=o(245410),r=o(802071),a=o(525104);const l=e=>{var t,o,l,c;const d=(0,n.useLocation)(),u=(0,r.Z)(),h=(0,a.S6)(),{anyEnabled:_}=(0,s.F)().checkExperiment("web_m10n_business_access_orbac_www"),p=(0,n.useRouteMatch)("/:username"),g=null==p||null===(t=p.params)||void 0===t?void 0:t.username,m=(0,n.useRouteMatch)("/pin/:id"),f=!(null==m||null===(o=m.params)||void 0===o||!o.id)&&(null===(l=h(m.params.id))||void 0===l||null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,i.ej)(d))return!1;if((0,i.RU)(d))return!0;if((0,i.mY)(d))return _;const x=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:o}=e||{},{username:n}=t;return!!(n&&g||f&&o)&&(n===g||f===o)}));return!!x&&x.id}},384722:(e,t,o)=>{o.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>n,N1:()=>u,_P:()=>r,lJ:()=>s,nl:()=>i,q6:()=>l});const n=(e,t)=>{let o=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(o=t.user.username),o},i=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),s=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,o)=>{var n;return o&&o.user&&t&&t.isAuth&&o.id!==t.id?o.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},a=(e,t,o)=>o&&o.user&&e.isAuth&&o.id!==e.id?o.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,o)=>!!(e&&e.isAuth&&o&&o.id&&o.id!==e.id&&o.id===t),c=(e,t,o)=>!!(l(e,t,o)||e&&e.isAuth&&t===e.id),d=(e,t,o)=>{const n=t&&t.owner&&t.owner.id||"";return c(e,n,o)};function u(e,t,o){const n=t?t.id:"";return c(e,n,o)}},257330:(e,t,o)=>{o.d(t,{uB:()=>x,re:()=>b,Xc:()=>w,NH:()=>v,Mz:()=>y,Mj:()=>O,LZ:()=>j,Lu:()=>T,es:()=>k,i5:()=>D,QR:()=>V,xV:()=>z,o_:()=>G,d5:()=>C,if:()=>Z,xQ:()=>A,O9:()=>P,bq:()=>N,HH:()=>M,Ti:()=>R,cG:()=>S,Hw:()=>I,YA:()=>U,HC:()=>L,Y8:()=>B,$n:()=>F});var n=o(758579),i=o(40660),s=o(883911),r=o(508237);const a=({values:e,pin:t,productGroup:o,country:n})=>{const{name:i,destination_url:a,budget:l,duration:c,inclusive_end_date:d,is_ongoing:u,advertiser_id:h,ages:_,interests:p,genders:g,ad_type:m,selected_ocpm_tag:f,isAutoTargeting:x}=e,b=Math.round(l*r.Az),y=(0,s.Z)({ages:_,interests:p,genders:g,country:n}),v={};m===r.Hl.WEB_CONVERSION&&(v.objective_type=r.Hl.WEB_CONVERSION,v.optimization_goal_metadata={conversion_tag_v3_goal_metadata:{conversion_tag_id:f.conversionTagId,conversion_event:f.conversionEvent}});const w={budget_in_micro_currency:b,campaign_name:i&&i.length<64?i:`${(i||"").substr(0,62)}…`,destination_url:t?a:null,duration:parseInt(c,10),auto_targeting_enabled:x,is_ongoing:u,start_now:!0,targeting_spec:y,advertiser_id:h,ads_client_type:"quick_promote",pin_id:t?t.id:null,product_group_id:o?o.id:null,...v};return!u&&d&&d.trim().length>0&&(w.inclusive_end_date=d),w};var l=o(267791),c=o(970588),d=o(282382),u=o(611756),h=o(837792),_=o(98736),p=o(739425),g=o(3060),m=o(711224),f=o(581803);const x=472,b=364,y={VIEW:"view",SUBMIT:"submit",SUBMIT_SUCCESS:"submit.success",SUBMIT_ERROR:"submit.error"},v={CLICK:"click",DISMISS:"dismiss",RENDER:"render"},w={BIZ_HUB_AD_CREDITS:"biz_hub_ad_credits",BIZ_HUB_EMPTY_STATE_ADS_WIDGET:"biz_hub_empty_state_ads_widget",BIZ_HUB_CREATE_AD:"biz_hub_create_ad",CLOSEUP_PARTNER_MODULE:"closeup_partner_module",NAVBAR_PROMOTE_PIN:"navbar_promote_pin",PIN_CREATE_SUCCESS:"pin_create_success",PIN_CREATE_SUCCESS_PINNER:"pin_create_success_pinner",PIN_REP:"pin_rep",PINANALYTICS:"pinanalytics",TRENDS_HOME_PAGE:"trends_home_page",TRENDS_DETAILS_PAGE:"trends_details_page"},P=e=>({isAnalyticsSite:4===e,isSterlingSite:3===e,isWwwSite:0===e,isTrendsSite:7===e}),S=e=>{const{isAnalyticsSite:t=!1,isSterlingSite:o=!1,isWwwSite:n=!1,loggingType:s}=e;let r="";t?r=".analytics":n?r=".www":o&&(r=".ads"),i.Z.increment(`sterling.quick_promote.page${r}.${s}`,1)},A=e=>e?r.vX.indexOf(e):-1,C=e=>{if(!(null==e||e<0||e>r.vX.length-1))return r.vX[e]},E=e=>e===r.Gl.BUSINESS_FORM?{element:11213,component:13375}:e===r.Gl.BILLING_FORM?{element:11214,component:13376}:{component:205,element:1223},T=(e,t)=>{const o=C(e),{component:n,element:i}=E(o);t({event_type:101,component:n,element:i,aux_data:{page:"GestaltQuickPromote"}})},j=(e,t)=>{const o=C(e),{component:n}=E(o);o===r.Gl.PIN_SELECTION_MODAL?t({event_type:6358,component:13288,aux_data:{page:"GestaltQuickPromote"}}):o===r.Gl.SUCCESS_MODAL&&t({event_type:6358,component:n,aux_data:{page:"GestaltQuickPromote"}})},k=(e,t)=>{const o=[...new Set(null==e?void 0:e.split("+"))];return t&&o.filter((e=>e in t))},I=(e,t)=>{if(!t||!e)return"";return`${`https://${h.KU}`}/advertiser/${e}/billing/${`?campaign_id=${t.campaign_id}&objective_type=CLICKTHROUGH&is_quick_promote=true`}`},O=(e,t)=>{if(!e)return"";const{ad_group_id:o=""}=e,n=(0,l.default)("adgroup",t,{id:o,showAllEntities:!0});return(0,m.Z)({advertiser:null,isAdsSite:!1,isAnalyticsSite:!1,isTrendsSite:!1,baseUrl:n,adsUrl:null,isQuickPromote:!0})},R=e=>({hasValidBusinessInfo:e.hasBusinessAddress||e.hasBusinessInfo,hasValidBillingInfo:e.hasValidBillingProfile||e.hasBillingInfo}),L=e=>{const{pin:t,productGroup:o,country:n,onSaveSuccess:i,onSaveFailed:s,quickPromoteFormValues:r,advertiserId:l}=e,d=t?`/ads/v4/advertisers/${l}/pins/${(null==t?void 0:t.id)||""}/quick_promote/`:`/ads/v4/advertisers/${l}/product_group/${(null==o?void 0:o.id)||""}/quick_promote/`,u=t?"pin":"product_group";(0,c.Z)({url:d,method:"POST",data:a({values:r,pin:t,productGroup:o,country:n})}).then((({resource_response:e})=>{null!=e&&e.data&&i(e.data)})).catch((e=>{const{httpStatus:t,message_detail:o}=e;let n;n=o?{area:401===t?u:"modal",message:o}:{area:"modal"},s(n)}))},z=e=>{const{hasValidBillingProfile:t,hasBusinessAddress:o,hasBillingInfo:n,hasBusinessInfo:i,serverErrorArea:s,stepIndex:a,isQuickPromotePage:l=!1}=e,{hasValidBusinessInfo:c,hasValidBillingInfo:d}=R({hasValidBillingProfile:t,hasBusinessAddress:o,hasBillingInfo:n,hasBusinessInfo:i});let u=[void 0,null].includes(a)?0:a+1;return C(a)===r.hf&&(s?u="modal"===s?A(r.Gl.ERROR_MODAL):a:c&&d?u=A(r.Gl.SUCCESS_MODAL):c?u=A(r.Gl.BILLING_FORM):l||(u=A(r.Gl.BUSINESS_FORM))),u>r.vX.length-1?void 0:u},N=e=>{let t=r.Pq.WIDE;return e<870?t=r.Pq.NARROW:e>=870&&e<=1275&&(t=r.Pq.MEDIUM),t},M=(e,t,o)=>{var i,s;const{crossSite:r}=(0,p.mB)(e.search);if(null!==(i=null===(s=(0,n.Z)())||void 0===s?void 0:s.experimentsClient.checkExperiment("advertiser_growth_close_modal_window_without_history").anyEnabled)&&void 0!==i&&i&&t.length<=1)window.close();else if(window){const e=o.find((e=>e&&e.location&&e.location.pathname.includes("pin-builder"))),n=Boolean(e)?3:1;[...Array(n)].forEach((()=>r?window.history.back():t.goBack()))}else t.goBack()},D=e=>{switch(e){case 4:return g.YD;case 3:return h.KU;case 0:return g.Vi;default:return null}},B=(e,t,o)=>{(0,u.Nh)(`quickPromote.${t}.${e}`,JSON.stringify({pin:o.pin,dailyBudget:o.dailyBudget,destinationUrl:o.destinationUrl,duration:o.duration,locale:o.locale,name:o.name,interests:o.interests,ages:o.ages,genders:o.genders,adType:o.adType}))},Z=(e,t)=>{if(e&&t){var o;const n=JSON.parse(null!==(o=(0,u.qn)(`quickPromote.${t}.${e}`))&&void 0!==o?o:"{}");return(0,d.Z)(n)?null:n}return null},U=(e,t)=>{e&&t&&(0,u.L_)(`quickPromote.${t}.${e}`)};function F(e,t){const o=[...e],n=o.indexOf(t);return n>-1?o.splice(n,1):o.push(t),o}async function G(e,t,o){const n=e.filter((e=>e.filter_v2));o(t((await Promise.all(n.map((async e=>{try{var t;(0,_.My)("client.partner.shoppingAds.getProductsForCatalog.success");return{productGroup:e,pins:(null===(t=(await(0,c.Z)({url:`/v3/catalogs/product_groups/products/${e.merchant_id}/${e.feed_profile_id}/`,enabledRouteRefresh:!0,data:{filters:JSON.stringify(e.filter_v2)},field_sets:(0,f.G6)()})).resource_response)||void 0===t?void 0:t.data)||[]}}catch(o){return(0,_.My)("client.partner.shoppingAds.getProductsForCatalog.error"),[]}})))).filter((e=>e.productGroup&&Array.isArray(e.pins)&&e.pins.length>0)).map((e=>({productPin:Array.isArray(e.pins)?e.pins[0]:[],productGroup:Array.isArray(e)?null:e.productGroup})))))}async function V(e,t,o,n){if(!t)return;n(o(await Promise.all(t.map((async t=>{try{var o;const n=(null===(o=(await(0,c.Z)({url:`/ads/v4/advertisers/${e}/product_groups/catalogs/`,enabledRouteRefresh:!0,data:{feed_profile_id:t.id}})).resource_response)||void 0===o?void 0:o.data)||[];return{feed:t,productGroups:n.filter((e=>e.product_count&&e.product_count>0))}}catch(n){return[]}})))))}},527218:(e,t,o)=>{o.d(t,{Jg:()=>m,gf:()=>r,i7:()=>p,in:()=>u,j:()=>g,jz:()=>l,pD:()=>a,p_:()=>s,s5:()=>d,tz:()=>h,uE:()=>_,zY:()=>c});const n="iphone",i="android_mobile",s="ipad",r="android_tablet",a="web_mobile",l=["web",a,n,s,i,r],c=["android_mobile","android_tablet","iphone","ipad","web"],d=["android_mobile","android_tablet","iphone","ipad","web"],u=["android_mobile","iphone"],h=["android_mobile","android_tablet","iphone","ipad"],_=[n,i],p=[n,i],g=[n,i,s,r],m=[n,i]},515640:(e,t,o)=>{o.d(t,{N:()=>h,t:()=>g});var n=o(667294),i=o(690108),s=o(463310),r=o(980124),a=o(519677),l=o(583592),c=o(245410),d=o(785893);const{Provider:u,useHook:h}=(0,l.Z)("LinkedAccount"),_=e=>{(0,s.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},p=e=>{r.Z.reportFacebookConversion(a.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(a.Z.LINKEDIN_PARTNER_ID,a.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(a.Z.GOOGLE_ADWORDS_ID,a.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function g({children:e}){const[t,o]=(0,n.useState)(!1),[s,r]=(0,n.useState)([]),{checkExperiment:a}=(0,c.F)(),l=a("ppm_p_gate").anyEnabled,h=(0,n.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:n,nextUrl:s})=>{o(!0);const r={business_name:e,third_party_apps:t};return i.Z.create("BusinessOwnershipResource",r).callCreate({showError:!0}).then((()=>{n&&p(l),o(!1),_(s)})).catch((e=>(o(!1),Promise.reject({error:e}))))}),[o,l]),g=(0,n.useMemo)((()=>({createLinkedBusinessAccount:h,linkedBusinessCreationLoading:t,userAccounts:s,userAccountsRetrieved:r})),[h,t,r,s]);return(0,d.jsx)(u,{value:g,children:e})}},336331:(e,t,o)=>{o.d(t,{$:()=>s,B:()=>i});var n=o(583592);const{Provider:i,useHook:s}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},163216:(e,t,o)=>{o.d(t,{Z:()=>y});var n=o(667294),i=o(388011),s=o(272109),r=o(883119),a=o(563962),l=o(28630),c=o(732019),d=o(785893);function u({action:e,alignCenter:t}){const o=(0,a.Z)(),{title:n,description:i,button:s}=e,u=n&&n.text,h=i&&i.text,_=s&&s.text||"",p=s&&s.link||"",g=s&&s.link?s.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"",m=s&&_&&p.startsWith("http"),f=(0,l.Z)({url:p}),x=m&&f?"nofollow":"none";return m?(0,d.jsxs)(r.xu,{children:[(0,d.jsx)(r.xu,{marginBottom:1,children:(0,d.jsx)(r.xv,{align:t?"center":"start",weight:"bold",children:""!==_?_:"Visit"})}),(0,d.jsx)(r.xu,{marginBottom:1,children:(0,d.jsx)(r.rU,{rel:x,href:p,onClick:()=>{(0,c.AY)(o,p)},children:(0,d.jsx)(r.xv,{align:t?"center":"start",lineClamp:1,weight:"normal",underline:!0,children:g})})})]}):(0,d.jsxs)(r.xu,{children:[!!u&&(0,d.jsx)(r.xu,{marginBottom:1,children:(0,d.jsx)(r.xv,{align:t?"center":"start",weight:"bold",children:u})}),!!h&&(0,d.jsx)(r.xu,{marginBottom:1,children:(0,d.jsx)(r.xv,{align:t?"center":"start",children:h})})]})}function h(e,t){const o=[];let n=0;for(let i=0;i<t.length;i+=1){const s=t[i];if(5===s.tag_type&&s.link){const t=e.substring(s.offset,s.offset+s.length),i=(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(r.rU,{display:"inlineBlock",target:"blank",href:s.link,underline:"hover",children:t},t)});o.push((0,d.jsx)("span",{children:e.substring(n,s.offset)})),o.push(i),n=s.offset+s.length}}return n>0&&o.push((0,d.jsx)("span",{children:e.substring(n)})),0===o.length?[(0,d.jsx)("span",{children:e})]:o}const _={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},p={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function g({inModal:e,notice:t}){const{title:o,description:n,actions:i=[]}=t,s=n&&n.text||"",a=n&&n.text_tags||[],l=1===i.length,c=h(s,a);return(0,d.jsxs)(r.xu,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?p:_},children:[!!o&&!e&&(0,d.jsx)(r.xu,{marginBottom:2,display:"flex",children:(0,d.jsx)(r.X6,{size:"500",children:o})}),!!s&&(0,d.jsx)(r.xu,{marginBottom:4,children:(0,d.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,d.jsx)(r.xv,{overflow:"normal",align:e?"center":"start",children:c})})}),!!i.length&&(0,d.jsx)(r.xu,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:i.map((t=>(0,d.jsx)(r.xu,{column:e||l?12:6,paddingY:1,paddingX:2,children:(0,d.jsx)(u,{action:t,alignCenter:e||l})},JSON.stringify(t))))})]})}const m=44,f=540,x=656;function b({notice:e}){const t=(0,a.Z)(),{actions:o=[],description:n,footer:i}=e,s=h(n&&n.text||"",n&&n.text_tags||[]),l={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,d.jsxs)(r.xu,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:x,rounding:8,children:(0,d.jsxs)(r.xu,{height:"100%",width:"100%",padding:10,children:[(0,d.jsx)("span",{style:l,children:s}),(0,d.jsx)(r.xu,{marginTop:6,children:o.map((e=>{var o;const n=null===(o=e.button)||void 0===o?void 0:o.link;var i,s,a;return n&&n.startsWith("tel")?(0,d.jsxs)(r.xu,{children:[(0,d.jsx)("span",{style:{fontWeight:"600",...l},children:null===(i=e.title)||void 0===i?void 0:i.text}),(0,d.jsx)("span",{style:l,children:null===(s=e.description)||void 0===s?void 0:s.text})]}):(0,d.jsx)(r.rU,{href:n||"",onClick:()=>{(0,c.AY)(t,n||"")},children:(0,d.jsx)(r.xu,{display:"inlineBlock",children:(0,d.jsx)(r.xu,{alignItems:"center",color:"infoBase",display:"flex",justifyContent:"center",height:m,rounding:"pill",paddingX:12,children:(0,d.jsx)(r.xv,{color:"inverse",weight:"bold",children:(null===(a=e.button)||void 0===a?void 0:a.text)||""})})})})}))})]})}),!!i&&(0,d.jsx)(r.xu,{paddingY:2,width:f,children:(0,d.jsx)(r.rU,{href:i.link,display:"inlineBlock",onClick:()=>{(0,c.AY)(t,i.link)},target:"blank",underline:"hover",children:(0,d.jsx)(r.xv,{align:"center",color:"subtle",size:"100",children:(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}function y({inModal:e,notices:t,viewType:o,query:r,sensitivity:a}){const{logContextEvent:l}=(0,i.v)();return(0,s.Z)((()=>{o&&l({event_type:120,component:13367,view_type:o,aux_data:{entered_query:r,advisory_details:null==a?void 0:a.advisory_details,advisory_level:null==a?void 0:a.advisory,severity_level:null==a?void 0:a.severity}})})),(0,d.jsx)(n.Fragment,{children:t.map((t=>2===t.style?(0,d.jsx)(b,{notice:t}):(0,d.jsx)(g,{notice:t,inModal:e})))})}},732019:(e,t,o)=>{o.d(t,{AY:()=>r,IR:()=>i,St:()=>n,Uz:()=>s});const n={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},i={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function s(e){return!!e&&e.severity===i.ABUSIVE}function r(e,t){e({aux_data:{url:t},component:13367,element:11180,event_type:101,view_parameter:43,view_type:2})}},510525:(e,t,o)=>{o.d(t,{i5:()=>b,sX:()=>w,aX:()=>y,Z5:()=>x,NG:()=>v,MT:()=>P,iu:()=>S});var n=o(667294),i=o(690108),s=o(583592),r=o(170567),a=o(682492),l=o.n(a);const c=(e,t)=>e.data[t]&&e.data[t].messages||[];function d(e,t){const o={};return e.filter((e=>!!e)).reduce(((e,n)=>{const i=t(n);return o[i]?(l()(o[i],n),e):(o[i]=n,e.concat([n]))}),[])}function u(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function h(e,t,o){return u(d(c(e,t).concat(o),(e=>e.id)))}const _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e.data[o]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const o={...e,data:{...e.data}},{id:n}=t.payload;return delete o.data[n],o}if("FETCH_COMPLETE"===t.type){const{options:o,resource:n,response:i}=t.payload,s=i.resource_response.data;if("ConversationMessagesResource"===n){const t=s||[],n=(null==o?void 0:o.conversation_id)||"",i=h(e,n,t),r=i[i.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:i,unread:0,last_message:r}}}}if("ConversationsResource"===n){const t=s||[],o={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:i,board:s,emails:r,unread:a,users:l,last_message:c}=e,d=h(o,t,[c]);o.data[t]={...o.data[t],id:t,created_at:n,name:i,board:s,emails:r||[],unread:a||0,users:l||[],last_message:c,messages:d}})),o}if("ConversationResource"===n){const t=s||{},{id:o}=t,n={...e,data:{...e.data}};return o&&(n.data[o]={...n.data[o],...t}),n}if("NewsHubBadgeResource"===n){if(s){const t=s.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:o,message:n}=t.payload;return e.data[o]?{...e,data:{...e.data,[o]:{...e.data[o],id:o,messages:[...e.data[o].messages,n]}}}:e}if("MESSAGE_SEND_PENDING_SUCCESS"===t.type){const{id:o,tempMessage:n,newMessage:i}=t.payload;if(e.data[o]){if(c(e,o).find((e=>e.id===n.id&&e.created_ms===n.created_ms))){const t=u(d(c(e,o).filter((e=>e.id!==n.id)).concat([i]),(e=>e.id)));return{...e,data:{...e.data,[o]:{...e.data[o],last_message:i,messages:t}}}}}return e}if("MESSAGE_SEND_PENDING_FAILURE"===t.type){const{id:o,tempMessageId:n}=t.payload;if(e.data[o]){const t=c(e,o).filter((e=>e.id!==n));return{...e,data:{...e.data,[o]:{...e.data[o],messages:t}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:o}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:o}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload};if("CLEAR_MESSAGE_BADGE"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e.data[o],unread:0}}}}if("CONVERSATION_SAVE_POSITION"===t.type){const{id:o,position:n}=t.payload;return{...e,data:{...e.data,[o]:{...e.data[o],position:n}}}}if("CONVERSATION_RESET_POSITION"===t.type){const{id:o}=t.payload;return{...e,data:{...e.data,[o]:{...e.data[o],position:null}}}}if("SET_OBJECT_ATTACHMENT"===t.type){const{objectAttachment:o}=t.payload;return{...e,objectAttachment:o}}if("REMOVE_OBJECT_ATTACHMENT"===t.type)return{...e,objectAttachment:null}}return e}var g=o(785893);const m=(()=>{let e=0;return()=>e++})(),{Provider:f,useHook:x}=(0,s.Z)("Conversations");function b({children:e}){const[t,o]=(0,n.useReducer)(p,_),s=(0,n.useCallback)((e=>o({type:"FETCH_COMPLETE",payload:e})),[]);(0,r.Z8)("ConversationMessagesResource",s),(0,r.my)("ConversationMessagesResource",s),(0,r.Z8)("ConversationsResource",s),(0,r.Z8)("ConversationResource",s),(0,r.Z8)("NewsHubBadgeResource",s);const a=(0,n.useCallback)(((e,t=!1,n="")=>o({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),l=(0,n.useCallback)(((e,t="",n=!1)=>o({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),c=(0,n.useCallback)((e=>o({type:"CONVERSATION_CREATE",payload:e})),[]),d=(0,n.useCallback)((e=>o({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),u=(0,n.useCallback)(((e,t)=>o({type:"CONVERSATION_SAVE_POSITION",payload:{id:e,position:t}})),[]),h=(0,n.useCallback)((e=>o({type:"CONVERSATION_RESET_POSITION",payload:{id:e}})),[]),m=(0,n.useCallback)(((e,t,n)=>{i.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;o({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),x=(0,n.useCallback)((()=>{o({type:"CLOSE_DROPDOWN"})}),[]),b=(0,n.useCallback)((()=>{o({type:"OPEN_DROPDOWN"})}),[]),y=(0,n.useCallback)((e=>{o({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),v=(0,n.useCallback)(((e,t)=>o({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),w=(0,n.useCallback)(((e,t,n)=>o({type:"MESSAGE_SEND_PENDING_SUCCESS",payload:{id:e,tempMessage:t,newMessage:n}})),[]),P=(0,n.useCallback)(((e,t)=>o({type:"MESSAGE_SEND_PENDING_FAILURE",payload:{id:e,tempMessageId:t}})),[]),S=(0,n.useCallback)((e=>o({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),A=(0,n.useCallback)((e=>o({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),C=(0,n.useCallback)((e=>o({type:"CLEAR_MESSAGE_BADGE",payload:{id:e}})),[]),E=(0,n.useCallback)((e=>o({type:"SET_OBJECT_ATTACHMENT",payload:{objectAttachment:e}})),[]),T=(0,n.useCallback)((()=>o({type:"REMOVE_OBJECT_ATTACHMENT"})),[]),j=(0,n.useMemo)((()=>({clearMessageBadge:C,conversationOpen:a,conversationClose:l,conversationCreate:c,conversationDelete:d,conversationGet:m,saveConversationPosition:u,resetConversationPosition:h,dropdownClose:x,dropdownOpen:b,newMessageOpen:y,pendingMessageSend:v,pendingMessageSuccess:w,pendingMessageFailure:P,updateNewsHubCount:S,updateUnreadCount:A,conversations:t,setObjectAttachment:E,removeObjectAttachment:T})),[C,a,l,c,d,m,u,h,x,b,y,v,w,P,S,A,t,E,T]);return(0,g.jsx)(f,{value:j,children:e})}function y(){const{conversationCreate:e}=x();return async t=>{let o;const n=i.Z.create("ConversationsResource",t);try{var s;const t=null===(s=(await n.callCreate()).resource_response)||void 0===s?void 0:s.data;t&&(e(t),o=t)}catch(r){throw new Error(r.message)}return o}}function v(){const{conversations:e,conversationCreate:t,pendingMessageSend:o,pendingMessageSuccess:n,pendingMessageFailure:s}=x();return async(r,a,l,c)=>{const{text:d,pinId:u,boardId:h,userId:_,didItId:p}=a;async function g(){const e=i.Z.create("ConversationMessagesResource",{conversation_id:r,text:d,pin:u,board:h,user:_,user_did_it_data:p,source:l}),t=`${m()}`,a={text:d,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,type:"tempMessage"};o(r,a);try{var g;const t=null===(g=(await e.callCreate()).resource_response)||void 0===g?void 0:g.data;t&&n(r,a,t)}catch(f){throw s(r,t),new Error(f.message)}}if(e.data[r])await g();else{const e=i.Z.create("ConversationResource",{conversation_id:r});try{var f;const o=null===(f=(await e.callGet()).resource_response)||void 0===f?void 0:f.data;o&&(t(o),await g())}catch(x){throw new Error(x.message)}}}}function w(e){const{conversations:t}=x();return t.data[e]}function P(e){const{conversations:t}=x();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}function S(){const{conversations:{data:e}}=x(),t=(o=e,Object.keys(o).map((e=>o[e]))).filter((e=>e.users&&e.last_message));var o,n;return n=t,Array.from(n).sort(((e,t)=>new Date((t.last_message||t).created_at)-new Date((e.last_message||e).created_at)))}},981872:(e,t,o)=>{o.r(t),o.d(t,{default:()=>b});var n=o(667294),i=o(883119),s=o(493214),r=o(621699),a=o(13596),l=o(536042),c=o(630089),d=o(245410),u=o(729522),h=o(371362),_=o(846226),p=o(799665),g=o(806681),m=o(462887),f=o(486507),x=o(785893);const b=function(e){const t=(0,l.ZP)(),{followerCount:o,fullName:b,hasVerifiedIdentity:y,imageUrl:v,isPromoted:w,isVerifiedMerchant:P,profileUrl:S,sponsorName:A,sponsorshipStatus:C,sponsorUsername:E="",verified:T,color:j="default",onAvatarClick:k,onNavigateClick:I,onNavigateSponsorClick:O,openNewTab:R,isLeadPin:L=!1}=e,z=(0,d.F)().checkExperiment("mweb_web_android_ios_backend_clbc_display_controls").anyEnabled,N=(0,u.Z)(t._('{{ fullName }} avatar link', 'creatorCardProfile.avatar.accessibilityLabel', 'Accessibility label for user avatar'),{fullName:null!=b?b:""}),M=(0,x.jsx)(g.q,{children:({active:e,focused:t,hovered:o,onBlur:n,onFocus:s,onMouseEnter:a,onMouseLeave:l})=>(0,x.jsx)(i.xu,{onBlur:n,onFocus:s,onMouseEnter:a,onMouseLeave:l,onMouseDown:()=>{k&&k()},children:(0,x.jsx)(i.zd,{rounding:"circle",wash:o||e||t,children:(0,x.jsx)(r.Z,{accessibilityLabel:N,name:null!=b?b:"",size:"md",src:null!=v?v:"",verified:T})})})}),D=(0,h.ZP)(b,70),B=(0,x.jsxs)(n.Fragment,{children:[w&&(0,x.jsx)(s.Z,{size:"200",lineClamp:1,weight:"bold",children:t._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin')}),(0,x.jsx)(_.Z,{id:"creator-profile-name",children:(0,x.jsx)(i.xu,{maxWidth:270,children:(0,x.jsx)(i.xv,{color:j,size:"200",weight:L?"normal":"bold",children:y||P?(0,x.jsx)(f.Z,{badgeSize:"xs",badgeSpacing:2,fullName:D,identityIsVerified:y,isVerifiedMerchant:P}):b})})})]}),Z=E&&A||m.j.includes(C)&&z,U=`/${null!=E?E:""}/`;return(0,x.jsxs)(i.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},"data-test-id":"creator-card-profile",children:[(0,x.jsx)(i.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:S?(0,x.jsx)(i.iP,{role:"link",rel:(0,p.Z)(S)?"none":"nofollow",target:R?"blank":null,onTap:I,href:S,children:M}):M}),(0,x.jsxs)(i.xu,{children:[(0,x.jsx)(i.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:S?(0,x.jsx)(i.rU,{underline:"none",href:S,onClick:I,rel:(0,p.Z)(S)?"none":"nofollow",target:R?"blank":null,children:B}):B}),Z?(0,x.jsx)(i.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,x.jsx)(m.Z,{href:U,isPromoted:w,sponsorName:A,sponsorUsername:E,sponsorshipStatus:C,onNavigateSponsorClick:O})}):!!o&&(0,x.jsx)(i.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,x.jsx)(i.xv,{color:j,size:"200",children:(0,c.nk)(t.ngettext('{{ followerCount }} follower', '{{ followerCount }} followers', o, 'closeup.creator.followerCount', 'the number of followers the creator of the pin has'),{followerCount:(0,x.jsx)(a.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:o},o)})})})]})]})}},506465:(e,t,o)=>{o.d(t,{Z:()=>C});var n=o(667294),i=o(702664),s=o(883119),r=o(388011),a=o(583121),l=o(133636),c=o(61849),d=o(536042),u=o(630089),h=o(315219),_=o(860438),p=o(63262),g=o(272109),m=o(13596),f=o(785893);const x=({followText:e,followerCount:t,userFollowed:o})=>{const n=(0,d.ZP)();return(0,u.nk)(n._('{{ followCount }} {{ followText }}', ' - ', ' -- '),{followCount:(0,f.jsx)(s.xu,{"data-test-id":"followCount",paddingX:1,opacity:o?void 0:.8,children:(0,f.jsx)(s.xv,{color:o?"subtle":"inverse",children:(0,f.jsx)(m.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,f.jsx)(s.xu,{"data-test-id":"followText",paddingX:1,children:(0,f.jsx)(s.xv,{color:o?"default":"inverse",weight:"bold",children:e})},"followText")})};var b=o(397831),y=o(427778),v=o(712968),w=o(820166),P=o(619277);function S(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class A extends n.PureComponent{constructor(...e){super(...e),S(this,"handleButtonClick",(({event:e})=>{const{requireAuth:t,i18n:o,userFollowed:n}=this.props;if(t)return e.stopPropagation(),void t({loginModalHeader:(0,a.N4)({i18n:o,toFollow:!n})});const{shouldStopEventPropagation:i,loggingData:s}=this.props;i&&(e.preventDefault(),e.stopPropagation()),this.props.logContextEvent({event_type:101,component:13672,element:11951,object_id_str:this.props.id,view_type:this.props.viewType,view_parameter:this.props.viewParameter,...s||Object.freeze({})}),this.toggleFollowUnfollow()})),S(this,"handleClick",(({event:e})=>{const{requireAuth:t}=this.props;(t||this.props.shouldStopEventPropagation)&&e.stopPropagation(),t?t():this.toggleFollowUnfollow()})),S(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPinId:t,loggingData:o,userFollowed:n,viewType:i,viewParameter:s}=this.props;n?(this.props.logContextEvent({event_type:46,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.unfollow()):(this.props.logContextEvent({event_type:45,object_id_str:e,view_type:i,view_parameter:s,aux_data:{pin_id:t},...o||Object.freeze({})}),this.follow())})),S(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;e(t,n,this.showConfirmation,this.showError),o&&o(!0),i(null)})),S(this,"showToast",(e=>{const{id:t,imageUrl:o,profileUrl:n,toastManagerContext:i,suppressToasts:s}=this.props;s||i.showOneToast((({hideToast:i})=>(0,f.jsx)(w.Z,{href:n,userId:t,imageUrl:o,handleHide:i,text:e})))})),S(this,"showConfirmation",(()=>{const e=(0,f.jsx)(s.xv,{children:this.props.i18n._('Following! Their created Pins will show up in your home feed!', 'userFollowButton.informationalToastText2', 'Text explaining that a creator\'s Pins will show up in home feed after follow')});this.showToast(e)})),S(this,"showError",(e=>{const{fullName:t,userFollowed:o,showEmailVerificationReminderModal:n}=this.props,i=o?this.props.i18n._('Error unfollowing {{ usernameComponent }}.', 'UserFollowButton.error.unfollowing', 'When there is an API error when unfollowing a user'):this.props.i18n._('Error following {{ usernameComponent }}.', 'UserFollowButton.error.following', 'When there is an API error when following a user');if(e&&e.api_error_code===h.H9)return void n();const r=(0,f.jsx)(s.xv,{children:(0,u.nk)(i,{usernameComponent:(0,f.jsx)(s.xv,{weight:"bold",inline:!0,children:t})})});this.showToast(r)})),S(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:o,mostRecentPinId:n,setMostRecentPinId:i}=this.props;o(e,n,(()=>{}),this.showError),t&&t(!1),i(null)}))}renderButton(){const{button:e,followerCount:t,inline:o=!1,isOwnProfile:n,invertButtonColor:i,isSecondaryButton:r,size:a,showFollowerCount:l,userFollowed:c}=this.props,d=c?this.props.i18n._('Following', 'User follow button', 'User follow button'):this.props.i18n._('Follow', 'User follow button', 'User follow button');if(e)return e({followText:d,onClick:this.handleButtonClick,userFollowed:c});if(n)return(0,f.jsx)(s.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._('This is you', 'Button label to note that this is your Profile', 'Button label to note that this is your Profile')});if(l){const e="number"==typeof t?(0,f.jsx)(x,{followerCount:t,userFollowed:c,followText:d}):d;return(0,f.jsx)(s.iP,{onTap:this.handleClick,children:(0,f.jsx)(s.xu,{color:c?"secondary":"primary",rounding:2,paddingX:3,paddingY:3,children:(0,f.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,f.jsx)(s.xu,{display:"inlineBlock","data-test-id":`user-${c?"unfollow":"follow"}-button`,children:(0,f.jsx)(s.zx,{accessibilityLabel:c?this.props.i18n._('Unfollow', 'userUnfollowButton.button.accessibilityLabel', 'Accessibility label for the unfollow button'):this.props.i18n._('Follow', 'userFollowButton.button.accessibilityLabel', 'Accessibility label for the follow button'),color:r||c?"gray":"red",selected:i?!c:!!c,fullWidth:o,onClick:this.handleButtonClick,size:null!=a?a:void 0,text:d})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,f.jsxs)(s.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,f.jsx)(s.iP,{onTap:this.handleClick,children:(0,f.jsx)(s.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,f.jsx)(s.o3,{paused:t||!1})})})]})}}function C(e){const{logContextEvent:t}=(0,r.v)(),o=(0,d.ZP)(),{id:n,setMostRecentPinId:s}=(0,b.f)(),a=(0,l.Z)(),u=(0,i.useDispatch)(),{showEmailVerificationReminderModal:h}=(0,c.y9)(),m=(0,v.mN)()(e.id),x=null==m?void 0:m.follower_count,w=m?m.explicitly_followed_by_me:e.userFollowed;return(0,g.Z)((()=>{const{id:t}=e,o=_.Z.getItem(P.AG)||"";o&&o===t&&(_.Z.removeItem(P.AG),u((0,y.ZN)(o)))})),(0,f.jsx)(A,{...e,follow:(e,t,o,n)=>{u((0,y.yA)(e,t)).then(o).catch((e=>{n(e)}))},followerCount:x,i18n:o,logContextEvent:t,mostRecentPinId:n,requireAuth:a,setMostRecentPinId:s,showEmailVerificationReminderModal:h,toastManagerContext:(0,p.F9)(),unfollow:(e,t,o,n)=>{u((0,y.KF)(e,t)).then(o,n)},userFollowed:w})}},41669:(e,t,o)=>{o.d(t,{Z:()=>P});var n=o(883119),i=o(563962),s=o(536042),r=o(245410),a=o(599226),l=o(98736),c=o(618569),d=o(63262),u=o(549201),h=o(272109),_=o(802071),p=o(230910),g=o(198060),m=o(471819),f=o(525104),x=o(712968),b=o(820166),y=o(618671),v=o(785893);const w=({children:e,pulsar:t,testId:o})=>t.show?(0,v.jsx)(n.xu,{position:"relative","data-test-id":o,children:(0,v.jsxs)(n.iP,{tapStyle:"none",onTap:t.onClick,children:[(0,v.jsx)(n.xu,{position:"absolute",marginTop:-5,dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},children:e}),(0,v.jsx)(n.xu,{position:"absolute",marginTop:-12,dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},children:(0,v.jsx)(n.o3,{})})]})}):(0,v.jsx)(n.xu,{"data-test-id":o,children:e});function P({auxData:e,disabled:t,disableLog:o,followEventType:P,id:S,inline:A,invertColors:C,isFollowed:E,isIdeaPin:T,isLegoEnabled:j,isSecondaryButton:k,isUserFollowButton:I,isUserMe:O,onFollow:R,onUnfollow:L,pinId:z,shouldUseLegoColors:N,showPulsar:M,size:D,textType:B="FollowFollowing",unfollowEventType:Z,viewParameter:U,viewType:F}){const G=(0,s.ZP)(),V=(0,u.HG)(),{showToast:H}=(0,d.F9)(),W=(0,c.Z)(),$=(0,i.Z)(),Y=(0,a.Z)(),{checkExperiment:q}=(0,r.F)(),K=(0,m.Z)(),X=(0,_.Z)(),J=X&&X.isAuth,{unauthFollowUserId:Q,setUnauthFollowUserId:ee}=(0,y.f)(),te=(0,x.mN)()(S),oe=(0,f.S6)()(null!=z?z:""),{link_domain:ne,native_creator:ie,origin_pinner:se,pinner:re}=oe||{},ae=(0,p.wS)(ne,ie,se,re),le=null!=te?te:ae;(0,h.Z)((()=>{!V&&J&&Q&&S&&Q===S&&R(S)}));const ce=K({fn:()=>{J?E?(L(S),o||$({event_type:Z,view_type:F,view_parameter:U,object_id_str:S,aux_data:e})):(R(S),I&&H((({hideToast:e})=>{if(!le)return null;const t=le.username?`/${le.username}/`:"";return(0,v.jsx)(b.Z,{handleHide:e,text:G._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow'),userId:S,href:t,imageUrl:le.image_medium_url})})),o||$({event_type:P,view_type:F,view_parameter:U,object_id_str:S,aux_data:e})):((0,l.My)(`mweb_unauth_follow_button.tap.${String(F)}`),5===F&&26===P&&(0,l.My)("mweb_unauth_board_page_follow_button.tap"),(0,l.NC)(E?"press_profile_unfollow":"press_profile_follow"),W({action:"click",item:"board-follow-button"}),Y({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:T?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:V&&q("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!V&&q("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0}),V||ee(null!=S?S:""),(0,l.NC)("clickthrough"))},modalHeader:(0,g.N4)({i18n:G,toFollow:!E})}),de=!E&&!!M,ue=()=>{if(O)return G._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===B)return E?G._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):G._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');const e="FollowUnfollow"===B?G._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):G._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return E?e:G._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,v.jsx)(w,{pulsar:de?{show:!0,onClick:ce}:{show:!1},testId:O||E?"board-unfollow-button":"board-follow-button",children:(0,v.jsx)(n.zx,{color:N||"AddRemove"===B||!j&&k||E?"gray":"red",disabled:O||t,fullWidth:A,onClick:de?void 0:({event:t})=>{t.preventDefault(),t.stopPropagation(),o||$({event_type:101,component:13672,element:11951,object_id_str:S,view_type:F,view_parameter:U,aux_data:e}),ce()},selected:C?!E:N&&E||!!E&&k,size:D,text:ue(),accessibilityLabel:ue()})})}},212380:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(536042),s=o(785893);const r=({isInModal:e})=>{const t=(0,i.ZP)();return(0,s.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",left:!0,position:e?"absolute":"fixed",top:!0,width:"100%",zIndex:new n.Ry(1),dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, .5)"}},children:(0,s.jsx)(n.$j,{accessibilityLabel:t._('Loading', 'Full page loading state', 'Full page loading state'),show:!0})})}},435399:(e,t,o)=>{o.d(t,{J:()=>c,Z:()=>_});var n=o(667294),i=o(583592),s=o(515640),r=o(589665),a=o(785893);const{Provider:l,useHook:c}=(0,i.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function h(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function _({children:e}){const t=(0,n.useRef)(null),[{height:o,isInBiznuxFullscreen:i,repinPinId:c,repinStartAnimation:_,showAccountMenuFlyout:p},g]=(0,n.useReducer)(h,u);(0,n.useEffect)((()=>{const e=document.getElementById(r.WZ),o=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(o),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const m=(0,n.useMemo)((()=>({height:o,isInBiznuxFullscreen:i,repinPinId:c,repinStartAnimation:_,showAccountMenuFlyout:p,updateHeaderState:g})),[g,o,i,c,_,p]);return(0,a.jsx)(l,{value:m,children:(0,a.jsx)(s.t,{children:e})})}},589665:(e,t,o)=>{o.d(t,{L1:()=>s,Rz:()=>l,WZ:()=>r,cI:()=>i,fe:()=>a,hu:()=>n});const n=64,i=80,s=22,r="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},512980:(e,t,o)=>{o.d(t,{H:()=>c,N:()=>l});var n=o(667294),i=o(583592),s=o(170567),r=o(785893);const{Provider:a,useHook:l}=(0,i.Z)("LastSavedTo");function c({children:e}){const[t,o]=(0,n.useState)();(0,s.Z8)("BoardPickerBoardsShortlistResource",(e=>{if(!t){const{data:t}=e.response.resource_response;o(t)}}));const i=(0,n.useCallback)((e=>{const n=t?t.filter((t=>t.id!==e.id)):[];o([e,...n])}),[t]),l=(0,n.useMemo)((()=>({lastSavedTo:t,saveToBoard:i})),[t,i]);return(0,r.jsx)(a,{value:l,children:e})}},460914:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);function s({children:e,onMouseEnter:t,onMouseLeave:o,onTouch:s,rounding:r,fullWidth:a=!1,pressState:l="none",accessibilityLabel:c,role:d}){const u=(Array.isArray(l)?l:[l]).includes("compress");return(0,i.jsx)(n.iP,{fullWidth:a,onMouseEnter:t&&(({event:e})=>t(e)),onMouseLeave:o&&(({event:e})=>o(e)),onTap:s&&(({event:e})=>s(e)),rounding:r,tapStyle:u?"compress":"none",accessibilityLabel:c,role:d,children:e})}},397831:(e,t,o)=>{o.d(t,{C:()=>l,f:()=>a});var n=o(667294),i=o(583592),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("MostRecentPin");function l({children:e}){const[t,o]=(0,n.useState)(),[i,a]=(0,n.useState)(),l=(0,n.useCallback)((e=>{const t=i?i.slice(0,10):[],o=[e].concat(t.filter((t=>t!==e)));a(o)}),[i]),c=(0,n.useMemo)((()=>({id:t,plpImageSignatures:i,setMostRecentPinId:o,setMostRecentPinImage:l})),[t,i,l]);return(0,s.jsx)(r,{value:c,children:e})}},525228:(e,t,o)=>{o.d(t,{H:()=>i,W:()=>s});var n=o(583592);const{Provider:i,useMaybeHook:s}=(0,n.Z)("PinCreateDeleteContext")},107877:(e,t,o)=>{o.d(t,{bn:()=>a,fJ:()=>c,gC:()=>l});var n=o(702664),i=o(583592),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("Boards");function l(){const e=a();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({boards:e})=>e),n.shallowEqual);return(0,s.jsx)(r,{value:t,children:e})}},464648:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(667294),i=o(883119),s=o(536042),r=o(731048),a=(o(118605),o(785893));function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class c extends n.Component{constructor(...e){super(...e),l(this,"setInputRef",(e=>{e&&(this._input=e)})),l(this,"handleKeyDown",(e=>{const{disabled:t,indexManager:o}=this.props;if(!t)switch(e.which){case r.Z.ENTER:case r.Z.NUMPAD_ENTER:e.preventDefault(),o.select();break;case r.Z.UP:e.preventDefault(),o.prev();break;case r.Z.DOWN:e.preventDefault(),o.next()}}))}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return(0,a.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,a.jsx)(i.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),ref:this.setInputRef,size:"lg",value:t})})}}const d=function(e){const t=(0,s.ZP)();return(0,a.jsx)(c,{...e,i18n:t})}},16467:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(667294),i=o(883119),s=o(536042),r=o(132751),a=o(118605),l=o(295116),c=o(464648),d=o(650548),u=o(414099),h=o(805215),_=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(...e){super(...e),p(this,"state",{searchQuery:""}),p(this,"handleSelectItem",(e=>{const{onCreate:t,onSelected:o}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&o(e);(t||e)&&this.setState({searchQuery:""})})),p(this,"handleSearchQueryInput",(e=>{this.setState({searchQuery:e})})),p(this,"renderSectionHeader",(e=>e.title?(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.xu,{paddingX:3,paddingY:1,children:(0,_.jsx)(i.xv,{size:"200",children:e.title})})}):null)),p(this,"renderRow",(({item:e,hovered:t,sectionProps:o={}})=>{const{boardSavedTo:n,isSelectMode:i,disabledRowId:s}=this.props,{searchQuery:r}=this.state,{inSectionSelection:a=!1}=o,l=n&&n.board===e.id?n&&n.state:null,c="board_section"===e.type;return(0,_.jsx)(d.Z,{disabled:e.id===s&&a,isSection:c,isSelectMode:i,isWithinSectionPicker:a,item:e,saveState:l,searchQuery:r,selected:t})}))}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:o,getSections:n,isLoaded:s,onCreate:r,pinId:d}=this.props;if(s){const{searchQuery:s}=this.state,p=n(s);return this.indexManager=new a.Z(p.map((e=>e.items))),this.indexManager.setSelectItem(this.handleSelectItem),(0,_.jsxs)(i.xu,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!o&&(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.xu,{paddingX:3,marginBottom:4,marginTop:1,children:(0,_.jsx)(c.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:s})})}),(0,_.jsx)(l.Z,{disabled:!!e,grow:!o&&!s,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:p}),r&&(0,_.jsx)(i.xu,{borderStyle:p.length>1?"shadow":"none",children:(0,_.jsx)(h.Z,{buttonLabel:t,hasHoverState:!0,name:s,onClick:()=>r(s)})}),o&&r&&d&&(0,_.jsx)(u.Z,{onBoardSelected:r,pinId:d})]})}return(0,_.jsx)(i.xu,{paddingY:5,children:(0,_.jsx)(i.$j,{accessibilityLabel:this.props.i18n._('loading section picker', 'accessibility label for the loading spinner the repin picker', 'accessibility label for the loading spinner the repin picker'),show:!0})})}}function m(e){const t=(0,s.ZP)(),o=(0,r.iN)();return(0,_.jsx)(g,{...e,boardPickerStopwatch:o,i18n:t})}},997768:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(563962),i=o(667294),s=o(883119),r=o(133636),a=o(88622),l=o(153091),c=o(646827),d=o(504506),u=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const _=new s.Ry(1),p=({children:e})=>e((0,r.Z)());class g extends i.Component{constructor(...e){super(...e),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:o,imageSrc:n,pinId:i,userId:s,board:r,sendType:a,fullName:h,profileUrl:_,element:p,viewParameter:g,component:m,viewType:f,onExternalSend:x,showCaret:b,todayArticle:y,ownerId:v}=this.props;let w={description:t,id:i,imageUrl:n,name:"",type:c.d.PIN,url:`/pin/${i}/`,ownerId:v},P=c.d.PIN;switch(a){case"user":w={description:t,id:s,imageUrl:n,name:h,type:c.d.PINNER,url:_},P=c.d.USER;break;case"board":w=r&&{description:r.description,id:r.id,imageUrl:r.imageUrl,name:r.name,type:c.d.BOARD,url:r.url,ownerId:null===(e=r.owner)||void 0===e?void 0:e.id},P=c.d.BOARD;break;case"today_article":w=y&&{description:y.subtitle||"",id:y.id,imageUrl:n,name:y.title,type:c.d.TODAY_ARTICLE,url:(0,l.Z)(y)},P=c.d.TODAY_ARTICLE}const S={element:p,component:m,onHide:this.onHide,onExternalSend:x,sendType:P,sharedObject:w,viewParameter:g,viewType:f};return{anchor:this.flyoutAnchor,idealDirection:o,onDismiss:this.handleDismiss,showCaret:b,children:(0,u.jsx)(d.default,{...S})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:o,userId:n,logContextEvent:i}=this.props;"user"===o&&i({event_type:101,component:13675,element:1079,object_id_str:n,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:o,shownWithinMasonry:n,shownWithinProfileHeader:i}=this.props,{anchor:r,idealDirection:l,showCaret:c,children:d}=this.flyoutProps(),h=(0,u.jsx)(s.xu,{children:(0,u.jsx)(p,{children:t=>(0,u.jsx)(e,{handleSendShareFlyoutButtonClick:e=>{t?t():(null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle())},...this.props})})}),g=o&&(n||i?(0,u.jsx)(s.mh,{zIndex:i?_:void 0,children:(0,u.jsx)(s.xu,{zIndex:t?a.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,u.jsx)(s.J2,{anchor:r,idealDirection:l,onDismiss:()=>{this.handleDismiss()},showCaret:c,size:"flexible",positionRelativeToAnchor:!1,children:d})})}):(0,u.jsx)(s.J2,{anchor:r,idealDirection:l,onDismiss:()=>{this.handleDismiss()},showCaret:c,size:"flexible",children:d}));return(0,u.jsxs)(s.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[h," ",g]})}}function m(e){return t=>{const o=(0,n.Z)();return(0,u.jsx)(g,{Subject:e,logContextEvent:o,...t})}}h(g,"defaultProps",{idealDirection:"down",onClick:()=>{}})},881610:(e,t,o)=>{o.d(t,{l:()=>d,E:()=>c});var n=o(667294),i=o(583592),s=o(170567);function r(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:i}=t;if("ShareSuggestionsResource"===i.resource){var o;const n=t.payload.response.resource_response.data||[],{term:s=""}=null!==(o=i.options)&&void 0!==o?o:{};return{...e,[s]:n}}if("ShareSuggestionsTypeaheadResource"===i.resource){var n;const o=(t.payload.response.resource_response.data||{}).items||[],{term:s=""}=null!==(n=i.options)&&void 0!==n?n:{};return{...e,[s]:o}}}return e}var a=o(785893);const{Provider:l,useHook:c}=(0,i.Z)("ShareSuggestions");function d({children:e}){const[t,o]=(0,n.useReducer)(r,{}),i=e=>{o({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,s.Z8)("ShareSuggestionsResource",i),(0,s.Z8)("ShareSuggestionsTypeaheadResource",i);const c=(0,n.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,a.jsx)(l,{value:c,children:e})}},462887:(e,t,o)=>{o.d(t,{Z:()=>c,j:()=>l});var n=o(883119),i=o(536042),s=o(630089),r=o(245410),a=o(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:t,isPromoted:o,onNavigateSponsorClick:c,sponsorName:d,sponsorUsername:u,sponsorshipStatus:h,textWeight:_="bold"}){const p=(0,i.ZP)(),g=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,m=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,f=t||(u?`/${u}/`:null),x=f&&d?(0,a.jsx)(n.rU,{href:f,onClick:c,children:(0,a.jsx)(n.xv,{weight:_,size:"200",children:d})},d):void 0;let b;o?b=(0,s.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:x}):h||0===h?d&&!l.includes(h)?b=(0,s.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:x}):m&&2===h||(b=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(b=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const y=g&&!o?"Ad • ":"";return(0,a.jsxs)(n.xv,{inline:!0,size:"200",lineClamp:2,children:[y,b]})}},618671:(e,t,o)=>{o.d(t,{f:()=>a,w:()=>l});var n=o(667294),i=o(583592),s=o(785893);const{Provider:r,useHook:a}=(0,i.Z)("Session");function l({children:e}){const[t,o]=(0,n.useState)(void 0),i=(0,n.useCallback)((()=>o(void 0)),[]),a=(0,n.useMemo)((()=>({unauthFollowUserId:t,setUnauthFollowUserId:o,removeUnauthFollowUserId:i})),[t,i]);return(0,s.jsx)(r,{value:a,children:e})}},486507:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(667294),i=o(883119),s=o(251163),r=o(785893);const a=function({badgeSize:e,badgeSpacing:t,fullName:o,identityIsVerified:a,isVerifiedMerchant:l,truncate:c=!1}){const d=o.split(" "),u=d.slice(0,d.length-1).join(" "),h=" ".concat(d[d.length-1]);return c?(0,r.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(i.xv,{lineClamp:1,weight:"bold",children:o}),(0,r.jsx)(i.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,r.jsx)(s.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h," ",(0,r.jsx)(i.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,r.jsx)(s.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]})]})}},994405:(e,t,o)=>{o.d(t,{J:()=>r,U:()=>s});var n=o(282802),i=o(549201);const s=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",r=()=>{const e=(0,i.HG)(),t=(()=>{const{isAuthenticated:e,isBot:t}=(0,n.B)();return t?"bot":e?"auth":"unauth"})();return s({isDesktop:e,viewerType:t})}},118605:(e,t,o)=>{o.d(t,{Z:()=>r});const n={row:0,section:0},i={row:-1,section:-1},s=()=>{};class r{constructor(e){this.index={...n},this.sections=e,this.updateCallback=s,this.selectItem=s}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,o=this.sections[t]||[];return this.sections.length===t+1&&o.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===i.row&&t===i.section?this.index={...n}:this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===i.row&&t===i.section)this.index={...n};else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index={...i},this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},295116:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(667294),i=o(883119),s=(o(118605),o(134818)),r=o(785893);function a(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class l extends n.Component{constructor(e){super(e),a(this,"setSelectedItemRef",(e=>{this.selectedItemRef=e})),a(this,"handleIndexUpdate",(e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})})),a(this,"handleSelectItem",(e=>()=>{const{disabled:t,onSelectItem:o}=this.props;t||o(e)})),a(this,"handleMouseEnter",(e=>()=>{const{disabled:t,indexManager:o}=this.props;t||o.updateIndex(e)})),a(this,"handleMouseLeave",(()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()})),a(this,"renderItems",((e,t)=>{const{renderItem:o}=this.props,{selectedIndex:n}=this.state,{row:s,section:a}=n||{},{customProps:l={},items:c,renderItem:d}=e,{isDisabled:u}=l,h=t===a,_=d||o;return _&&c.map(((e,o)=>{var n;const a=null!==(n=null==u?void 0:u(e))&&void 0!==n&&n,c={section:t,row:o},d=h&&o===s;return(0,r.jsx)(i.xu,{"data-test-id":"board-selection",ref:!a&&d?this.setSelectedItemRef:null,children:a?_({item:e,hovered:d,sectionProps:l}):(0,r.jsx)(i.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(c),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:_({item:e,hovered:d,sectionProps:l})})},o)}))})),a(this,"renderSections",(()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map(((t,o)=>(0,r.jsxs)(i.xu,{children:[e&&e(t,o),this.renderItems(t,o)]},o)))}));const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const o=e.getBoundingClientRect(),n=o.top,i=o.bottom,s=t.getBoundingClientRect(),r=s.top;i>=s.bottom?e.scrollIntoView(!1):n<=r&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:o}=this.props;return(0,r.jsx)(s.Z,{fetchMore:o,children:({setRef:o,onScroll:n})=>(0,r.jsx)(i.xu,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:n,overflow:"auto",ref:e=>{this.containerRef=e,o(e)},children:this.renderSections()})})}}},194655:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(785893);const s={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function r(){return(0,i.jsx)(n.xu,{alignItems:"center",color:"primary",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,i.jsx)(n.xu,{dangerouslySetInlineStyle:s,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function a({disabled:e,name:t,onClick:o,size:s,submitting:a,text:l}){return(0,i.jsxs)(n.xu,{display:"flex",position:"relative","data-test-id":"submit-button",children:[a&&(0,i.jsx)(r,{}),(0,i.jsx)(n.zx,{color:"red",disabled:e||a,name:t,onClick:o,size:s,type:"submit",text:l})]})}},251163:(e,t,o)=>{o.d(t,{O:()=>c,Z:()=>d});var n=o(667294),i=o(883119),s=o(536042),r=o(837792),a=o(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,s.ZP)();return(0,a.jsx)(i.u,{link:(0,a.jsx)(i.rU,{href:r.vB,target:"blank",children:(0,a.jsx)(i.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:o,showText:r,size:d}){const u=(0,s.ZP)(),h=(0,a.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(i.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),r&&(0,a.jsx)(i.xu,{marginStart:2,children:(0,a.jsx)(i.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(n.Fragment,{children:[o&&!t&&(0,a.jsx)(c,{children:h}),o&&t&&h,e&&!o&&(0,a.jsx)(i.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},509342:(e,t,o)=>{o.d(t,{AA:()=>s,E9:()=>g,EU:()=>x,IO:()=>f,Jd:()=>_,KH:()=>d,QR:()=>c,Uw:()=>i,ZR:()=>b,dy:()=>l,eA:()=>h,fo:()=>p,k7:()=>r,rT:()=>m,tz:()=>u,u9:()=>y,zR:()=>a,zu:()=>n});const n="OPEN_UNAUTH",i="openUnauthType",s="_isAfterLogin",r="_lastVisitedPages",a="_lastVisitedPagesBeforeLogin",l="_lastVisitedBoardPages",c="_lastVisitedPagesBeforeNavPage",d="_lastVisitedSessionPages",u="_unauthVisitedPages",h=20,_="_unauthInviteCode",p="_unauthReferrerString",g="unauthTopicsFollowed",m=["US","CA","NZ","AU"],f=new Set(["GB","IE"]),x=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),b=new Set(["BR","MX","AR","CL","CO","PE"]),y="ad_img"},431539:(e,t,o)=>{o.d(t,{I:()=>n,y:()=>i});const n="uploaded",i="pinbuilder"},393599:(e,t,o)=>{o.d(t,{H:()=>s,o:()=>i});var n=o(583592);const{Provider:i,useHook:s}=(0,n.Z)("LimitedLogin")},198060:(e,t,o)=>{o.d(t,{N4:()=>s,Wh:()=>n,hr:()=>i});const n=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),i=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},445131:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(667294),i=o(883119),s=o(536042),r=o(630089),a=o(785893);function l(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const c=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],d=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),u=e=>e*(Math.PI/180);class h extends n.PureComponent{constructor(...e){super(...e),l(this,"animationTimer",null),l(this,"canvasRemovalTimer",null),l(this,"containerRef",(0,n.createRef)()),l(this,"buildCanvas",(()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),o=2.5*e,n=document.createElement("canvas");return n.style.position="absolute",n.style.left=0-(o-t)/2+"px",n.style.top=0-(o-e)/2+"px",n.style.pointerEvents="none",n.style.width=`${o}px`,n.style.height=`${o}px`,n.style.overflow="visible",n.width=o,n.height=o,n})),l(this,"explode",(()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const o=e.getContext("2d");t.prepend(e);const n=Array.from(Array(120)).map((()=>({x:e.width/2,y:e.height/2,radius:Math.round(d(10,30)),color:c[Math.floor(Math.random()*c.length)],degree:Number(d(0,360).toFixed(1)),speed:Math.round(d(0,25)),friction:.9,opacity:Number(d(0,.5).toFixed(1)),yVel:0,gravity:.04}))),i=(e,t,o,n)=>{window.requestAnimationFrame((()=>i(e,t,o,n))),t.clearRect(0,0,o,n),e.forEach((e=>{e.x+=e.speed*Math.cos(u(e.degree)),e.y+=e.speed*Math.sin(u(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())}))};i(n,o,e.width,e.height),this.canvasRemovalTimer=setTimeout((()=>{t.removeChild(e)}),(this.props.delay||0)+800)}))}componentDidUpdate(e){const{delay:t,startAnimation:o}=this.props,{startAnimation:n}=e;o&&n!==o&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,a.jsx)(i.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}l(h,"defaultProps",{delay:0});const _=h;function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const g=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),m=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class f extends n.PureComponent{constructor(...e){super(...e),p(this,"state",{isInitialized:!1}),p(this,"containerRef",(0,n.createRef)()),p(this,"pinDestinationRef",(0,n.createRef)())}componentDidMount(){window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){const{isInitialized:e}=this.state,{onDismiss:t}=this.props;e&&t&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(t,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:o,selectedBoardName:s}=this.props,{description:l="",images:c}=t,{height:d=0,width:u=0,url:h=""}=(null==c?void 0:c["236x"])||{},{isInitialized:p}=this.state,{mask:f,imageContainer:x}=((e,t,o,n)=>{var i,s,r;let a,l,c={};const d=null===(i=o.current)||void 0===i?void 0:i.getBoundingClientRect(),u=null===(s=t.current)||void 0===s?void 0:s.getBoundingClientRect(),h=null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect();if(u&&d&&h){c={left:d.left-u.left,top:d.top-u.top};const e={x:h.left-d.left,y:h.top-d.top},t={x:(h.width-d.width)/2,y:(h.height-d.height)/2};a=`translate(${e.x}px, ${e.y}px)`,l=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:c.left,top:c.top,width:e?null==h?void 0:h.width:null==d?void 0:d.width,height:e?null==h?void 0:h.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?a:"none",transform:e?a:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(p,this.containerRef,o,this.pinDestinationRef);return(0,a.jsx)(n.Fragment,{children:(0,a.jsxs)(i.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[(0,a.jsx)(i.xu,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:f},children:(0,a.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:x},children:(0,a.jsx)(i.Ee,{alt:null!=l?l:"",src:h||"",naturalHeight:d||1,naturalWidth:u||1})})}),(0,a.jsx)(i.xu,{color:"default",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(b=p,{pointerEvents:"none",opacity:b?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:(0,a.jsxs)(i.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:g(p)},children:[(0,a.jsx)(_,{delay:1250,startAnimation:p,children:(0,a.jsx)(i.zd,{rounding:2,width:270,height:180,children:(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:[(0,a.jsx)(i.xu,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),(0,a.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:80,children:[(0,a.jsx)(i.xu,{color:"secondary",flex:"grow",marginBottom:1}),(0,a.jsx)(i.xu,{color:"secondary",flex:"grow"})]})]})})}),(0,a.jsx)(i.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:m(p)},children:(0,a.jsx)(i.X6,{align:"center",children:e?(0,r.nk)(this.props.i18n._('You saved your first Pin to {{ selectedBoardName }}!', 'First board create confirmation message', 'First board create confirmation message'),{selectedBoardName:null!=s?s:""}):(0,r.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:null!=s?s:""})})})]})})]})});var b}}function x(e){const t=(0,s.ZP)();return(0,a.jsx)(f,{...e,i18n:t})}p(f,"defaultProps",{firstRepin:!1})},285982:(e,t,o)=>{o.d(t,{Z:()=>I});var n=o(667294),i=o(883119),s=o(536042),r=o(376030),a=o(785893);const l=37.8,c=277.1569,d=()=>(0,a.jsxs)("svg",{width:440,height:316,style:{opacity:1,overflow:"visible",transform:"scale(.95)"},viewBox:"0 0 440 316",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsxs)("defs",{children:[(0,a.jsx)("path",{d:"M15.9508 11.963c-2.2026 0-3.9877 1.7852-3.9877 3.9878 0 2.2025 1.7851 3.9877 3.9877 3.9877 2.2025 0 3.9877-1.7852 3.9877-3.9877 0-2.2026-1.7852-3.9877-3.9877-3.9877m-11.9631 0c2.2025 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7852 3.9877-3.9877 3.9877C1.7852 19.9385 0 18.1533 0 15.9508c0-2.2026 1.7852-3.9877 3.9877-3.9877zm23.9261 0c2.2026 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7851 3.9877-3.9877 3.9877-2.2025 0-3.9876-1.7852-3.9876-3.9877 0-2.2026 1.7851-3.9877 3.9876-3.9877z",id:"a"}),(0,a.jsx)("path",{d:"M8.4456.6691l1.3182 4.3182h4.3945c.8974 0 1.2824 1.153.569 1.705L11.133 9.4709l1.3475 4.4165c.2699.8827-.7398 1.5963-1.4654 1.0349l-3.466-2.6794-3.4659 2.6794c-.7266.5614-1.7363-.1522-1.4664-1.035L3.9653 9.471.37 6.6923c-.7124-.552-.3274-1.705.57-1.705h4.3935L6.6527.6691c.2727-.8921 1.5202-.8921 1.7929 0",id:"b"}),(0,a.jsx)("path",{d:"M8.0882 12.9614c-2.6756 0-4.853-2.1808-4.853-4.8606 0-2.6797 2.1774-4.8605 4.853-4.8605 2.6756 0 4.853 2.1808 4.853 4.8605 0 2.6798-2.1774 4.8606-4.853 4.8606m10.6126 2.3314l-3.444-3.4486c.5848-1.1203.9197-2.3921.9197-3.7434C16.1765 3.6268 12.5554 0 8.0882 0 3.6211 0 0 3.6267 0 8.1008s3.6211 8.1009 8.0882 8.1009c1.3492 0 2.619-.3354 3.7376-.921L15.269 18.73c.948.9494 2.4839.9494 3.4318 0 .948-.9486.948-2.4878 0-3.4372",id:"c"}),(0,a.jsx)("path",{d:"M0 39.5562c0 16.8872 10.5846 31.3054 25.4808 36.9784-.3626-3.0887-.7483-8.1815.0824-11.7548.7153-3.0722 4.6182-19.5737 4.6182-19.5737s-1.1768-2.3569-1.1768-5.8477c0-5.472 3.171-9.5594 7.1234-9.5594 3.3622 0 4.984 2.5217 4.984 5.5444 0 3.3788-2.1525 8.4288-3.2633 13.113-.9263 3.9193 1.9679 7.1167 5.8312 7.1167 6.9982 0 12.381-7.3805 12.381-18.0343 0-9.4308-6.7772-16.0202-16.452-16.0202-11.201 0-17.7772 8.4023-17.7772 17.0882 0 3.3854 1.302 7.0114 2.9305 8.9859.3197.3922.3692.7318.2736 1.1306-.3 1.246-.9659 3.9194-1.0944 4.4666-.1747.7186-.5703.8735-1.3186.524-4.9181-2.2876-7.9903-9.477-7.9903-15.2521 0-12.424 9.022-23.8293 26.0148-23.8293 13.66 0 24.2776 9.7341 24.2776 22.7415 0 13.571-8.554 24.4952-20.434 24.4952-3.992 0-7.74-2.0767-9.0255-4.526 0 0-1.9745 7.5223-2.4525 9.3617-.9295 3.5732-3.5073 8.0958-5.106 10.6637 3.6853 1.134 7.5948 1.7437 11.6493 1.7437 21.8449 0 39.5561-17.7112 39.5561-39.5561C79.1123 17.7112 61.4011 0 39.5562 0 17.7112 0 0 17.7113 0 39.5562",id:"d"})]}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M15.12 33.6034c-7.6878 0-13.92 6.2322-13.92 13.92V300.88c0 7.6878 6.2322 13.92 13.92 13.92h409.76c7.6878 0 13.92-6.2322 13.92-13.92V47.5234c0-7.6878-6.2322-13.92-13.92-13.92H15.12z",stroke:"#DEDEDE",strokeWidth:"2.4",fill:"#FFF"}),(0,a.jsxs)("g",{transform:"translate(0 32.441)",children:[(0,a.jsx)("path",{d:"M15.12 0h409.76C433.2305 0 440 6.7695 440 15.12v48.6067H0V15.12C0 6.7695 6.7695 0 15.12 0z",fill:"#DEDEDE"}),(0,a.jsx)("rect",{fill:"#FFF",x:"15.5858",y:"12.0152",width:"218.9216",height:"38.8841",rx:"19.442"}),(0,a.jsx)("use",{fill:"#FFF",xlinkHref:"#a",transform:"translate(384.8501 15.6198)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#b",transform:"translate(206.2125 24.0304)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#c",transform:"translate(26.376 21.6274)"})]}),(0,a.jsxs)("g",{fill:"#DEDEDE",children:[(0,a.jsx)("rect",{id:"content-morph",x:31,y:139,width:"230.7843",height:"126.3732"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"139.3346",width:"126.1765",height:"14.0415"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"164.1772",width:"85.1961",height:"14.0415"})]}),(0,a.jsx)("ellipse",{fill:"#FFF",fillOpacity:"0.49",cx:38,cy:38,rx:38,ry:37.8,id:"pinterest-logo-pop-bg"}),(0,a.jsxs)("g",{id:"pinterest-logo",transform:"translate(277.1569) scale(1)",children:[(0,a.jsx)("ellipse",{fill:"#FFF",cx:"37.8",cy:"37.8479",rx:l,ry:l}),(0,a.jsxs)("g",{transform:"translate(0 .0493)",children:[(0,a.jsx)("mask",{id:"e",fill:"#fff",children:(0,a.jsx)("use",{xlinkHref:"#d"})}),(0,a.jsx)("g",{mask:"url(#e)",fill:"#E60023",children:(0,a.jsx)("rect",{width:"80.1649",height:"80.1649"})})]})]})]})]});const u=(e,t,o)=>e-t/2*(o-1),h=30,_=u(c,75.6,1.4),p=u(0,75.6,1.4),g=u(279,76,2.1),m=u(2,75.6,2.1),f={targets:".simplePopExtensionContent",opacity:[0,1],duration:500,easing:"easeInOutQuad"},x={targets:["#content-morph",".content-bar"],opacity:[0,1]},b={targets:"#content-morph",width:h,height:h,x:220,y:203,rx:20},y={targets:".content-bar",width:0,height:0,x:215,y:218},v={targets:"#content-morph",x:301,y:24},w={targets:"#pinterest-logo",translateX:[c,_],translateY:p,scale:1.4,direction:"alternate"},P={targets:"#pinterest-logo",translateX:[_,c],translateY:0,scale:1,direction:"alternate"},S={targets:"#pinterest-logo-pop-bg",translateX:[279,g],translateY:[2,m],scale:2.1,direction:"alternate"},A={targets:"#pinterest-logo-pop-bg",translateX:[g,279],translateY:[m,2],scale:1};class C extends n.PureComponent{componentDidMount(){const{isLooping:e}=this.props;window.requestAnimationFrame((()=>{const t=(e=>{const t=500+(e?0:750),o=t+300,n=o,i=o+280,s=n+210,a=r.Z.timeline({easing:"easeInOutQuad",loop:e,direction:"normal",autoplay:!1});return a.add({...x,duration:500}),e||a.add({duration:750}),a.add({...b,duration:300},t).add({...y,duration:300},t).add({...v,duration:300},o).add({...w,duration:280},o).add({...S,duration:210},n).add({...P,duration:190,easing:"cubicBezier(0, 0, 0.23, 0.8)"},i).add({...A,duration:300},s).add({duration:1400}),a})(e);(0,r.Z)(f).finished.then((()=>t.play()))}))}render(){return(0,a.jsx)(i.xu,{display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",marginTop:8,children:(0,a.jsx)(d,{})})}}var E,T,j;j={isLooping:!1},(T="defaultProps")in(E=C)?Object.defineProperty(E,T,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[T]=j;const k=C,I=({header:e,installClick:t,isExtensionInstalled:o=!1,isFromPinBuilder:r,skipClick:l,subheader:c})=>{const d=(0,s.ZP)(),u=d._('Get the Pinterest browser button', 'extensionUpsell.modal.defaultHeader', 'Heading for downloading Pinterest chrome extension app'),h=d._('Save creative ideas from around the web', 'extensionUpsell.modal.defaultSubheader', 'Subheader text for downloading Pinterest chrome extension app'),_=d._('With the Pinterest Save Button you can save your favorite ideas without ever leaving the page you\'re on.', 'extensionUpsell.modal.defaultHeader', 'Heading for downloading Pinterest chrome extension app'),p=d._('Save your favorite ideas with just one click', 'extensionUpsell.modal.defaultSubheader', 'Subheader text for downloading Pinterest chrome extension app');return r?(0,a.jsxs)(i.xu,{children:[(0,a.jsx)(i.Ee,{src:"https://i.pinimg.com/originals/d4/d9/89/d4d9897b5d404678fa38c9cad904fc85.png",alt:d._('Pinterest Browser Extension', 'extensionUpsell.graphicAltText', 'Alt text for Browser Extension upsell graphic from PinBuilder'),naturalHeight:258,naturalWidth:540,children:(0,a.jsx)(i.xu,{display:"block",height:40,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!0,top:!0,width:40,children:(0,a.jsx)(i.hU,{accessibilityLabel:d._('Close', 'extensionUpsell.cancelLabel', 'Accesibility label to close modal for Browser Extension upsell'),icon:"cancel",iconColor:"darkGray",onClick:l,size:"md"})})}),(0,a.jsxs)(i.xu,{display:"flex",direction:"column",margin:"auto",width:360,children:[(0,a.jsx)(i.xu,{marginTop:8,children:(0,a.jsx)(i.X6,{size:"500",align:"center",children:e||p})}),(0,a.jsx)(i.xu,{marginTop:4,children:(0,a.jsx)(i.xv,{align:"center",children:c||_})}),(0,a.jsx)(i.xu,{display:"flex",direction:"row",marginTop:8,marginBottom:8,children:o?(0,a.jsx)(i.zx,{accessibilityLabel:d._('Got it', 'extensionUpsell.button.gotItLabel', 'Accesibility label to dismiss modal for users with extension installed'),color:"red",onClick:l,text:d._('Got it', 'extensionUpsell.button.gotIt', 'Got it message to dismiss modal for users with extension installed'),size:"lg"}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginStart:12,children:(0,a.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:d._('Maybe Later', 'extensionUpsell.button.maybeLaterLabel', 'Accesibility label for dismissing the install for Pinterest browser extension'),onClick:l,text:d._('Maybe Later', 'extensionUpsell.button.maybeLaterLabel', 'Dismiss button text for install browser extension upsell'),size:"lg"})}),(0,a.jsx)(i.xu,{display:"inlineBlock",marginStart:2,children:(0,a.jsx)(i.zx,{accessibilityLabel:d._('Get the Pinterest browser extension', 'extensionUpsell.button.getItNowLabel', 'Accesibility label for the Pinterest browser extension'),color:"red",onClick:t,text:d._('Get it now', 'extensionUpsell.button.getItNow', 'Get the Pinterest browser extension'),size:"lg"})})]})})]})]}):(0,a.jsxs)(i.xu,{padding:8,children:[(0,a.jsx)(i.X6,{align:"center",size:"500",children:e||h}),(0,a.jsx)(i.xu,{marginTop:4,children:(0,a.jsx)(i.xv,{align:"center",children:c||u})}),(0,a.jsx)(i.xu,{display:"flex",flex:"grow",marginTop:8,paddingY:8,children:(0,a.jsx)(k,{isLooping:!0})}),(0,a.jsx)(i.kC,{alignItems:"stretch",justifyContent:"end",children:o?(0,a.jsx)(i.zx,{accessibilityLabel:d._('Got it', 'extensionUpsell.button.gotItLabel', 'Accesibility label to dismiss modal for users with extension installed'),color:"red",onClick:l,text:d._('Got it', 'extensionUpsell.button.gotIt', 'Got it message to dismiss modal for users with extension installed'),size:"lg"}):(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(i.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginEnd:2,children:(0,a.jsx)(i.zx,{fullWidth:!0,accessibilityLabel:d._('Cancel', 'extensionUpsell.button.cancelLabel', 'Accesibility label for cancel install Pinterest browser extension'),onClick:l,text:d._('Cancel', 'extensionUpsell.button.cancel', 'Cancel button text for install browser extension upsell'),size:"lg"})}),(0,a.jsx)(i.zx,{accessibilityLabel:d._('Get the Pinterest browser extension', 'extensionUpsell.button.getItNowLabel', 'Accesibility label for the Pinterest browser extension'),color:"red",onClick:t,text:d._('Get it now', 'extensionUpsell.button.getItNow', 'Get the Pinterest browser extension'),size:"lg"})]})})]})}},508237:(e,t,o)=>{o.d(t,{Az:()=>m,DI:()=>we,Gl:()=>Ae,Hl:()=>Oe,Kb:()=>ze,NA:()=>n,NG:()=>c,OC:()=>ke,Pq:()=>Te,QM:()=>p,Sk:()=>Se,UF:()=>x,Uo:()=>je,WF:()=>a,Xm:()=>d,Zf:()=>s,_D:()=>Le,_N:()=>_,ac:()=>r,e_:()=>h,gf:()=>f,hf:()=>Ce,i_:()=>l,jY:()=>ve,ni:()=>Pe,qg:()=>u,rX:()=>i,vX:()=>Ee,wO:()=>Re,yG:()=>g,yq:()=>Ie});const n="10",i=1,s=365,r=64,a=8,l=9,c=11,d=15,u=16,h=17,_=18,p=19,g=20,m=1e6,f=m,x="US",b="USD",y="$",v="AT",w="EUR",P="€",S="AU",A="AUD",C="$",E="BE",T="EUR",j="€",k="CA",I="CAD",O="$",R="CH",L="CHF",z="CHF",N="DE",M="EUR",D="€",B="DK",Z="DKK",U="kr",F="ES",G="EUR",V="€",H="FI",W="EUR",$="€",Y="FR",q="EUR",K="€",X="GB",J="GBP",Q="£",ee="IE",te="EUR",oe="€",ne="IT",ie="EUR",se="€",re="NL",ae="EUR",le="€",ce="NO",de="NOK",ue="kr",he="NZ",_e="NZD",pe="$",ge="PT",me="EUR",fe="€",xe="SE",be="SEK",ye="kr";function ve(e){let t=b,o=y;switch(e){case v:t=w,o=P;break;case S:t=A,o=C;break;case E:t=T,o=j;break;case k:t=I,o=O;break;case R:t=L,o=z;break;case N:t=M,o=D;break;case B:t=Z,o=U;break;case F:t=G,o=V;break;case H:t=W,o=$;break;case Y:t=q,o=K;break;case X:t=J,o=Q;break;case ee:t=te,o=oe;break;case ne:t=ie,o=se;break;case re:t=ae,o=le;break;case ce:t=de,o=ue;break;case he:t=_e,o=pe;break;case ge:t=me,o=fe;break;case xe:t=be,o=ye}return[t,o]}const we={AU:{budget:1,duration:"10"},CA:{budget:1,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:1,duration:"10"},GB:{budget:1,duration:"10"},IE:{budget:1,duration:"10"},NZ:{budget:1,duration:"10"},US:{budget:3,duration:"10"},AT:{budget:1,duration:"10"},DE:{budget:1,duration:"10"},IT:{budget:1,duration:"10"},ES:{budget:1,duration:"10"},NL:{budget:1,duration:"10"},PT:{budget:1,duration:"10"},BE:{budget:1,duration:"10"},CH:{budget:1,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:1,duration:"10"}},Pe={AU:{budget:9,duration:"10"},CA:{budget:8,duration:"10"},CZ:{budget:80,duration:"10"},FR:{budget:8,duration:"10"},GB:{budget:5,duration:"10"},IE:{budget:8,duration:"10"},NZ:{budget:9,duration:"10"},US:{budget:8,duration:"10"},AT:{budget:8,duration:"10"},DE:{budget:8,duration:"10"},IT:{budget:8,duration:"10"},ES:{budget:8,duration:"10"},NL:{budget:8,duration:"10"},PT:{budget:8,duration:"10"},BE:{budget:8,duration:"10"},CH:{budget:8,duration:"10"},SE:{budget:10,duration:"30"},NO:{budget:10,duration:"30"},DK:{budget:10,duration:"30"},FI:{budget:8,duration:"10"}},Se={AT:1,AU:1,BE:1,CA:1,CH:1,CZ:11,DE:1,ES:1,DK:1,FI:1,FR:1,GB:1,IE:1,IT:1,NO:1,NZ:1,NL:1,PT:1,SE:1,US:1},Ae={PIN_SELECTION_MODAL:"PIN_SELECTION_MODAL",BUSINESS_FORM:"QUICK_PROMOTE_BUSINESS_FORM",BILLING_FORM:"QUICK_PROMOTE_BILLING_FORM",SUCCESS_MODAL:"SUCCESS_MODAL",ERROR_MODAL:"ERROR_MODAL",TAG_MODAL:"TAG_MODAL",GDPR_MODAL:"GDPR_MODAL"},Ce="QUICK_PROMOTE_PAGE",Ee=[Ae.GDPR_MODAL,Ae.PIN_SELECTION_MODAL,Ce,Ae.BUSINESS_FORM,Ae.BILLING_FORM,Ae.SUCCESS_MODAL,Ae.ERROR_MODAL],Te={NARROW:"NARROW",MEDIUM:"MEDIUM",WIDE:"WIDE"},je=e=>e>=1&&e<=2,ke="qp-fac-education-id",Ie="qp-fac-modal-education-id",Oe={CONSIDERATION:"CONSIDERATION",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES"},Re={PINS:0,PRODUCT_GROUPS:1,BOARDS:2,SELECTED:3,SEARCH_RESULTS:4},Le={MOST_RECENT:"RECENT",PROMOTED_PINS:"PROMOTED"},ze=300},107374:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(3060);const i={0:n.C0,3:n.vI,4:n.YD};function s({currentSiteType:e,destinationSiteType:t,inputPath:o}){const n=Object.keys(i).includes(String(e))&&Object.keys(i).includes(String(t)),s="/"===o[0]?o:`/${o}`;return n&&t!==e?`${i[t]}${s}`:s}},789144:(e,t,o)=>{o.d(t,{Z:()=>n});const n=(e,t)=>`${e}:${t||""}`},533451:(e,t,o)=>{function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function i(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function s(e,t,o,n,i){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:o,url:n,localPinId:i}}}function r(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function a(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:t,undoAction:o,undoActionOptions:n,undoText:i}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:o,undoActionOptions:n,undoText:i}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function h(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function _(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function p(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}o.d(t,{Gb:()=>r,I1:()=>c,Ib:()=>u,NA:()=>l,Ur:()=>s,Vw:()=>a,b9:()=>_,i0:()=>h,mO:()=>i,q1:()=>d,yR:()=>n,yj:()=>p})},427778:(e,t,o)=>{o.d(t,{KF:()=>d,ZN:()=>a,fv:()=>c,kE:()=>h,yA:()=>l});var n=o(690108),i=o(970588),s=o(446191);function r(e,t){return n.Z.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function a(e,t=null){return o=>{r(e,t).callCreate().catch((()=>o((0,s.P_)(e,!1)))),o((0,s.P_)(e,!0))}}function l(e,t=null){return async o=>{o((0,s.P_)(e,!0)),await r(e,t).callCreate().catch((t=>{throw o((0,s.P_)(e,!1)),t}))}}function c(e,t=null){return o=>{r(e,t).callDelete().catch((()=>o((0,s.P_)(e,!0)))),o((0,s.P_)(e,!1))}}function d(e,t=null){return async o=>{o((0,s.P_)(e,!1)),await r(e,t).callDelete().catch((t=>{throw o((0,s.P_)(e,!0)),t}))}}const u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),h=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch((()=>t(u(e,!1)))),t(u(e,!0)))}},422496:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(702664),i=o(883119),s=o(536042),r=o(630089),a=o(471819),l=o(824191),c=o(785893);function d({boardId:e,onBoardSelected:t,noArrowIcon:o,showSingleBoardRep:d}){var u;const h=(0,s.ZP)(),_=(0,n.useSelector)((({boards:e})=>e))[e],p=_.section_count,g=!!p&&p>0,m=(0,a.Z)(),f=null!==(u=_.name)&&void 0!==u?u:"this board";return(0,c.jsx)(i.iP,{rounding:2,onTap:m({fn:()=>t(g)}),accessibilityLabel:(0,r.Wc)(`${h._('Select {{ boardName }}', 'board.picker.row.select.board', 'Accessibility label for select board button')}`,{boardName:f}),tapStyle:"compress",children:(0,c.jsx)(l.Z,{boardId:e,noArrowIcon:o,showSingleBoardRep:d})})}},824191:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(702664),s=o(883119),r=o(536042),a=o(630089),l=o(777849),c=o(910717),d=o(586058),u=o(785893);function h({boardId:e,navigateToBoard:t,noArrowIcon:o,showCollaborators:h,showSingleBoardRep:_,shouldShowPinAndSectionCount:p}){const g=(0,r.ZP)(),m=(0,i.useSelector)((({boards:e})=>e))[e],f=(m.collaborating_users||[]).map((e=>{var t,o;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(o=e.image_medium_url)&&void 0!==o?o:""}}));let x="";const b=f.slice(0,3).map((e=>e.name));switch(f.length){case 3:x=(0,a.Wc)(`${g._('{{ first }}, {{ second }}, and {{ last }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars', 'List of three usernames')}`,{first:`${b[0]}`,second:`${b[1]}`,last:`${b[2]}`});break;case 2:x=(0,a.Wc)(`${g._('{{ first }} and {{ second }}', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.usernames.TwoAvatars', 'List of two usernames.')}`,{first:`${b[0]}`,second:`${b[1]}`});break;default:x=b.join(", ")}const y=f.length>3?(0,a.Wc)(g.ngettext('Collaborators: {{ userNames }} and {{ leftCount }} more.', 'Collaborators: {{ userNames }} and {{ leftCount }} more.', f.length - 3, 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.aboveThree', 'Accessibility label that lists the names of collaborators and a final count of non-displayed avatars'),{userNames:x,leftCount:""+(f.length-3)}):(0,a.Wc)(`${g._('Collaborators: {{ userNames }}.', 'CollaboratorsFacePile.AvatarGroup.accessibilityLabel.notAboveThree', 'Accessibility label that lists the names of collaborators')}`,{userNames:x}),v=new s.Ry(0),w=m.pin_count,P=m.section_count,S=(0,u.jsx)(n.Fragment,{children:(0,u.jsxs)(s.xu,{"data-test-id":"board-picker-row",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:_?4:0,children:[(0,u.jsx)(s.xu,{paddingY:_?0:2,children:_?(0,u.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,u.jsx)(s.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(s.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:m.image_cover_url||""})})}):(0,u.jsx)(s.xu,{height:60,overflow:"hidden",rounding:4,width:60,children:(0,u.jsx)(d.Z,{boardId:m.id,type:"thumbnail",fullSize:!0})})}),(0,u.jsxs)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,u.jsxs)(s.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:_?2:4,width:"100%",overflow:_?"hidden":"auto",children:[(0,u.jsx)(s.xv,{size:"400",weight:"bold",lineClamp:_?1:void 0,children:m.name}),p&&(0,u.jsxs)(s.kC,{children:[(0,u.jsx)(s.xv,{inline:!0,children:!!w&&(0,a.nk)(g.ngettext('{{ PinCount }} Pin', '{{ PinCount }} Pins', null != w ? w : 0, 'BoardRow.pinCount', 'Number of Pins on board or section, pinCount: number of Pins'),{PinCount:w})}),!!w&&!!P&&(0,u.jsx)(c.Z,{}),(0,u.jsx)(s.xv,{inline:!0,children:!!P&&(0,a.nk)(g.ngettext('{{ sectionCount }} section', '{{ sectionCount }} sections', null != P ? P : 0, 'BoardRow.sectionCount', 'Number of sections on board, sectionCount: number of sections'),{sectionCount:P})})]})]}),(0,u.jsxs)(s.kC,{alignItems:_?"center":"start",justifyContent:"start",children:["secret"===m.privacy&&(0,u.jsx)(s.xu,{marginStart:_?3:1,children:(0,u.jsx)(s.JO,{color:_?"default":"subtle",icon:"lock",accessibilityLabel:g._('secret board icon', ' - ', ' -- ')})}),m.is_collaborative&&(_||h)&&f.length>0?(0,u.jsx)(s.xu,{zIndex:v,children:(0,u.jsx)(s.HE,{accessibilityLabel:l.U+y,collaborators:f,size:1===f.length?"sm":"xs"})}):m.is_collaborative&&(0,u.jsx)(s.xu,{marginStart:1,children:(0,u.jsx)(s.JO,{icon:"people",accessibilityLabel:g._('group board icon', ' - ', ' -- ')})}),!o&&!!m.section_count&&(0,u.jsx)(s.xu,{"data-test-id":"boardSectionPicker",marginStart:_?3:0,children:(0,u.jsx)(s.JO,{color:_?"default":"subtle",icon:"arrow-forward",accessibilityLabel:g._('board section board picker icon', ' - ', ' -- ')})})]})]})]})});return t&&m.url?(0,u.jsx)(s.iP,{rounding:2,href:m.url,role:"link",tapStyle:"compress",children:S}):S}},569224:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(702664),i=o(616550),s=o(883119),r=o(536042),a=o(85044),l=o(107877),c=o(422496),d=o(460914),u=o(785893);function h({onSectionSelected:e,sectionId:t,showSectionRep:o}){var i,r;const a=(0,n.useSelector)((({boardsections:e})=>e[t])),l=a&&(null===(i=a.preview_pins)||void 0===i?void 0:i[0])&&a.preview_pins[0].image_medium_url;return(0,u.jsx)(d.Z,{rounding:2,onTouch:e,pressState:"none",children:(0,u.jsxs)(s.xu,{"data-test-id":"sectionPickerRow",display:"flex",alignItems:"center",rounding:2,column:12,marginBottom:o?4:0,children:[o&&(0,u.jsx)(s.xu,{height:48,width:51,children:(0,u.jsx)(s.zd,{height:"100%",rounding:2,width:"100%",children:(0,u.jsx)(s.Ee,{alt:null!==(r=a.title)&&void 0!==r?r:"",color:"lightGray",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!=l?l:""})})}),!o&&(0,u.jsx)(s.xu,{column:1,paddingY:2}),(0,u.jsx)(s.xu,{column:11,display:"flex",flex:"grow",justifyContent:"between",paddingY:2,children:o?(0,u.jsx)(s.xu,{overflow:"hidden",width:"100%",marginStart:2,children:(0,u.jsx)(s.xv,{size:"400",lineClamp:1,weight:"bold",children:a.title})}):(0,u.jsx)(s.xu,{marginStart:2,children:(0,u.jsx)(s.xv,{weight:"bold",children:a.title})})})]})})}const _=(e,t)=>{const{isFetching:o}=(0,a.Z)({name:"BoardSectionsRepinResource",options:{board_id:e}}),i=(0,n.useSelector)((({feeds:t})=>(t[`board-sections:${e}`]||[]).reduce(((e,t)=>{if("boardsection"===t.type){const o={type:"boardsection",id:t.id};e.push(o)}return e}),[]))),s=(0,n.useSelector)((o=>i.map((e=>e.id)).reduce(((n,i)=>{const s=o.boardsections[null!=i?i:""];return i!==t&&s&&n.push({board:{id:e},id:s.id,title:s.title,type:"boardsection",slug:s.slug}),n}),[])));return{isFetching:o,boardSections:i,filteredBoardSections:s}};function p({boardId:e,originalBoardId:t,sectionId:o,repin:n,hideBoardPickerRow:a,showSectionRep:d}){const p=(0,r.ZP)(),{isFetching:g,boardSections:m,filteredBoardSections:f}=_(e,o),x=(0,i.useHistory)(),b=(0,l.gC)()(t||"");return(0,u.jsxs)(s.xu,{children:[m.length>0&&(0,u.jsxs)(s.xu,{paddingY:d?0:3,children:[d&&(0,u.jsx)(s.xu,{paddingY:2,children:(0,u.jsx)(s.xu,{marginBottom:2,children:(0,u.jsx)(s.xv,{children:p._('Board', 'RepinFlow.SectionPickerList.Board', 'Section picker board title')})})}),!a&&(0,u.jsx)(c.Z,{boardId:e,noArrowIcon:!0,onBoardSelected:()=>n(e,void 0,p),showSingleBoardRep:d},e),d&&(0,u.jsx)(s.xu,{paddingY:4,children:(0,u.jsx)(s.xv,{children:p._('Section', 'RepinFlow.SectionPickerList.Section', 'Section picker all sections title')})}),f.map((o=>{var i;return(0,u.jsx)(h,{onSectionSelected:()=>{var i;(n(e,o,p),t)&&x.push(null!==(i=null==b?void 0:b.url)&&void 0!==i?i:"")},sectionId:null!==(i=o.id)&&void 0!==i?i:"",showSectionRep:d},o.id)}))]}),(0,u.jsx)(s.$j,{accessibilityLabel:p._('Loading board section for repin flow', ' - ', ' -- '),show:g})]})}},650548:(e,t,o)=>{o.d(t,{W:()=>d,Z:()=>u});var n=o(883119),i=o(40045),s=o(536042),r=o(600552),a=o(676671),l=o(412276),c=o(785893);function d(e,t=""){const o=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(o).reduce(((o,n,i)=>{if(o.length>0&&e&&e.length){const s=t.toLowerCase().indexOf(e.toLowerCase());return o.concat((0,c.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(s,s+e.length)},i),n)}return[n]}),[]):t}const u=function(e){var t,o,u,h,_,p;const g=(0,s.ZP)(),{disabled:m,item:f,isSection:x,isSelectMode:b,isWithinSectionPicker:y,saveState:v,searchQuery:w,selected:P}=e,S=x?null:f,A=x?f:null,C=A&&A.title||S&&S.name||"";let E="",T=!1,j="",k=0;S&&({image_cover_url:E,is_collaborative:T,privacy:j,section_count:k=0}=S);const I=d(w,C),O=j===i.Z.BoardPrivacy.SECRET,R=!m&&(P||!!v),L=!y&&"number"==typeof k&&k>0,z="number"==typeof k&&k>0?"boardWithSection":"boardWithoutSection",N=b?g._('Select', 'Board select button label', 'Board select button label'):g._('Save', 'Pin save button label', 'Pin save button label');return(0,c.jsxs)(n.xu,{alignItems:"center",color:R?"secondary":"default",display:"flex",height:64,marginStart:2,marginEnd:2,marginTop:1,padding:2,rounding:3,"data-test-id":z,children:[S&&(0,c.jsx)(n.xu,{height:48,width:48,color:"secondary",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:E?(0,c.jsx)(n.Ee,{src:E,alt:g._('Board cover image', 'boardPickerRow.image.altText', 'alt text for a board cover image'),fit:"cover",naturalWidth:1,naturalHeight:1}):(0,c.jsx)("span",{})}),A&&!(null===(t=A.preview_pins)||void 0===t||!t.length)&&(0,c.jsx)(a.Z,{image_url:null!==(o=A.preview_pins[0].image_square_url)&&void 0!==o?o:"",naturalHeight:null!==(u=null===(h=A.preview_pins[0].image_square_size_pixels)||void 0===h?void 0:h.height)&&void 0!==u?u:1,naturalWidth:null!==(_=null===(p=A.preview_pins[0].image_square_size_pixels)||void 0===p?void 0:p.width)&&void 0!==_?_:1}),(0,c.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,c.jsx)(n.xv,{color:m?"subtle":"default",size:"300",lineClamp:1,weight:"bold",children:I}),(L||!R)&&(0,c.jsxs)(n.kC,{alignItems:"center",justifyContent:"start",children:[O&&(0,c.jsx)(l.Z,{type:"secret"}),T&&(0,c.jsx)(r.Z,{board:S,showCollaborativeIcon:T,useLegoLayout:!0}),L&&(0,c.jsx)(l.Z,{type:"sections"})]}),!L&&R&&!v&&(0,c.jsx)(n.xu,{alignItems:"center",color:"primary","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:(0,c.jsx)(n.xv,{color:"inverse",overflow:"normal",size:"300",weight:"bold",children:N})}),!L&&R&&"loading"===v&&(0,c.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,c.jsx)(n.$j,{accessibilityLabel:g._('Saving', 'Accessibility label for saving a pin to a board', 'Accessibility label for saving a pin to a board'),show:!0})})]})]})}},414099:(e,t,o)=>{o.d(t,{Z:()=>h});var n=o(667294),i=o(883119),s=o(388011),r=o(536042),a=o(132751),l=o(819079),c=o(785893);function d(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{isHovering:!1}),d(this,"onHover",(()=>{this.setState({isHovering:!0})})),d(this,"offHover",(()=>{this.setState({isHovering:!1})}))}render(){const{name:e,selected:t,image:o,inFlyoutExp:n}=this.props;var s,r,a;return n?(0,c.jsxs)(i.xu,{alignItems:"center",color:this.state.isHovering?"secondary":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.zd,{height:40,width:40,rounding:2,children:this.state.isHovering&&o?(0,c.jsx)(i.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(s=o.height)&&void 0!==s?s:1,naturalWidth:null!==(r=o.width)&&void 0!==r?r:1,src:null!==(a=o.url)&&void 0!==a?a:""}):(0,c.jsx)(i.xu,{color:"secondary",height:40,width:40})})}),(0,c.jsx)(i.xu,{padding:2,children:(0,c.jsx)(i.X6,{size:"400",children:e})})]}):(0,c.jsxs)(i.xu,{alignItems:"center",color:t?"secondary":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,c.jsx)(i.xu,{children:(0,c.jsx)(i.JO,{color:t?"default":"subtle",icon:"add",accessibilityLabel:""})}),(0,c.jsx)(i.xu,{marginStart:3,children:(0,c.jsx)(i.xv,{color:t?"default":"subtle",weight:"bold",children:e})})]})}}const h=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:o,image:d,minHeight:h,onBoardSelected:_})=>{const{logContextEvent:p}=(0,s.v)(),g=(0,r.ZP)(),[m,f]=(0,n.useState)(-1),x=(0,a.iN)(),{data:b=[],error:y,isLoaded:v}=(0,l.Z)({name:"BoardTitleSuggestionsResource",options:{pin_id:o}}),w=(P=b,(0,n.useMemo)((()=>P&&P.length?P.map((e=>e.title)):[]),[P]));var P;(0,n.useEffect)((()=>{v&&t&&x&&(y?x.error():x.stop())}),[v]);const S=()=>{f(-1)},A=(t,o)=>{const n=m===o;return(0,c.jsx)("li",{children:(0,c.jsx)(i.iP,{onMouseEnter:()=>(e=>{f(e)})(o),onMouseLeave:S,onTap:()=>(e=>{_(w[e],!1),p({event_type:101,component:13025,element:23})})(o),children:(0,c.jsx)(u,{selected:n,name:t,inFlyoutExp:e,image:d})})},o)};return v?w&&w.length?e?(0,c.jsx)(i.xu,{children:(0,c.jsx)("ul",{children:w.map(A)})}):t?(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xu,{marginTop:5,marginStart:6,marginBottom:3,children:(0,c.jsx)(i.xv,{children:g._('Suggested board names', 'text above suggested board names list', 'text above suggested board names list')})}),(0,c.jsx)("ul",{children:w.map(A)})]}):(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.xu,{marginTop:2,paddingX:5,children:(0,c.jsx)(i.xv,{children:g._('Suggested board names', ' - ', ' -- ')})}),(0,c.jsx)("ul",{children:w.map(A)})]}):null:(0,c.jsx)(i.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:h||"",children:(0,c.jsx)(i.$j,{accessibilityLabel:g._('Loading board suggestions', 'Accesibility label for loading board suggestions', 'Accesibility label for loading board suggestions'),show:!0})})}},805215:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(536042),s=o(871203),r=o(785893);function a(e){const t=(0,i.ZP)(),{buttonLabel:o,hasHoverState:a,name:l,onClick:c}=e,{isHovering:d,hoverHandlers:u}=(0,s.Z)(),h=l||o||t._('Create board', ' - ', ' -- ');return(0,r.jsx)(n.iP,{onMouseEnter:u.onMouseOver,onMouseLeave:u.onMouseLeave,onTap:c,children:(0,r.jsxs)(n.xu,{alignItems:"center",color:a&&d?"secondary":"default",display:"flex",padding:4,height:"100%",width:"100%",children:[(0,r.jsx)(n.xu,{rounding:2,dangerouslySetInlineStyle:{__style:{padding:"14px"}},marginEnd:2,color:"secondary",children:(0,r.jsx)(n.JO,{accessibilityLabel:"",size:20,icon:"add",color:"default"})}),l?(0,r.jsx)(n.xu,{margin:1,children:(0,r.jsxs)(n.xv,{inline:!0,overflow:"normal",children:[" ",t._('Create: ', ' - ', ' -- ')," "]})}):null,(0,r.jsxs)(n.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",h," "]})]})})}},61124:(e,t,o)=>{o.d(t,{Z:()=>m});var n=o(667294),i=o(702664),s=o(883119),r=o(536042),a=o(731048),l=o(802071),c=o(329689),d=o(384722),u=o(194655),h=o(407264),_=o(785893);function p(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class g extends n.Component{constructor(e){super(e),p(this,"onCreateSection",(()=>{const{board:e,dispatch:t,completeCreateSectionAction:o,pinImport:n,viewer:i,orbacActingAs:s}=this.props,r=(0,d.lJ)(i,s);return this.setState({isSaving:!0}),t((0,h.vB)({boardId:e.id,name:this.state.inputName.trim(),pinImport:n},this.props.i18n,r)).then((e=>{this.setState({isSaving:!1}),o(e)})).catch((e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})}))})),p(this,"handleKeyDown",(({event:e})=>{const{createError:t,inputName:o}=this.state;[a.Z.ENTER,a.Z.NUMPAD_ENTER].includes(e.which)&&!t&&o.trim()&&this.onCreateSection()})),p(this,"handleChangeName",(({value:e})=>{this.setState({createError:null,inputName:e})})),p(this,"handleInputRef",(e=>{this.setState({inputRef:e})})),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:o,inputRef:n}=this.state;!n||t.inputRef&&!o||n.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:o,inputName:n,isSaving:i}=this.state,r=!!n.trim()&&!o;return(0,_.jsxs)(s.xu,{display:"flex",direction:"column",color:"default",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&(0,_.jsx)(s.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(s.X6,{size:"400",children:this.props.i18n._('Add section', 'Title in the add section modal', 'Title in the add section modal')})}),(0,_.jsxs)(s.xu,{padding:4,children:[(0,_.jsx)(s.xu,{marginBottom:2,children:(0,_.jsx)(s.__,{htmlFor:"sectionEditName",children:(0,_.jsx)(s.xv,{size:"200",color:o?"error":"subtle",children:this.props.i18n._('Name', 'Board section name', 'Board section name')})})}),(0,_.jsx)(s.xu,{children:(0,_.jsx)(s.xu,{ref:this.handleInputRef,children:(0,_.jsx)(s.nv,{errorMessage:o||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"', 'Placeholder for board section name', 'Placeholder for board section name'),size:"lg",type:"text",value:n})})})]}),(0,_.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,_.jsx)(s.xu,{padding:4,children:(0,_.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:(0,_.jsx)(u.Z,{disabled:!r||i,onClick:this.onCreateSection,submitting:i,text:this.props.i18n._('Add', 'add a new section', 'add a new section')})})})]})}}const m=function(e){const t=(0,i.useDispatch)(),o=(0,r.ZP)(),n=(0,l.Z)(),s=(0,c.Z)();return(0,_.jsx)(g,{...e,dispatch:t,i18n:o,viewer:n,orbacActingAs:s})}},449510:(e,t,o)=>{o.d(t,{Z:()=>a});var n=o(883119),i=o(178067),s=o(785893);const r="#8fa7bf";function a({url:e,description:t,color:o}){return o=o||r,(0,s.jsx)(n.xu,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:o}},children:(0,s.jsxs)(n.xu,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&(0,s.jsx)(n.xu,{marginBottom:2,children:(0,s.jsx)(n.xv,{color:"inverse",size:"100",children:(0,i.Z)(e).hostname||e})}),(0,s.jsx)(n.xu,{maxHeight:144,children:(0,s.jsx)(n.xv,{color:"inverse",overflow:"normal",weight:"bold",children:t})})]})})}},981484:(e,t,o)=>{o.d(t,{Z:()=>u});var n=o(667294),i=o(883119),s=o(388011),r=o(981872),a=o(506465),l=o(785893);function c(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class d extends n.PureComponent{constructor(...e){super(...e),c(this,"state",{}),c(this,"handleUserFollow",((e,t)=>{this.setState({isFollowing:t}),t?this.props.logContextEvent({event_type:45,object_id_str:e,view_type:3,view_parameter:73}):this.props.logContextEvent({event_type:46,object_id_str:e,view_type:3,view_parameter:73})}))}static getDerivedStateFromProps(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:e.user.followed_by_me}:Object.freeze({})}render(){const{user:e}=this.props,{id:t,full_name:o,image_medium_url:n,username:s}=e,c=s?`/${s}/`:"";return t&&o?(0,l.jsxs)(i.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:[(0,l.jsx)(i.xu,{flex:"grow",paddingX:1,children:(0,l.jsx)(r.default,{fullName:o,imageUrl:n,profileUrl:c,openNewTab:!0})}),(0,l.jsx)(i.xu,{flex:"none",paddingX:1,children:(0,l.jsx)(a.Z,{fullName:o,suppressToasts:!0,id:t,imageUrl:n||"",isOwnProfile:!1,onUserFollow:e=>this.handleUserFollow(t,e),profileUrl:c,size:"md"})})]}):null}}const u=function(e){const{logContextEvent:t}=(0,s.v)();return(0,l.jsx)(d,{...e,logContextEvent:t})}},742028:(e,t,o)=>{o.d(t,{Z:()=>p});var n=o(667294),i=o(883119),s=o(970588),r=o(13596),a=o(536042),l=o(630089),c=o(731048),d=o(502108),u=o(785893);function h(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class _ extends n.Component{constructor(...e){super(...e),h(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),h(this,"onDismiss",(()=>{})),h(this,"mounted",!1),h(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),h(this,"handleKeyDown",(e=>{e.keyCode===c.Z.UP?this.handlePrevHashtag(e):e.keyCode===c.Z.DOWN?this.handleNextHashtag(e):e.keyCode===c.Z.ESCAPE?this.handleClose(e):e.keyCode===c.Z.ENTER&&this.handleSubmit(e)})),h(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),h(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),h(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),h(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),h(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t((0,s.Z)({url:"/v3/search/autocomplete/",data:{q:e,show_pin_count:!0}}),"typeahead").then((e=>{if(!this.mounted)return;const{data:t}=e.resource_response;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:o}=this.state,{anchor:n,idealDirection:s}=this.props,a=e.filter((e=>e.query)),c=s||"down",d="flyout_"+a.length;return t&&a.length>0?(0,u.jsx)(i.J2,{anchor:n,idealDirection:c,onDismiss:this.onDismiss,size:"sm",children:(0,u.jsx)(i.xu,{width:"100%",zIndex:new i.Ry(3),children:a.length>0?a.map(((e,t)=>(0,u.jsx)(i.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,u.jsxs)(i.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===o?"secondary":"transparent",padding:1,children:[(0,u.jsx)(i.xu,{flex:"grow",children:(0,u.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:e.query})}),(0,u.jsx)(i.xu,{flex:"none",children:(0,u.jsx)(i.xv,{inline:!0,size:"100",children:(0,l.nk)(this.props.i18n.ngettext('{{ count }} pin', '{{ count }} pins', Number(e.pin_count), 'label for n pins in hashtag flyout', 'label for n pins in hashtag flyout'),{count:(0,u.jsx)(r.Z,{value:Number(e.pin_count)},"pinCount")})})})]})},e.query))):null})},d):null}}function p(e){const t=(0,a.ZP)(),o=(0,d.Z)();return(0,u.jsx)(_,{...e,makeCancelablePromise:o,i18n:t})}},607015:(e,t,o)=>{o.d(t,{Z:()=>g});var n=o(667294),i=o(883119),s=o(388011),r=o(449510),a=o(536042),l=o(630089),c=o(819079),d=o(785893);function u({pin:e}){const t=(0,a.ZP)(),{data:o}=(0,c.Z)({name:"ApiResource",options:{url:`/v3/pins/${e.id}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return o&&o.pinned_to_board&&"quick_creates"!==o.pinned_to_board.layout?(0,d.jsxs)(i.xu,{children:[(0,d.jsx)(i.xu,{color:"errorBase","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,d.jsx)(i.xv,{align:"center",color:"inverse",size:"200",weight:"bold",children:(0,l.nk)(t._('Psst! You already saved this Pin to {{ board_name }} ', 'Toast for already having repinned pin', 'Toast for already having repinned pin'),{board_name:(o.pinned_to_board||{}).name}).join(" ")})}),(0,d.jsx)(i.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,d.jsx)(i.JO,{accessibilityLabel:"",color:"error",icon:"heart",size:26})})]}):null}var h=o(742028);function _(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class p extends n.Component{constructor(...e){super(...e),_(this,"state",{flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),_(this,"updateDescription",(e=>{this.props.updateDescription&&this.props.updateDescription(e)})),_(this,"handleDescriptionBlur",(e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:o}=this.state;this.updateDescription(t),this.setState({description:t,editing:o})})),_(this,"handleDescriptionEdit",(()=>{this.setState({editing:!0})})),_(this,"handleHashtagAddition",(e=>{const{pin:t}=this.props;this.props.logContextEvent({event_type:101,component:208,element:10249,object_id_str:t.id,aux_data:{hashtags:e}});const o=this.state.flyoutCursorIndex,n=Number(o+this.state.hashtagQuery.length),i=this.state.description.slice(0,o)+e+" "+this.state.description.slice(n);this.updateDescription(i),this.setState({description:i,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})}))}render(){const{color:e,isFirstPin:t,pin:o,pinImageRef:n}=this.props,{description:s,editing:a,flyoutOpened:l,hashtagQuery:c,isHashtagFlyoutOpen:_}=this.state,{images:p,link:g}=o,m=p&&p["236x"],f=m&&m.url||o.image_base64;return(0,d.jsxs)(i.xu,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:l&&a?{transform:"translateY(-75px)"}:{}},children:[(0,d.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[o&&o.id&&(0,d.jsx)(u,{pin:o}),(0,d.jsx)(i.xu,{paddingY:t?9:0,width:240,children:(0,d.jsx)(i.xu,{ref:n,maxHeight:l&&a?220:335,rounding:4,overflow:"hidden",children:f?(0,d.jsx)(i.Ee,{alt:s,src:f,naturalHeight:(null==m?void 0:m.height)||1,naturalWidth:(null==m?void 0:m.width)||1}):!!g&&(0,d.jsx)(r.Z,{color:e||"",description:s,url:g})})})]}),this.anchor&&_?(0,d.jsx)(h.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,query:c}):null]})}}function g(e){const{logContextEvent:t}=(0,s.v)();return(0,d.jsx)(p,{...e,logContextEvent:t})}},323939:(e,t,o)=>{o.d(t,{K:()=>z});var n=o(667294),i=o(702664),s=o(616550),r=o(883119),a=o(690108),l=o(946618),c=o(388011),d=o(820997),u=o(527386),h=o(550140),_=o(310561),p=o(536042),g=o(630089),m=o(132751),f=o(575794),x=o(63262),b=o(159627),y=o(802071),v=o(435399),w=o(512980),P=o(525228),S=o(911767),A=o(533451),C=o(446191),E=(o(40045),o(729522)),T=o(785893);const j=(e,t,o)=>{var n;return o?(0,E.Z)(e._('Saved to {{sectionName}} in {{boardName}}', 'Toast for successfully saving to a section within a board', 'Toast for successfully saving to a section within a board'),{sectionName:null!==(n=o.title)&&void 0!==n?n:"",boardName:null!=t?t:""}):(0,T.jsx)(r.xv,{children:(0,g.nk)(e._('Saved to {{ boardName }}', 'Libs.PinToBoard.NewBoardToast', 'boardName:Name of the new board created to add the saved pin'),{boardName:(0,T.jsx)(r.xv,{weight:"bold",children:t})})})};var k=o(935092);function I(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const O=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi,R="236x";class L extends n.Component{constructor(...e){super(...e),I(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),I(this,"unmounted",!1),I(this,"setModalTitle",(e=>this.safeSetState({modalTitle:e}))),I(this,"updateDescription",(e=>{this.safeSetState({pinDescription:e})})),I(this,"close",(()=>{const{onClose:e,boardPickerStopwatch:t}=this.props;e&&e(),t&&t.abort("boardPickerClose"),this.props.logContextEvent({event_type:2502,component:5,element:610})})),I(this,"safeSetState",((e,t)=>{this.unmounted?t&&t():this.setState(e,t)})),I(this,"getPinResource",((e,t,o)=>{var n,i;const{color:s,location:r,pin:c,method:d,guid:u,additionalCreateFields:h,advertiser_id:_,previousHistory:p}=this.props;let g;var m,f;c.id&&(g=(0,l.Z)({boardUrl:null===(m=c.board)||void 0===m?void 0:m.url,location:r,pinId:c.id,pinnerUserName:null===(f=c.pinner)||void 0===f?void 0:f.username,previousHistory:p,storyPinDataId:c.story_pin_data_id,trackingParams:c.tracking_params,trackingParamsMap:c.tracking_params_map})||`${c.tracking_params||""}~0`);const x=c.id?"RepinResource":"PinResource",y=!c.id&&c.image_url?(0,b.Z)(c.image_url,c.link):(null===(n=c.images)||void 0===n||null===(i=n.orig)||void 0===i?void 0:i.url)||"",v={...h,board_id:t||"",color:s||"",clientTrackingParams:g,description:this.state.pinDescription,guid:u||"",link:c.link,image_base64:c.image_base64,image_url:y,is_buyable_pin:!1,is_removable:c.promoted_is_removable,media_upload_id:c.media_upload_id,method:d||"",pin_id:c.id||"",section:o,title:c.title||"",..._?{advertiser_id:_}:Object.freeze({})};if(!e){const{facebook:e,twitter:t}=this.state.sharing;v.share_facebook=e,v.share_twitter=t}return a.Z.create(x,v)})),I(this,"triggerPubSubs",(e=>{this.props.onPinCreate&&this.props.onPinCreate({boardId:e.board.id,pinId:e.id})})),I(this,"makeCancelablePromise",(e=>{let t=!1;return{promise:new Promise(((o,n)=>{e.then((e=>t?n({isCanceled:!0}):o(e))),e.catch((e=>n(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}})),I(this,"handleLogToastClick",(()=>{this.props.logContextEvent({event_type:101,component:20,view_type:52})})),I(this,"showSuggestedBoardToast",(e=>{const{toastManagerContext:t,shouldShowToast:o}=this.props;if(o&&e){const{name:o,url:n,image_thumbnail_url:i}=e;t.showOneToast((({hideToast:e})=>(0,T.jsx)(h.ZP,{duration:k.A,onHide:e,text:(0,T.jsx)(r.xv,{children:(0,g.nk)(this.props.i18n._('You might also like {{ suggestion }}', 'PinSaveRequest.Toast.Suggestion', 'Post repin suggested board. suggestion: suggested board name'),{suggestion:(0,T.jsx)(r.xv,{weight:"bold",children:o})})}),href:n,imageUrl:i,onClick:this.handleLogToastClick})))}})),I(this,"showBoardSavedToast",((e,t)=>{const{toastManagerContext:o,i18n:n}=this.props;o.showToast((({hideToast:o})=>{var i,s,r;return(0,T.jsx)(h.ZP,{duration:k.A,onHide:o,text:j(n,e.name,t),href:t?`${null!==(i=e.url)&&void 0!==i?i:""}${null!==(s=t.slug)&&void 0!==s?s:""}`:e.url,imageUrl:null!==(r=e.image_cover_url)&&void 0!==r?r:"",onClick:this.handleLogToastClick})}))})),I(this,"dismissModal",(()=>{const{resolve:e,newPin:t}=this.state;e&&e(t)})),I(this,"fetchBoardRecommendation",(e=>a.Z.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then((e=>Promise.resolve(e.resource_response.error?null:e.resource_response.data[0]))))),I(this,"handleBoardSaveSuccess",((e,t,o,n)=>{var i,s;const{action:r,saveToBoard:a,dispatch:l,hideSuccessAnimation:c,pin:d,setCompletionPromise:h,shouldShowToast:_,showRepinAnimation:p,viewerUserId:g}=this.props;l((0,u.fO)());const m=e.resource_response.data,x=this.makeCancelablePromise(new Promise((e=>{this.triggerPubSubs(m);const i=this.state.pinDescription.match(O)||[];i.length>0&&this.props.logContextEvent({event_type:2,element:10273,object_id_str:this.props.pin.id,aux_data:{hashtags:JSON.stringify(i)}});const s=c?()=>{}:()=>{_&&this.showBoardSavedToast(t,o),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n._('Board created', 'Modal title after creating a new board', 'Modal title after creating a new board'),newPin:m,resolve:e})};"repin"===r?(this.fetchBoardRecommendation(m).then((e=>{this.showSuggestedBoardToast(e)})),n?s():e(m)):n?s():e(m)})));if(n||p(d.id),h(x),a(t),l((0,S.Br)({boardId:t.id,sectionId:o&&o.id,increment:1})),g&&(l((0,C.JS)({userId:g,increment:1})),l((0,u.fO)())),o||!t.image_cover_url){const{image_url:e,images:o}=d;t.image_cover_url=e||o&&o[R]&&o[R].url||"",l((0,S.yT)(t))}o&&l((0,f.U)("BoardSectionResource",{options:{field_set_key:"board_page",section_id:o.id}})),l((0,A.Ur)(d.id,t.id,null!==(i=t.name)&&void 0!==i?i:"",null!==(s=t.url)&&void 0!==s?s:"",m.id))})),I(this,"handleSaveToBoard",((e,t,o)=>{const{boardPickerStopwatch:n,onToggleModal:i,shouldShowToast:s}=this.props;n&&n.abort("boardPickerSubmit"),s&&!o&&(this.close(),this.showBoardSavedToast(e,t));const r="secret"===(e.privacy||""),a={board:t?t.id:e.id,state:k.S.LOADING};this.safeSetState({boardSavedTo:a},(()=>{this.getPinResource(r,e.id,(t||{}).id).callCreate({showError:!1}).then((n=>{this.safeSetState({boardSavedTo:Object.assign(a,{state:k.S.SUCCESS})},(()=>this.handleBoardSaveSuccess(n,e,t,o))),i&&!o&&i(!1)})).catch((e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),d.Z.showError(e.message_detail||e.message);const t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),i&&i(!1)}))}))})),I(this,"handleNewBoardAnimationCompletion",(()=>{const{pin:e,showRepinAnimation:t}=this.props;t(e.id)}))}getModalTitle(e,t){return e?t?this.props.i18n._('Create section', 'modal title for create section pane', 'modal title for create section pane'):this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t?this.props.i18n._('Choose section', 'modal title for choose section', 'modal title for choose section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board')}componentDidUpdate(e){const{boardWithSection:t,showCreate:o,pin:n,description:i}=this.props,s={};n===e.pin&&i===e.description||(s.pinDescription=n.description||i||""),o===e.showCreate&&t===e.boardWithSection||(s.modalTitle=this.getModalTitle(o,!!t)),Object.keys(s).length>0&&this.safeSetState(s)}componentWillUnmount(){this.unmounted=!0}render(){const{close:e,dismissModal:t,handleNewBoardAnimationCompletion:o,handleSaveToBoard:n,setModalTitle:i,updateDescription:s}=this,{boardSavedTo:r,displaySuccessAnimation:a,modalTitle:l,newPin:c}=this.state,{color:d,pin:u}=this.props;return this.props.children({boardSavedTo:r,color:d,dismissModal:t,displaySuccessAnimation:a,handleAbort:e,handleNewBoardAnimationCompletion:o,handleSaveToBoard:n,modalTitle:l,newPin:c,pin:u,setModalTitle:i,updateDescription:s})}}function z(e){var t;const{saveToBoard:o}=(0,w.N)(),{logContextEvent:n}=(0,c.v)(),r=null===(t=(0,P.W)())||void 0===t?void 0:t.onPinCreate,a=(0,p.ZP)(),l=(0,m.iN)(),d=(0,s.useLocation)(),u=(0,y.Z)(),h=(0,x.F9)(),g=(0,i.useDispatch)(),{updateHeaderState:f}=(0,v.J)(),b=(0,i.useSelector)((({advertiser:e})=>u.isAuth&&e&&e.owner_user_id!==u.id?e.id:void 0)),{previous:S}=(0,_.Hv)();return(0,T.jsx)(L,{...e,advertiser_id:b,boardPickerStopwatch:l,saveToBoard:o,dispatch:g,location:d,onPinCreate:r,previousHistory:S,showRepinAnimation:e=>f({type:"showRepinAnimation",payload:e}),toastManagerContext:h,viewerUserId:u.isAuth?u.id:void 0,i18n:a,logContextEvent:n})}},650720:(e,t,o)=>{o.d(t,{Z:()=>q});var n=o(667294),i=o(883119),s=o(88622),r=o(536042),a=o(802071),l=o(163216),c=o(445131),d=o(702664),u=o(282802),h=o(407264),_=o(785893);const p=({board:e,completeCreateSectionAction:t,height:o,onClose:a,pinImport:l,url:c,width:p})=>{const g=(0,r.ZP)(),{isRTL:m}=(0,u.B)(),f=(0,d.useDispatch)(),[x,b]=(0,n.useState)(""),[y,v]=(0,n.useState)(!1),[w,P]=(0,n.useState)(null);return(0,_.jsx)(s.ZP,{accessibilityModalLabel:g._('Repin modal', 'save.pinToBoard.modal.label', 'Accessibility label on modal'),heading:(0,_.jsx)(i.xu,{paddingY:8,children:(0,_.jsxs)(i.kC,{justifyContent:"center",children:[(0,_.jsx)(i.xu,{maxWidth:400,children:(0,_.jsx)(i.X6,{align:"center",size:"500",children:g._('Add section', 'sectionCreateModal.title', 'Title in the add section modal')})}),(0,_.jsx)(i.xu,{left:m,padding:8,position:"absolute",right:!m,top:!0,children:(0,_.jsx)(i.hU,{icon:"cancel",accessibilityLabel:g._('Close', 'sectionCreateModal.closeButton', 'close section create modal button'),size:"md",iconColor:"darkGray",onClick:a})})]})}),footer:(0,_.jsx)(i.kC,{children:(0,_.jsx)(i.xu,{marginStart:"auto",children:(0,_.jsx)(i.zx,{fullWidth:!0,text:g._('Add', 'sectionCreateModal.add.button', 'add a new section'),color:"red",onClick:()=>{e&&(v(!0),f((0,h.vB)({boardId:e.id,name:x.trim(),pinImport:l},g)).then((o=>{t(e,o,!1)})).catch((e=>{P(e.message_detail||e.message)})).finally((()=>{v(!1)})))},disabled:y||!x.trim()||!!w,size:"lg"})})}),onDismiss:a,size:"sm",children:(0,_.jsx)(i.xu,{padding:8,children:(0,_.jsxs)(i.kC,{children:[(0,_.jsx)(i.zd,{rounding:4,height:o,width:p,children:(0,_.jsx)(i.Ee,{alt:"",fit:"cover",src:c||"",naturalHeight:null!=o?o:1,naturalWidth:null!=p?p:1})}),(0,_.jsx)(i.xu,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:p?`calc(100% - ${p}px)`:"100%"}},children:(0,_.jsx)(i.nv,{errorMessage:w,id:"sectionEditName",onChange:e=>{b(e.value),P(null)},placeholder:g._('Like "Lighting"', 'sectionCreateModal.boardSection.name', 'Placeholder for board section name'),label:g._('Name', 'section.create.label', 'label text for section input'),size:"lg",type:"text",value:x})})]})})})};var g=o(388011),m=o(756513),f=o(819079),x=o(857736),b=o(16467),y=o(600660);const v=2,w=void 0;function P(e,t,o){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...o?{advertiser_id:o,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:w,shortlist_suggestions:v}}class S extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:o,boards_shortlist:n}=t,i=(e=>{const t=[],o=[];return e.forEach((e=>{var n;null!==(n=e.name)&&void 0!==n&&n.match(/^\d/)?o.push(e):t.push(e)})),[...t,...o]})(o);return i.length<=3?[{items:i}]:e.length>=x.Z?[{items:(0,y.j)(i,e)}]:[n.length?{items:n,title:this.props.i18n._('Top choices', ' - ', ' -- ')}:{items:[]},{items:i,title:this.props.i18n._('All boards', 'title for board picker all boards section', 'title for board picker all boards section')}]},(o="getSections")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{boardResource:{data:e,error:t,isLoaded:o},boardSavedTo:n,isSelectMode:i,onBoardCreate:s,onBoardSelected:r,pinId:a}=this.props,l=o&&!!e&&e.all_boards.length<=3;return(0,_.jsx)(b.Z,{isSelectMode:i,boardSavedTo:n,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:o,getSections:this.getSections,onCreate:s,onSelected:r,pinId:a})}}function A(e){const t=(0,r.ZP)(),o=(0,a.Z)(),n=(0,d.useSelector)((({advertiser:e})=>{if(o.isAuth&&e&&e.owner_user_id!==o.id)return e.id})),i=(0,d.useSelector)((({advertiser:e})=>{if(o.isAuth&&e&&e.owner_user_id!==o.id)return e.owner_user_id})),s=(0,f.Z)({name:"BoardPickerBoardsResource",options:P(e.pinId,i,n)});return(0,_.jsx)(S,{...e,boardResource:s,i18n:t})}class C extends n.Component{constructor(...e){var t,o,n;super(...e),n=e=>{const{board:t,i18n:o,sectionsResource:{data:n}}=this.props,i=o._('Board', 'PinSaveButton.RepinPicker.SectionListBoardTitle', 'board title on section picker'),s=o._('Section', 'PinSaveButton.BoardFlyout.SectionListSectionTitle', 'section title on section picker');return e.length>=x.Z?[{items:(0,y.j)([t],e),customProps:{inSectionSelection:!0}},{items:(0,y.j)(null!=n?n:[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0},title:i},{items:null!=n?n:[],title:s}]},(o="getSections")in(t=this)?Object.defineProperty(t,o,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[o]=n}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:o,isSelectMode:n,onSectionCreate:i,onSectionSelected:s,pinId:r}=this.props;return(0,_.jsx)(b.Z,{isSelectMode:n,boardSavedTo:o,createButtonLabel:this.props.i18n._('Add section', 'Button for creating a board section', 'Button for creating a board section'),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:i,onSelected:s,pinId:r})}}function E(e){const t=(0,r.ZP)(),o=(0,f.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,_.jsx)(C,{...e,i18n:t,sectionsResource:o})}var T=o(40045),j=o(52328),k=o(614481),I=o(621699),O=o(729522);function R(e){const t=(0,r.ZP)(),{body:o,img:n,onClick:s,selected:a,title:l,username:c,valid:d}=e,u=c||o;return(0,_.jsx)(i.xu,{marginBottom:4,children:(0,_.jsx)(i.iP,{onTap:s,children:(0,_.jsxs)(i.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[n,(0,_.jsxs)(i.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,_.jsx)(i.xu,{marginBottom:1,children:(0,_.jsx)(i.xv,{lineClamp:1,weight:"bold",children:l})}),(0,_.jsx)(i.xv,{size:"100",lineClamp:1,children:u})]}),(0,_.jsx)(i.xu,{marginStart:2,children:(h=a,p=d,c?h?(0,_.jsx)(i.JO,{accessibilityLabel:t._('Confirmation an invite will be sent', 'Alt tags on a check box on the board create flow for board invites', 'Alt tags on a check box on the board create flow for board invites'),color:"error",icon:"check-circle",size:32}):(0,_.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,_.jsx)(i.zx,{color:"gray",disabled:!!h||Boolean(!p),size:"sm",text:h?t._('Sent', 'Sent a board collaborator invite', 'Sent a board collaborator invite'):t._('Invite', 'Add board collaborator invite', 'Add board collaborator invite')}))})]})})});var h,p}var L=o(887743);function z(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function N(e,t,o){const{id:n}=e;return t===o.findIndex((e=>e.id===n))}class M extends n.Component{constructor(...e){super(...e),z(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),z(this,"isIdSelected",{}),z(this,"handleTextFieldChange",(({value:e})=>{this.setState({value:e})})),z(this,"handleCollaboratorClick",(e=>{const{id:t,type:o}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{inviteUsers:n,inviteEmails:i}=this.props,{selectedCollaborators:s}=this.state,r=s.concat([e]),a="email"===o?i:n;this.props.onSelectedCollaboratorsChange({id:t,resource:a}),this.setState({selectedCollaborators:r})})),z(this,"handleTypeaheadSuggestionsChange",(e=>{this.setState({typeaheadSuggestions:e})}))}componentDidMount(){const{inviteUsers:e,inviteEmails:t}=this.props;this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map((o=>{const{id:n,type:i}=o;this.isIdSelected[n]=!this.isIdSelected[n];const s="email"===i?t:e;return this.props.onSelectedCollaboratorsChange({id:n,resource:s}),null}))}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,o=t||[],n=(""===e?this.state.selectedCollaborators.concat(o).filter(N):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,k.Z)(e)}).concat(o).filter(N)).map((e=>function(e,t,o,n){if("user_share_suggestion"===e.type||"user"===e.type){const n=(0,_.jsx)(I.Z,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,_.jsx)(R,{img:n,onClick:()=>o(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:s,valid:r}=e,a=(0,_.jsx)(i.xu,{alignItems:"center",color:"secondary",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,_.jsx)(i.JO,{accessibilityLabel:n._('Email icon', 'Email icon on board create modal', 'Email icon on board create modal'),color:"default",icon:"envelope",size:20})}),l=(0,O.Z)(n._('Email {{ email }}', ' - ', ' -- '),{email:s});let c,d;return t?(c=n._('Done!', 'Text that lets the user know we sent the board invite email', 'Text that lets the user know we sent the board invite email'),d=()=>{}):(c=r?n._('Click to send!', 'Text that lets the user know they can successfully send a board invite email', 'Text that lets the user know they can successfully send a board invite email'):n._('Keep typing!', 'Text that lets a user know the email they are typing is not valid yet', 'Text that lets a user know the email they are typing is not valid yet'),d=()=>r?o(e):void 0),(0,_.jsx)(R,{body:c,img:a,onClick:d,selected:t,title:l,valid:r})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n))).map(((e,t)=>(0,_.jsx)("li",{children:e},t)));return(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,_.jsx)(i.xu,{paddingX:3,paddingY:2,children:(0,_.jsx)(i.xv,{size:"100",children:this.props.i18n._('Add collaborators (optional)', 'Optional field to add collaborators to a board on board create', 'Optional field to add collaborators to a board on board create')})}),(0,_.jsx)(i.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,_.jsx)(i.xu,{flex:"grow",children:(0,_.jsx)(j.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,_.jsx)(i.Um,{accessibilityLabel:this.props.i18n._('Search for collaborators by name or email', ' - ', ' -- '),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._('Search by name or email', ' - ', ' -- '),size:"lg",value:e})})})}),(0,_.jsx)(i.xu,{overflow:"scrollY",paddingX:3,children:(0,_.jsx)("ul",{children:n})})]})}}function D(e){const t=(0,r.ZP)(),o=(0,f.Z)({name:"ShareSuggestionsResource",noCache:!0}),n=(0,L.zC)(),i=(0,L.DK)();return(0,_.jsx)(M,{...e,i18n:t,shareSuggestionsResource:o,inviteEmails:n,inviteUsers:i})}var B=o(194655),Z=o(973323);function U({onCancel:e,onCreate:t,onInvite:o,prefilledName:s,preselectedCollaborators:a,showTitle:l}){const c=(0,r.ZP)(),{isRTL:d}=(0,u.B)(),{handleCreate:h,handleChangeName:p,handleChangePrivacy:g,isAdAccountOwner:m,state:{createBoardError:f,inputName:x,nameValidatorErrors:b,privacy:y,saving:v}}=(0,Z.Z)({onCreate:t,prefilledName:s}),w=0===b.length,P=y===T.Z.BoardPrivacy.SECRET;return(0,_.jsx)(i.xu,{color:"default",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,_.jsx)("form",{onSubmit:e=>{e.preventDefault(),h()},style:{height:"100%"},children:(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[l&&(0,_.jsx)(i.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,_.jsx)(i.X6,{size:"400",children:c._('Create board', ' - ', ' -- ')})}),(0,_.jsxs)(i.xu,{padding:3,children:[(0,_.jsx)(i.xu,{marginBottom:2,children:(0,_.jsx)(i.__,{htmlFor:"boardEditName",children:(0,_.jsx)(i.xv,{size:"100",children:c._('Name', ' - ', ' -- ')})})}),(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.nv,{errorMessage:b.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>p(e),placeholder:c._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:x})})]}),m&&(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)(i.xu,{padding:3,children:[(0,_.jsx)(i.xu,{marginBottom:2,children:(0,_.jsx)(i.__,{htmlFor:"secret",children:(0,_.jsx)(i.xv,{size:"100",children:c._('Secret', 'secret board', 'secret board')})})}),(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.rs,{id:"secret",onChange:g,switched:P})})]}),(0,_.jsx)(i.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",overflow:"hidden",children:(0,_.jsx)(i.xu,{width:"100%",children:(0,_.jsx)(D,{onSelectedCollaboratorsChange:o,preselectedCollaborators:a})})})]}),!m&&(0,_.jsx)(n.Fragment,{children:(0,_.jsxs)(i.xu,{padding:3,children:[(0,_.jsx)(i.xu,{marginBottom:2,children:(0,_.jsx)(i.__,{htmlFor:"protected",children:(0,_.jsx)(i.xv,{size:"100",children:c._('Protected board (not listed on user\'s profile)', 'protected board', 'protected board')})})}),(0,_.jsx)(i.xu,{children:(0,_.jsx)(i.rs,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),(0,_.jsxs)(i.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},bottom:!0,color:"default",display:"flex",justifyContent:"between",left:d,paddingX:4,paddingY:2,position:"absolute",right:!d,width:720,children:[(0,_.jsx)(i.kC,{children:(0,_.jsx)(i.zx,{onClick:e,text:c._('Cancel', 'cancel board create', 'cancel board create')})}),(0,_.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[!!f&&(0,_.jsx)(i.xu,{paddingX:2,children:(0,_.jsx)(i.xv,{align:"center",color:"error",size:"200",weight:"bold",children:f})}),(0,_.jsx)(B.Z,{disabled:!x.trim()||!w||!!f||v,submitting:v,text:c._('Create', 'create a new board', 'create a new board')})]})]})]})})})}var F=o(61124);function G(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class V extends n.Component{constructor(...e){super(...e),G(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),G(this,"close",(()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:o}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):o()})),G(this,"sendInvites",(e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach((o=>{var n;t[o].resource(null!==(n=e.id)&&void 0!==n?n:"",[o])}))})),G(this,"handleInvite",(e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const o={...t};delete o[e.id],this.setState({inviteQueue:o})}else{const o={...t,[e.id]:e};this.setState({inviteQueue:o})}})),G(this,"handleBoardCreate",(e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)})),G(this,"handleBoardSave",((e,t)=>{const{selectedSectionBoard:o}=this.state,{onBoardSave:n,invalidatePinBetterSaveResource:i,invalidateResource:s}=this.props;if(s(),i(),o&&"boardsection"===e.type){return n(o,e,t)}const r=e,{section_count:a=0}=r;!o&&"number"==typeof a&&a>0?this.setState({selectedSectionBoard:r},this.manageModalTitle):(this.sendInvites(e),n(r,void 0,t))})),G(this,"handleCreate",(e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const o=e?13105:13025,n=e?10306:249;this.props.logContextEvent({event_type:101,component:o,element:n})})),G(this,"manageModalTitle",(()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:o}=this.state;e&&e(o&&t?this.props.i18n._('Add section', 'Repin title for making a board section', 'Repin title for making a board section'):o&&!t?this.props.i18n._('Create board', 'Repin title for making a new board', 'Repin title for making a new board'):t&&!o?this.props.i18n._('Choose section', 'Repin title for choosing a board section', 'Repin title for choosing a board section'):this.props.i18n._('Choose board', 'Repin title for choosing a board', 'Repin title for choosing a board'))}))}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:o,pinId:n,preselectedCollaborators:s,setModalTitle:r,suggestedBoardTitle:a}=this.props,{newName:l,selectedSectionBoard:c,showCreate:d}=this.state,u=!!c,h=!r;return(0,_.jsxs)(i.xu,{display:"flex",position:"relative",width:"100%",children:[!d&&(0,_.jsx)(i.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:c?(0,_.jsx)(E,{board:c,boardSavedTo:e,isSelectMode:o,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,_.jsx)(A,{boardSavedTo:e,isSelectMode:o,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:n})}),d&&!c&&(0,_.jsx)(U,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,prefilledName:l||a,preselectedCollaborators:s,showTitle:h}),d&&c&&(0,_.jsx)(F.Z,{board:c,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:h})]})}}function H(e){const{logContextEvent:t}=(0,g.v)(),o=(0,r.ZP)(),n=(0,d.useDispatch)();return(0,_.jsx)(V,{...e,i18n:o,logContextEvent:t,invalidateResource:()=>{n((0,m.jB)("BoardPickerBoardsResource",P(e.pinId)))},invalidatePinBetterSaveResource:()=>{n((0,m.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}})}var W=o(607015);function $(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class Y extends n.PureComponent{constructor(...e){super(...e),$(this,"pinImageRef",(0,n.createRef)()),$(this,"handleSavePinToBoard",((e,t,o)=>{const{handleSaveToBoard:n}=this.props;n(e,t,o)})),$(this,"close",(()=>{const{handleAbort:e}=this.props;e()})),$(this,"dismissModal",(()=>{const{dismissModal:e}=this.props;e&&e()}))}render(){const{boardSavedTo:e,boardWithSection:t,color:o,displaySuccessAnimation:r,handleNewBoardAnimationCompletion:a,isInModal:d,newPin:u,pin:h,preselectedCollaborators:g,onBoardCreated:m,sensitiveContentNotice:f,setModalTitle:x,showCreate:b,shouldRenderContent:y,suggestedBoardTitle:v,updateDescription:w}=this.props;if(!h||!h&&!h.resourceLoaded||!y)return null;if(b&&t){var P;const{url:e,width:o,height:n}=(null===(P=h.images)||void 0===P?void 0:P["236x"])||{};return(0,_.jsx)(p,{board:t,url:e,height:n,width:o,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let S=null;u&&u.board&&(S=u.board.name);const A=f&&f.title||this.props.modalTitle,C=f?(0,_.jsx)(l.Z,{inModal:!0,notices:[f]}):(0,_.jsx)(i.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:(0,_.jsxs)(n.Fragment,{children:[(0,_.jsxs)(i.xu,{color:"default",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,_.jsx)(i.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:(0,_.jsx)(i.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,_.jsx)(W.Z,{color:o,pin:h,pinImageRef:this.pinImageRef,updateDescription:w})})}),(0,_.jsx)(i.kC,{alignItems:"stretch",width:"60%",children:(0,_.jsx)(H,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:m,onBoardSave:this.handleSavePinToBoard,onClose:this.close,pinId:h.id,preselectedCollaborators:g,setModalTitle:d?x:void 0,showCreate:b,suggestedBoardTitle:v})})]}),r&&(0,_.jsx)(c.Z,{onDismiss:()=>{a(),this.dismissModal()},pin:h,pinImageRef:this.pinImageRef,selectedBoardName:S})]})});return d?(0,_.jsx)(s.ZP,{accessibilityModalLabel:A||this.props.i18n._('Repin modal', 'save.pin-to-board.PinToBoard.PinToBoard', 'Accessibility label on modal'),heading:A,onDismiss:this.close,size:"md",children:C}):C}}$(Y,"defaultProps",{pwtAuxData:{}});const q=function(e){const t=(0,r.ZP)(),o=(0,a.Z)();return(0,_.jsx)(Y,{...e,i18n:t,viewer:o})}},935092:(e,t,o)=>{o.d(t,{A:()=>n,S:()=>i});const n=4e3,i={LOADING:"loading",SUCCESS:"success"}},973323:(e,t,o)=>{o.d(t,{Z:()=>_});var n=o(667294),i=o(702664),s=o(40045),r=o(536042),a=o(630089),l=o(756513),c=o(802071),d=o(392881),u=o(952055),h=o(933325);function _({onCreate:e,prefilledName:t}){const o=(0,r.ZP)(),_=(0,i.useSelector)((({advertiser:e})=>e)),p=(0,i.useDispatch)(),g=(0,c.Z)(),m=!_||g.isAuth&&_.owner_user_id===g.id,f=_&&_.id,x=(0,h.Z)(),[b,y]=(0,n.useState)({createBoardError:null,inputName:t||"",nameValidatorErrors:[],privacy:m?s.Z.BoardPrivacy.PUBLIC:s.Z.BoardPrivacy.PROTECTED,saving:!1}),v=()=>{const{inputName:t,privacy:n}=b;y({...b,saving:!0,createBoardError:null}),x({boardCreateOptions:{name:t,privacy:n,...!m&&f?{advertiser_id:f}:Object.freeze({})}}).then((t=>{y({...b,saving:!1}),e(t)})).catch((e=>{let t=o._('Uh oh! Something went wrong.', ' - ', ' -- ');if("string"==typeof e)t=e;else if(e.message){const{message:o,message_detail:n}=e;t=n?`${o} ${n}`:o}y({...b,saving:!1,createBoardError:t})})),p((0,l.jB)("BoardsResource",(0,u.Z)(g.isAuth?g.username:"",n===s.Z.BoardPrivacy.SECRET)))};return{handleChangeName:(e,t)=>{y({...b,inputName:e,nameValidatorErrors:(0,d.FU)([(0,d.aH)({message:o._('Don\'t forget to name your board!', ' - ', ' -- ')}),(0,d.Gy)({max:s.Z.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,a.nk)(o._('Please enter no more than {{ maxLength }} characters.', 'Validation error when a user input is too long', 'Validation error when a user input is too long'),{maxLength:s.Z.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],e),createBoardError:null}),t&&v()},handleChangePrivacy:()=>{y({...b,privacy:b.privacy===s.Z.BoardPrivacy.SECRET?s.Z.BoardPrivacy.PUBLIC:s.Z.BoardPrivacy.SECRET})},handleCreate:v,isAdAccountOwner:m,state:b}}},357565:(e,t,o)=>{o.r(t),o.d(t,{default:()=>v});var n=o(667294),i=o(616550),s=o(883119),r=o(40660),a=o(222443),l=o(388011),c=o(550140),d=o(536042),u=o(988014),h=o(245410),_=o(670640),p=o(204125),g=o(785893);function m({size:e,iconColor:t,backgroundColor:o,disabled:n,onClick:i}){const r=(0,d.ZP)(),a=48===e?"lg":"xl";return(0,g.jsx)(s.hU,{accessibilityLabel:r._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:o,icon:"link",iconColor:t||o&&!["white","lightGray","transparent"].includes(o)?t:"gray",size:a,disabled:n,onClick:i})}var f=o(63262),x=o(651849),b=o(549739);const y=3e3;function v({backgroundColor:e,iconColor:t,iconSize:o,iconWrapperWidth:v,isCloseupActionBar:w,marginEnd:P,onClick:S,sharedObject:A,spaceBelowIcon:C,viewType:E,viewParameter:T}){const j=(0,d.ZP)(),{logContextEvent:k}=(0,l.v)(),{checkExperiment:I}=(0,h.F)(),O=I("web_share_menu_logging").anyEnabled,R=(0,f.F9)(),[L,z]=(0,n.useState)(""),[N,M]=(0,n.useState)(!1),[D,B]=(0,n.useState)(!1),Z=(0,i.useLocation)(),U=(0,a.Z)(),F=(0,_.Z)(),G=j._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),V=e=>{w?navigator.clipboard.writeText(e).then((()=>{var e;e=j._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),R.showToast((({hideToast:t})=>(0,g.jsx)(s.xu,{top:!0,children:(0,g.jsx)(c.ZP,{duration:y,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{B(!0),setTimeout((()=>{B(!1)}),y)}))},H=async()=>{if(L)return void V(L);M(!0);const e=(e=>{let t;if("pin"===A.type&&A.id){const e={shouldTrackForPrevLocation:!0};t=U(A.id,e)}return{invite_category:3,invite_channel:e,object_type:A.type,object_id:A.id,name:A.name,description:A.description||"",path:A.url,picture:A.imageUrl,client_tracking_params:t}})(12);F.createShareInviteData(e).then((t=>{const{invite_url:o}=t;M(!1),o&&(z(o),F.logShareInvite(e,t),V(o))}))},W=()=>{if(H(),O){const e=p.yF[A.type];e||r.Z.increment("social.web.copyLinkButton.sharedObject.type",void 0,{type:A.type}),w&&k({event_type:101,component:14147,element:13103,object_id_str:A.id,view_type:E,view_parameter:T,aux_data:e?{invite_object:e}:void 0}),S&&S()}};return(0,u.am)(Z)&&w&&I("web_copy_link_btn_replace").anyEnabled?(0,g.jsx)(s.xu,{marginStart:1,children:(0,g.jsx)(s.zx,{accessibilityLabel:j._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:j._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>W(),size:"lg",color:"gray",fullWidth:!0})}):(0,g.jsxs)(b.Z,{isCloseupActionBar:!0,width:v||o,marginEnd:P||!1,children:[(0,g.jsx)(s.xu,{alignItems:w?"center":"stretch",display:w?"flex":"block",marginBottom:C,width:w?"100%":"auto",children:(0,g.jsx)(s.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:o,children:(0,g.jsx)(m,{backgroundColor:e,iconColor:t,size:o,onClick:W,disabled:N})})}),!w&&(0,g.jsx)(x.Z,{text:D?G:j._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},646827:(e,t,o)=>{o.d(t,{d:()=>n});const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article"}},504506:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Se});var n=o(667294),i=o(883119),s=o(40660),r=o(388011),a=o(788241),l=o(245410),c=o(204125),d=o(589665),u=o(690108),h=o(550140),_=o(536042),p=o(63262),g=o(802071),m=o(329689),f=o(384722),x=o(336331),b=o(510525);const y="200",v=48,w=26,P=2,S=81,A=49,C=4,E=9,T=3,j=1,k=(C+1)*(v+w)+2*T*4,I="error";var O=o(819079),R=o(621699),L=o(630089),z=o(846226),N=o(785893);function M({idx:e,item:t,onSendMessage:o,onViewConversation:s,sentHistory:c,objectAttachment:u,component:h}){var p;const g=(0,_.ZP)(),{logContextEvent:m}=(0,r.v)(),[f,x]=(0,n.useState)(!1),{viewType:b,viewParameter:y}=(0,a.SU)(),S=t.id||"string"==typeof t.email&&t.email||"",A=c[S]===I,C=Object.prototype.hasOwnProperty.call(c,S)&&!A,E=null!==(p=c[S])&&void 0!==p?p:"";(0,n.useEffect)((()=>{A&&x(!1)}),[A]);let T="";const{full_name:j,email:k}=t;"string"!=typeof j||j.match(/^\s*$/)?"string"!=typeof k||k.match(/^\s*$/)||(T=k):T=j;let O,M,D="";C?D=g._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):f&&(D=g._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact')),"pinner"===u.type||"user"===u.type?(O=13530,M=13532):"board"===u.type?(O=13527,M=13529):(O=13524,M=13526);const{checkExperiment:B}=(0,l.F)(),Z=B("web_share_show_more_contacts").anyEnabled;return(0,N.jsx)(i.xu,{"data-test-id":"sharesheet-contact-item",width:v+w,marginBottom:5,children:(0,N.jsx)(i.iP,{onTap:C?()=>{m({view_type:b,view_parameter:y,event_type:10399,component:h,element:M}),s(E)}:()=>{m({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),m({view_type:b,view_parameter:y,event_type:10399,component:h,element:O,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),x(!0),o(t)},children:(0,N.jsxs)(i.kC,{direction:"column",alignItems:"center",children:[(0,N.jsxs)(i.xu,{alignItems:"center","data-test-id":f?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:v,justifyContent:"center",marginBottom:P,width:v,children:[f&&(0,N.jsx)(i.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:v,justifyContent:"center",position:"absolute",rounding:"circle",width:v,zIndex:new i.Ry(d.fe),children:(0,N.jsx)(i.JO,{accessibilityLabel:(0,L.Wc)(g._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:T}),icon:"check",color:"light",size:24})}),(0,N.jsx)(R.Z,{size:"fit",src:t.image_large_url,name:T})]}),(0,N.jsxs)(i.xu,{"data-test-id":"sharesheet-contact-item-label",width:Z?"100%":v,paddingX:Z?1:void 0,children:[(0,N.jsx)(i.xv,{lineClamp:1,size:"100",align:"center",children:T}),(0,N.jsx)(i.xv,{color:"subtle",size:"100",align:"center",children:(0,N.jsx)(z.Z,{id:"contact-send-status",children:D})})]})]})})})}var D=o(881610);function B(e){var t;const{logContextEvent:o}=(0,r.v)(),s=(0,_.ZP)(),{onHide:c,onSendMessage:d,onShowImportContacts:u,objectAttachment:h,sentHistory:p}=e,{isLoaded:g}=(0,O.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default",hide_group_conversations:!0},noCache:!0}),{checkExperiment:m}=(0,l.F)(),f=m("web_share_show_more_contacts").anyEnabled?E:C,{shareSuggestions:x}=(0,D.E)(),T=(null===(t=x[""])||void 0===t?void 0:t.slice(0,f))||[],j=T.length>0,{viewType:k,viewParameter:I}=(0,a.SU)();(0,n.useEffect)((()=>{if(g){o({event_type:j?7511:7512,component:56,view_type:70,view_parameter:256})}}),[j,o,g]);const{dropdownOpen:R,conversationOpen:L,newMessageOpen:z}=(0,b.Z5)(),B=e=>{L(e),R(),c()},Z=T.map(((t,o)=>{const n=`${t.id||t.email||o}`,i={item:t,idx:o,onSendMessage:d,onViewConversation:B,sentHistory:p,objectAttachment:h},{component:s}=e;return(0,N.jsx)(M,{...i,component:s},n)})),U=!j&&!g;return(0,N.jsxs)(i.kC,{direction:"column",children:[(0,N.jsx)(i.kC,{alignItems:"center",height:A,justifyContent:"center",children:(0,N.jsx)(i.xv,{align:"center",size:y,weight:"bold",children:s._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,N.jsx)(i.kC,{flex:"none",minHeight:S,justifyContent:U?"center":void 0,children:U?(0,N.jsx)(i.xu,{paddingY:2,children:(0,N.jsx)(i.$j,{accessibilityLabel:s._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,N.jsxs)(i.kC,{wrap:!0,children:[(0,N.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:v+w,children:[(0,N.jsx)(i.xu,{height:v,marginBottom:P,width:v,"data-test-id":"search-for-users-button",children:(0,N.jsx)(i.hU,{accessibilityLabel:s._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{e.onSearchClick&&e.onSearchClick();const{component:t}=e;let n;n="pinner"===h.type||"user"===h.type?13531:"board"===h.type?13528:13525,o({view_type:k,view_parameter:I,event_type:10399,component:t,element:n}),z(h),R(),c()},size:"lg"})}),(0,N.jsx)(i.xv,{lineClamp:1,size:"100",children:s._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),j?Z:(0,N.jsxs)(i.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:v+w,children:[(0,N.jsx)(i.xu,{height:v,marginBottom:P,width:v,children:(0,N.jsx)(i.hU,{accessibilityLabel:s._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:u,size:"lg"})}),(0,N.jsx)(i.xv,{lineClamp:1,size:"100",children:s._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function Z(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridProductDetailPage":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;default:return e}}var U=o(614481),F=o(646827);function G(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class V extends n.Component{constructor(...e){super(...e),G(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),G(this,"handleSendEmail",((e,t)=>{if(e){const o={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(o,t)}})),G(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),G(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,N.jsx)(i.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm",iconColor:"gray"})}render(){const{width:e}=this.props;return(0,N.jsxs)(i.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,N.jsxs)(i.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,N.jsx)(i.xu,{flex:"grow",marginEnd:8,children:(0,N.jsx)(i.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,N.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,N.jsx)(i.xu,{paddingY:1,marginBottom:4,children:(0,N.jsx)(i.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,N.jsx)(i.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,N.jsx)(i.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,N.jsx)(i.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,U.Z)(this.state.emailValue)})})]})]})}}function H(e){const t=(0,_.ZP)();return(0,N.jsx)(V,{...e,i18n:t})}var W=o(222443),$=o(49387),Y=o(282802),q=o(670640),K=o(512403),X=o(269758),J=o(894637),Q=o(757551),ee=o(343226),te=o(320634),oe=o(17330),ne=o(357565);function ie({size:e=48}){return(0,N.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,N.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,N.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,N.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,N.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,N.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,N.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var se=o(651849),re=o(549739);function ae({iconSize:e,iconWrapperWidth:t,marginBottom:o,marginEnd:n,onCreatePincodeClick:s,sharedObject:r}){const a=(0,_.ZP)(),l=(0,g.Z)();return s&&[F.d.BOARD,F.d.PINNER,F.d.USER].includes(r.type)&&l.isAuth&&(r.id===l.id||l.isEmployee)?(0,N.jsxs)(re.Z,{width:t,marginEnd:n,children:[(0,N.jsx)(i.xu,{marginBottom:o,children:(0,N.jsx)(i.iP,{fullWidth:!1,onTap:s,children:(0,N.jsx)(ie,{size:e})})}),(0,N.jsx)(se.Z,{text:a._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}function le(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const ce={backgroundColor:"#ffffff",border:"none",padding:0},de=new Set(["JP","TW","TH"]),ue=(e,t)=>{(0,$.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class he extends n.Component{constructor(...e){super(...e),le(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),le(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,o=this.getShareOptions(12);e||(this.props.ShareInvite.logShareInvite(o,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){let t;const{sharedObject:o,getClientTrackingParams:n}=this.props;if("pin"===o.type&&o.id){const e={shouldTrackForPrevLocation:!0};t=n(o.id,e)}return{invite_category:3,invite_channel:e,object_type:o.type,object_id:o.id,name:o.name,description:o.description||"",path:o.url,picture:o.imageUrl,client_tracking_params:t}}getWhatsAppURL(){const e=this.getShareOptions(10);this.props.ShareInvite.createShareInviteData(e).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const o=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+o})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,oe.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e,t){if(this.checkWritePermissions())return;const{onCreatePincodeClick:o,onExternalSend:n,logContextEvent:i,viewType:r,viewParameter:a,inShareMenuLoggingExp:l,sharedObject:d,component:u}=this.props;let h=l?c.cc[t]:46;"facebook"===e||5===t?(this.openFacebookDialog(),l||(h=257)):"twitter"===e||9===t?(this.openTwitterDialog(),l||(h=256)):"messenger"===e||6===t?(this.openFbMessengerDialog(),l||(h=950)):"whatsapp"===e||10===t?(this.openWhatsAppDialog(),l||(h=951)):"pincode"===e||16===t?o&&o():"copylink"===e||12===t?(this.openShareUrlLink(),l||(h=100)):"email"===e||1===t?(this.openEmailDialog(),l||(h=258)):"line"!==e&&8!==t||(this.openLineDialog(),l||(h=952)),n&&n();const _=c.yF[d.type];_||s.Z.increment("social.web.legoShareSocialBar.sharedObject.type",void 0,{type:d.type}),i({event_type:101,component:l?14121:153,element:h,object_id_str:l?d.id:void 0,view_type:l?r:void 0,view_parameter:l?a:void 0,aux_data:l?{invite_object:_}:void 0});const p={board:c.LO,pinner:c.Pu,user:c.Pu,pin:c.dB,did_it:c.dB,today_article:c.dB};i({event_type:10399,component:u,object_id_str:d.id||void 0,view_type:r,view_parameter:a,aux_data:{invite_object:_},element:p[d.type][t]})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;ue((()=>{this.props.ShareInvite.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t})}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;ue((()=>{this.props.ShareInvite.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t})}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(this.props.ShareInvite.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){this.props.ShareInvite.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){this.props.ShareInvite.shareLineInvite(this.getShareOptions(8))}renderEmail(){const e=v,t=v+w,o=P;return(0,N.jsxs)(re.Z,{width:t,marginEnd:!1,children:[(0,N.jsx)(i.xu,{display:"inlineBlock",marginBottom:o,"data-test-id":"email-share-button-auth",children:(0,N.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email",1),style:ce,children:(0,N.jsx)(K.Z,{size:e})})}),(0,N.jsx)(se.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:o,showLineShare:s,showMessengerShare:r,showEmailOption:a,viewType:l,viewParameter:c}=this.props,d=v,u=v+w,h=P;return(0,N.jsx)(n.Fragment,{children:(0,N.jsxs)(i.kC,{justifyContent:"start",wrap:!0,children:[s&&(0,N.jsxs)(re.Z,{width:u,marginEnd:!1,children:[(0,N.jsx)(i.xu,{marginBottom:h,children:(0,N.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line",8),style:ce,children:(0,N.jsx)(J.Z,{size:d})})}),(0,N.jsx)(se.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,N.jsxs)(re.Z,{width:u,marginEnd:!1,children:[(0,N.jsx)(i.xu,{marginBottom:h,"data-test-id":"whatsapp-share-icon-auth",children:(0,N.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp",10),style:ce,tabIndex:"-1",children:(0,N.jsx)(i.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,N.jsx)(te.Z,{size:d})})})}),(0,N.jsx)(se.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),r&&(0,N.jsxs)(re.Z,{width:u,marginEnd:!1,children:[(0,N.jsx)(i.xu,{marginBottom:h,"data-test-id":"messenger-share-icon-auth",children:(0,N.jsx)("button",{"aria-label":e._('Share on Messenger', 'sharesheet.shareSocialBar.ShareMessenger', 'Button that will share via Messenger'),onClick:()=>this.handleSocialShareClick("messenger",6),style:ce,children:(0,N.jsx)(Q.Z,{size:d})})}),(0,N.jsx)(se.Z,{text:e._('Messenger', 'sharesheet.shareSocialBar.ShareMessengerLabel', 'Messenger button label')})]}),(0,N.jsxs)(re.Z,{width:u,marginEnd:!1,children:[(0,N.jsx)(i.xu,{marginBottom:h,"data-test-id":"facebook-share-icon-auth",children:(0,N.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook",5),style:ce,children:(0,N.jsx)(X.Z,{size:d})})}),(0,N.jsx)(se.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,N.jsxs)(re.Z,{width:u,marginEnd:!1,children:[(0,N.jsx)(i.xu,{marginBottom:h,"data-test-id":"twitter-share-icon-auth",children:(0,N.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter",9),style:ce,"data-test-id":"twitter-share-icon",children:(0,N.jsx)(ee.Z,{size:d})})}),(0,N.jsx)(se.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,N.jsxs)(n.Fragment,{children:[(0,N.jsx)(ae,{iconSize:d,iconWrapperWidth:u,marginBottom:h,marginEnd:!1,onCreatePincodeClick:t,sharedObject:o}),(0,N.jsx)(z.Z,{id:"copy-link-share-icon-auth",children:(0,N.jsx)(ne.default,{sharedObject:o,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:d,iconWrapperWidth:u,onClick:()=>this.handleSocialShareClick("copylink",12),isCloseupActionBar:!1,spaceBelowIcon:h,viewType:l,viewParameter:c},"copylink")}),a&&this.renderEmail()]})]})})}render(){const{paddingX:e}=this.props;return(0,N.jsxs)(i.xu,{paddingX:e,"data-test-id":"lego-share-social-bar-auth",children:[(0,N.jsx)(i.kC,{alignContent:"center",alignItems:"center",height:A,justifyContent:"center",children:(0,N.jsx)(i.xv,{size:y,weight:"bold",children:this.props.i18n._('Share', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,N.jsx)(i.kC,{alignContent:"start",alignItems:"stretch",justifyContent:"start",minHeight:S,children:this.renderShareOptions()})]})}}function _e(e){const{logContextEvent:t}=(0,r.v)(),{checkExperiment:o}=(0,l.F)(),n=(0,_.ZP)(),i=(0,g.Z)(),s=i.isAuth&&de.has(i.country),a=o("web_messenger_share_channel").anyEnabled,c=(0,Y.B)(),d=o("web_share_menu_logging").anyEnabled,u=(0,q.Z)();return(0,N.jsx)(he,{...e,toastManagerContext:(0,p.F9)(),viewer:(0,g.Z)(),showLineShare:s,showMessengerShare:a,i18n:n,logContextEvent:t,unauthId:c.unauthId,inShareMenuLoggingExp:d,getClientTrackingParams:(0,W.Z)(),ShareInvite:u})}const pe=(e,t)=>e.reduce(((e,o)=>({...e,[o]:t})),{}),ge=(e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"";function me(e){const{logContextEvent:t}=(0,r.v)(),o=(0,_.ZP)(),[a,c]=(0,n.useState)(!1),[d,y]=(0,n.useState)(null),[v,w]=(0,n.useState)({}),[P]=(0,n.useState)(ge(e.sendType,o)),{showOneToast:S}=(0,p.F9)(),{surface:A}=(0,x.$)(),C=(0,g.Z)(),E=(0,m.Z)(),{conversationCreate:O}=(0,b.Z5)(),R=(0,b.NG)(),L=(0,n.useRef)();(0,n.useEffect)((()=>{var e;return null===(e=L.current)||void 0===e?void 0:e.focus()}),[]);const z=(o,n)=>{c(!1),e.onMessageSent(),((o,n)=>{const{sharedObject:i}=e,r=i.id;s.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:o,pin_id:n}})})(o,n)},M=(e,t)=>{s.Z.increment("web.sharesheet.internal.send",1,{status:"fail"}),w({...v,...pe(e,I)});const n=a&&"email"===d,i=o._('Failed to send email.', 'sendObject.emailError', 'error message when sending email fails'),r=n?i:t.message_detail||t.message;r&&S((({hideToast:e})=>(0,N.jsx)(h.ZP,{type:"error",duration:5e3,onHide:e,text:r})))},D=async(t,o,n)=>{const{sharedObject:i,sendType:s}=e,r=i.id,a={emails:o,user_ids:t,text:n,source:Z(A)};a[s]=r;const l=u.Z.create("ConversationsResource",a),c=t.length>0?t:o;try{const e=await l.callCreate(),t=e&&e.resource_response.data;O(t),z(t.id,"pin"===s?r:null),w({...v,...pe(c,t.id)})}catch(d){M(c,d)}},U=(o,n)=>{"conversation_share_suggestion"===o.type?((t,o)=>{const{sharedObject:n,sendType:i}=e;let s;switch(i){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const r=s?R(t,{text:o,[s]:n.id,source:Z(A)},void 0,C):void 0;r&&r.then((()=>{z(t,"pin"===i?n.id:null),w({...v,[t]:t})})).catch((e=>{M([t],e)}))})(o.id,n):"user_share_suggestion"===o.type&&o.username?D([o.id],[],n):D([],[o.email],n),t({event_type:101,component:56,element:276})},{onCreatePincodeClick:F,onShowImport:G,sendType:V,sharedObject:W,onHide:$,onExternalSend:Y,viewType:q,viewParameter:K,onSearchClick:X,component:J}=e,Q="user"===e.sendType&&(0,f.q6)(C,e.sharedObject.id,E),ee=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,f.q6)(C,e.sharedObject.ownerId,E),te=Q||ee,oe=C.should_show_messaging&&!te,{checkExperiment:ne}=(0,l.F)(),ie=oe&&ne("web_share_show_more_contacts").anyEnabled,se=(0,N.jsx)(i.xu,{paddingY:1,paddingX:3,children:(0,N.jsx)(i.iz,{})}),re=(0,N.jsxs)(n.Fragment,{children:[ie&&se,(0,N.jsx)(_e,{onCreatePincodeClick:F,onEmailIconClick:()=>{c(!0),y("email")},onExternalSend:Y,onHide:$,sharedObject:W,showEmailOption:oe,viewType:q,viewParameter:K,component:J}),!ie&&oe&&se]});return a&&"email"===d?(0,N.jsx)(H,{initialTextValue:P,objectId:W.id,objectType:V,onCancelDraft:()=>{c(!1),y(null)},onHide:$,onSendMessage:U,width:k}):(0,N.jsxs)(i.xu,{color:"default",paddingX:T,paddingY:j,width:k,tabIndex:0,ref:L,children:[!ie&&re,oe&&(0,N.jsx)(B,{objectAttachment:{type:V,id:W.id},onHide:$,onSendMessage:U,onSearchClick:X,onShowImportContacts:G,sentHistory:v,component:J}),ie&&re]})}var fe=o(937633);const xe=["facebook","google"];function be(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ye(e,t,o){return"facebook"===e?o._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function ve({onBack:e}){const t=(0,_.ZP)(),o=(0,g.Z)(),n=o.isAuth?o.email:null,s=xe.filter((e=>!o.isAuth||!1===o.socialNetwork[e].connected)),r=(0,fe.k)();return(0,N.jsx)(i.xu,{paddingX:1,paddingY:2,children:(0,N.jsxs)(i.kC,{gap:{row:0,column:2},direction:"column",children:[(0,N.jsxs)(i.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,N.jsx)(i.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e,size:"md"}),(0,N.jsx)(i.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,N.jsx)(i.kC,{direction:"column",gap:{row:0,column:4},children:s.map((e=>(0,N.jsx)(i.xu,{paddingX:2,children:(0,N.jsxs)(i.iP,{onTap:()=>(e=>{r.handleConnect(e,!0,Object.freeze({}),t)})(e),children:[(0,N.jsx)(i.xv,{size:"200",children:be(e,t)}),(0,N.jsx)(i.xv,{size:"200",children:ye(e,n,t)})]})},e)))})]})})}var we=o(387815);const Pe=14121;function Se({element:e,onCreatePincodeClick:t,onExternalSend:o,onHide:u,sendType:h,sharedObject:_,viewType:p,viewParameter:g,component:m}){const{logContextEvent:f}=(0,r.v)(),[x,b]=(0,n.useState)(!1),{checkExperiment:y}=(0,l.F)(),v=y("web_share_menu_logging").anyEnabled,w=(0,n.useRef)(!1),{viewParameter:P}=(0,a.SU)();(0,n.useEffect)((()=>{const t=c.yF[h];return t||s.Z.increment("social.web.sendObjectWrapper.sendType",void 0,{type:h}),f({event_type:7120,component:v?Pe:void 0,object_id_str:_.id,element:v?e:void 0,view_type:p,view_parameter:g,aux_data:v?{invite_object:t}:void 0}),f({event_type:10400,component:m,object_id_str:_.id,element:(0,we.O)(t),view_type:p,view_parameter:g||P,aux_data:{invite_object:t}}),()=>{v||f({event_type:7121,object_id_str:_.id,view_type:p,view_parameter:g}),w.current||f({event_type:10403,component:m,object_id_str:_.id,element:13478,view_type:p,view_parameter:P,aux_data:{invite_object:t}});const e=w.current?7493:7492;f({event_type:e,component:v?Pe:void 0,object_id_str:v?_.id:void 0,element:v?13097:void 0,view_type:p,view_parameter:g,aux_data:v?{invite_object:t}:void 0})}}),[]);const S=()=>{b(!0)},A=()=>{b(!1)},C=()=>{w.current=!0},E=()=>{w.current=!0},T=()=>{w.current=!0,o&&o()};return x?(0,N.jsx)(ve,{onBack:A}):(0,N.jsx)(i.xu,{overflow:"hidden",rounding:4,zIndex:new i.Ry(d.fe-1),color:"default",children:(0,N.jsx)(me,{onCreatePincodeClick:t,onHide:u,onShowImport:S,onMessageSent:E,onExternalSend:T,onSearchClick:C,sendType:h,sharedObject:_,viewType:p,viewParameter:g,component:m})})}},651849:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(883119),i=o(36310),s=o(785893);const r=({text:e})=>(0,s.jsx)(n.xv,{align:"center",size:"100",children:(0,s.jsx)(i.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},549739:(e,t,o)=>{o.d(t,{Z:()=>s});var n=o(883119),i=o(785893);const s=({width:e,marginEnd:t,children:o,isCloseupActionBar:s})=>(0,i.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,marginBottom:s?0:5,children:o})},387815:(e,t,o)=>{o.d(t,{O:()=>n});const n=e=>{switch(e){case 2:return 331;case 3:return 12631;default:return 72}}},820166:(e,t,o)=>{o.d(t,{Z:()=>x});var n=o(883119),i=o(550140),s=o(536042),r=o(819079),a=o(549201),l=o(785893);const c=28,d=40,u=48,h=48,_=28,p="#696969";function g({ideaPinImages:e}){const t={1:c,2:d,3:u},o=e.map(((e,t)=>{var o,i,s;return(0,l.jsx)(n.xu,{height:h,width:_,color:"default",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,l.jsx)(n.Ee,{alt:"",src:null!==(o=null==e?void 0:e.url)&&void 0!==o?o:"",color:p,fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(s=null==e?void 0:e.width)&&void 0!==s?s:1})},t)}));return(0,l.jsx)(n.kC,{justifyContent:"center",children:(0,l.jsx)(n.kC,{justifyContent:"start",width:t[e.length],children:o})})}const m=3,f=5e3;function x({handleHide:e,text:t,userId:o,href:c,imageUrl:d}){const u=(0,s.ZP)(),h=(0,a.HG)(),_=(0,r.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:o}}),p=Array.isArray(t)?t.join(" "):t;if(0===(_.data||[]).length)return(0,l.jsx)(i.ZP,{duration:f,onHide:e,text:p,href:c,thumbnail:d?{image:(0,l.jsx)(n.Ee,{alt:u._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:d})}:void 0});const x=(_.data||[]).slice(0,m).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t[h?"236x":"170x"]})),b=(0,l.jsx)(g,{ideaPinImages:x});return(0,l.jsx)(i.ZP,{href:c,duration:f,onHide:e,_dangerouslySetThumbnail:b,text:p})}},933325:(e,t,o)=>{o.d(t,{Z:()=>d});var n=o(702664),i=o(782677),s=o(690108),r=o(527386),a=o(31086),l=o(575794),c=o(756513);function d(){const e=(0,n.useDispatch)(),t=(0,n.useSelector)((e=>e.resources));return async function({boardCreateOptions:o,deprecatedSchemaForNormalization:n}){var d,u;const h=await s.Z.create("BoardResource",o).callCreate(),_=null===(d=h.resource_response)||void 0===d?void 0:d.data,p=n?(0,i.Fv)(_,n):void 0;e((0,c.XM)("BoardResource",o,h,p)),e((0,r.fO)({event_type:20})),null!==(u=_.owner)&&void 0!==u&&u.id&&e((0,l.b)("UserResource",{options:{user_id:_.owner.id,field_set_key:"save_behavior"}}));const g=t.BoardsResource||{},m=t.BoardsFeedResource||{};return Object.keys(g).forEach((t=>{var o;(0,a.k)(t).username===(null===(o=_.owner)||void 0===o?void 0:o.username)&&e((0,c.jB)("BoardsResource",t))})),Object.keys(m).forEach((t=>{var o;(0,a.k)(t).username===(null===(o=_.owner)||void 0===o?void 0:o.username)&&e((0,c.jB)("BoardsFeedResource",t))})),_}}},709512:(e,t,o)=>{o.d(t,{Z:()=>l});var n=o(883119),i=o(117651),s=o(536042),r=o(785893);const a=24;function l({duration:e}){const t=(0,s.ZP)();return(0,r.jsxs)(n.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:a,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,r.jsx)(n.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,r.jsx)(n.xu,{marginStart:1,children:(0,r.jsx)(n.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,i.Z)(e)})})]})}},625196:(e,t,o)=>{o.d(t,{Z:()=>Pe});var n=o(549201),i=o(802071),s=o(616550),r=o(667294),a=o(883119),l=o(690108),c=o(112496),d=o(597983);function u({description:e="",image_url:t,link:o}){const n=t||"";return{description:e,description_html:e,link:o,id:"",image_url:n,images:{"136x136x":{url:n,height:0,width:0},"236x":{url:n,height:0,width:0},"474x":{url:n,height:0,width:0}},pinner:{username:""},tracking_params:"",tracking_params_map:{}}}var h=o(883938),_=o(611756);function p(){let e=Date.now(),t=0;const o=(0,_.qn)(h.Od);if(o){const[n,i]=o.split("_");n&&i&&(e=parseInt(n,10),t=parseInt(i,10))}return{lastNag:e,nagCount:t}}var g=o(736409);const m=e=>{const t=new Date(e)-new Date,o=Math.abs(t);return{year:Math.floor(o/g.N1),month:Math.floor(o%g.N1/g.N9),day:Math.floor(o%g.N9/g.F4),hour:Math.floor(o%g.F4/g.UK),minute:Math.floor(o%g.UK/g.FS),milli:t,ms:o}};var f=o(969327),x=o(542529),b=o(388011),y=o(970588),v=o(550140),w=o(536042),P=o(630089),S=o(132751),A=o(282802),C=o(970214),E=o(63262),T=o(845098),j=o(107374),k=o(323939),I=o(935092),O=o(650720),R=o(785893);function L(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}const z="success",N="fail";class M extends r.Component{constructor(...e){super(...e),L(this,"_completionPromiseTimeout",null),L(this,"_pincreateCompletionPromise",null),L(this,"state",{boardName:"",pinId:"",showPinSuccess:!1,isExtensionInstalled:!1,showUpsellAfterCreate:!1,pinImageUrl:this.props.imageUrl,readyToRender:!!this.props.imageUrl}),L(this,"setCompletionPromise",(e=>{const{requestContext:t}=this.props;this._pincreateCompletionPromise=e,this._pincreateCompletionPromise.promise.then((e=>{this.logCreateEvent({id:e.id,status:z}),this.setState({boardName:e.board.name,pinId:e.id,showPinSuccess:!0}),this.inExperimentUpsellBrowserExtensionAfterPinCreate()&&t.experimentsClient.checkExperiment("web_cong_upsell_browser_ext_pinbookmarklet").anyEnabled&&!function(){let e=!1;const{lastNag:t,nagCount:o}=p();if(0===o)return!1;const n=o>=h.ML,i=m(t).day<h.yK;return e=n||i,e}()&&(this.setState({showUpsellAfterCreate:!0}),this.showToastPinSavedToBoard()),this._completionPromiseTimeout=window.setTimeout(this.handleClose,1e4)})).catch((()=>{this.logCreateEvent({status:N})}))})),L(this,"logCreateEvent",(({id:e,status:t})=>{const{method:o,query:n}=this.props;if(t===z&&n.guid||t===N){const i=(0,T.Z)({...n,client:"web",event:`pin_create_${t}`,...e?{pin_id:e}:{},path:o});(new Image).src="https://log.pinterest.com/?"+i}})),L(this,"handleHeightChange",(e=>{window.resizeTo(750,e+48)})),L(this,"handleClose",(()=>{window.setTimeout(window.close,1)})),L(this,"handleClosePinCreateSuccess",(()=>{const{requestContext:e}=this.props;(0,f.G6)(e.userAgent.browserName)||e.experimentsClient.flush(),window.clearTimeout(this._completionPromiseTimeout)})),L(this,"_createImageResource",(e=>{const{boardPickerStopwatch:t}=this.props;t&&(t.start(),(0,S.ad)(t,"PinBookmarklet")),(0,y.Z)({url:"/v3/pins/image/",method:"PUT",data:{image_url:e},callOptions:{async:!0}})})),L(this,"_findPinImageResource",(e=>{l.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then((e=>{if(!e||!e.resource_response||!e.resource_response.data)return;const t=(e.resource_response.data.items||[]).filter((e=>"pinnable"===e.type));0!==t.length&&(this._createImageResource(t[0].url),this.setState({pinImageUrl:t[0].url}))})).finally((()=>this.setState({readyToRender:!0})))})),L(this,"showToastPinSavedToBoard",(()=>{const{toastManagerContext:e,link:t,siteType:o}=this.props,{boardName:n,pinImageUrl:i,pinId:s}=this.state,r=(0,j.Z)({currentSiteType:o,destinationSiteType:0,inputPath:`/pin/${s}`}),l=(0,P.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,R.jsx)(a.xv,{color:"inverse",inline:!0,size:"200",lineClamp:1,weight:"bold",children:n},s)});e.showOneToast((({hideToast:e})=>(0,R.jsx)(v.ZP,{onHide:e,duration:I.A,text:(0,R.jsx)(a.xv,{children:l},t),href:r,imageUrl:i})))}))}componentDidMount(){const{imageUrl:e,link:t,requestContext:o}=this.props;e?this._createImageResource(e):this._findPinImageResource(t),x.Z.extensionReady(o.userAgent.browserName,parseInt(500,10)).then((e=>this.setState({isExtensionInstalled:e}))),window.opener&&window.innerHeight<750&&this.handleHeightChange(750)}componentWillUnmount(){this._pincreateCompletionPromise&&this._pincreateCompletionPromise.cancel()}inExperimentUpsellBrowserExtensionAfterPinCreate(){const{isExtensionInstalled:e}=this.state,{requestContext:t}=this.props,{browserName:o}=t.userAgent;return((0,f.i7)(o)||(0,f.vU)(o))&&!e}renderShowPinSuccess(){const{color:e,description:t,link:o}=this.props,{boardName:n,pinImageUrl:i,pinId:s,showPinSuccess:r,showUpsellAfterCreate:l}=this.state;return l?(0,R.jsx)(a.xu,{color:"default",rounding:2,width:"auto",children:(0,R.jsx)(c.Z,{isFromPinBuilder:!0,isExtensionInstalled:!1,onHide:()=>{this.setState({showUpsellAfterCreate:!1}),this.props.logContextEvent({event_type:101,component:13588,element:1150})},onInstall:()=>{this.setState({showUpsellAfterCreate:!1}),this.props.logContextEvent({event_type:101,component:13588,element:280})},onMounted:()=>{!function(){const{nagCount:e}=p();e<h.ML&&(0,_.Nh)(h.Od,`${Date.now()}_${e+1}`)}()}})}):(0,R.jsx)(d.Z,{boardName:n,color:e,description:t,imageUrl:i,link:o,onClose:this.handleClosePinCreateSuccess,pinId:s,openNewTab:r})}render(){const{action:e,color:t,description:o,guid:n,method:i,pin:s}=this.props,{pinImageUrl:r}=this.state;return(0,R.jsx)(a.xu,{children:(0,R.jsx)(a.xu,{alignItems:"center",bottom:!0,color:this.state.showPinSuccess?"secondary":"dark",display:"flex",justifyContent:"center",overflow:"scrollY",position:"fixed",right:!0,top:!0,width:"100%",children:this.state.showPinSuccess?this.renderShowPinSuccess():(0,R.jsx)(k.K,{action:"repin"===e?"repin":"create",color:t,description:o,guid:n,method:i,onClose:this.handleClose,pin:u({...s,image_url:r}),setCompletionPromise:this.setCompletionPromise,children:({boardSavedTo:e,dismissModal:n,displaySuccessAnimation:i,handleAbort:s,handleNewBoardAnimationCompletion:r,handleSaveToBoard:l,newPin:c,pin:d,modalTitle:u,setModalTitle:h,updateDescription:_})=>(0,R.jsx)(a.xu,{maxWidth:750,width:"100%",children:(0,R.jsx)(O.Z,{boardSavedTo:e,color:t,description:o,dismissModal:n,displaySuccessAnimation:i,handleAbort:s,handleNewBoardAnimationCompletion:r,handleSaveToBoard:l,modalTitle:u,newPin:c,onHeightChange:this.handleHeightChange,pin:d,pwtAuxData:{pin_create_method:"bookmarklet"},setModalTitle:h,shouldRenderContent:!this.state.showPinSuccess&&this.state.readyToRender,updateDescription:_})})})})})}}function D(e){const{logContextEvent:t}=(0,b.v)(),o=(0,w.ZP)(),n=(0,S.iN)(),i=(0,C.Z)();return(0,R.jsx)(M,{...e,boardPickerStopwatch:n,requestContext:(0,A.B)(),i18n:o,siteType:i,logContextEvent:t,toastManagerContext:(0,E.F9)()})}var B=o(777610),Z=o(739425);function U(){const e=(0,s.useLocation)(),{action:t,method:o}=(0,s.useParams)(),n=(0,Z.mB)(e.search);return(0,B.Q)({view_type:12,view_parameter:119,view_data:{method:o||"create",guid:n.guid}}),(0,R.jsx)(D,{action:t||"create",color:n.color,description:n.description,imageUrl:n.media,link:n.url,method:o||"create",pin:u({description:n.description,image_url:n.media,link:n.url}),query:{color:n.color,media:n.media||"",description:n.description,url:n.url,guid:n.guid}})}var F=o(702664),G=o(563962),V=o(943795),H=o(993869),W=o(245410),$=o(819079),Y=o(212380),q=o(431539),K=o(599551);const X=function({selectedBoard:e,description:t,pinData:o}){const{method:n,guid:i,link:r,base64Image:l,imageUrl:c}=o,d=(0,w.ZP)(),{state:u}=(0,s.useLocation)(),h=e?`/board/${e.id}/create_section/`:"/board/create/",_="scraped"===n?{imgData:null==u?void 0:u.imgData}:{base64Image:l,imageUrl:c},p=(0,K.Z)({href:{pathname:h,state:{description:t,guid:i,method:n,url:r,..._}}});return(0,R.jsx)(V.FixedFooter,{height:70,children:(0,R.jsx)(a.rU,{href:h,rounding:2,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),p({event:e})},children:(0,R.jsxs)(a.xu,{display:"flex",alignItems:"center",padding:1,children:[(0,R.jsx)(a.JO,{icon:"add-circle",color:"error",size:38,accessibilityLabel:d._('Create board button', ' - ', ' -- ')}),(0,R.jsx)(a.xu,{marginStart:3,children:(0,R.jsx)(a.xv,{weight:"bold",children:e?d._('Create section', 'Create new section to Pin to', 'Create new section to Pin to'):d._('Create board', 'Create new board to Pin to', 'Create new board to Pin to')})})]})})})};var J=o(894788),Q=o(313590),ee=o(519218),te=o(422496),oe=o(569224),ne=o(907310);function ie(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class se extends r.PureComponent{constructor(...e){super(...e),ie(this,"state",{description:(0,Z.mB)(this.props.location.search).description||this.props.location.state&&"string"==typeof this.props.location.state.description&&this.props.location.state.description||"",isPinCreating:!1}),ie(this,"onBoardSelected",((e,t)=>{t?this.setState({selectedBoard:e}):this.createPin(e)})),ie(this,"onSectionSelected",((e,t)=>{const o=this.state.selectedBoard;o&&this.createPin(o,t)})),ie(this,"getPinCreateData",(()=>{const{location:{search:e,state:t},match:{params:{method:o}}}=this.props,{description:n}=this.state,{guid:i,media:s,url:r}=(0,Z.mB)(e),a={description:n.substr(0,500),guid:i,imageUrl:s||"",link:r,method:o};if(t){if(t.method===q.y){const{imgData:e,pinningFromUrl:o}=t;return{...a,link:o,imageUrl:e[0],method:"scraped"}}if(t.method===q.I){const{base64Image:e}=t;return{...a,base64Image:e}}}return a})),ie(this,"getPinCreateOptions",((e,t)=>{const o=this.getPinCreateData(),{base64Image:n,description:i,guid:s,imageUrl:r,link:a,method:l}=o,{imgSrc:c,section:d}=t;let u={board_id:e.id,description:i.substr(0,500),guid:s,image_url:c||r,link:a,method:l,section:d&&d.id};return n&&(u={...u,image_base64:n}),u})),ie(this,"findPinnableImagePromise",(e=>l.Z.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then((e=>{var t;if(null!=e&&null!==(t=e.resource_response)&&void 0!==t&&t.data){const t=(e.resource_response.data.items||[]).filter((e=>"pinnable"===e.type));if(t.length>0)return t[0].url}return""})))),ie(this,"createPin",((e,t)=>{this.setState({isPinCreating:!0});const{createPin:o,showToast:n,history:i,location:{state:s},logContextEvent:r,checkMwebDefaultImageOffsitePinCreationExp:l}=this.props,c=[];if(s&&s.imgData)s.imgData.forEach((n=>{c.push(o(this.getPinCreateOptions(e,{imgSrc:n,section:t})))}));else{const n=this.getPinCreateOptions(e,{section:t}),{image_url:i,link:s}=n;s&&""===i&&l?c.push(this.findPinnableImagePromise(s).then((e=>o({...n,image_url:e})))):c.push(o(n))}Promise.all(c).then((e=>{const t=e[0].resource_response.data,{board:o,id:s}=t;n&&"function"==typeof n&&n((({hideToast:e})=>(0,R.jsx)(v.ZP,{text:(0,P.Wc)(this.props.i18n._('Saved to {{ boardName }}', 'CreatePinPage.Toast.Message', 'Confirmation message after saving Pin into Board. boardName: board name'),{boardName:o.name}),_dangerouslySetThumbnail:(0,R.jsx)(a.xu,{width:32,height:32,children:(0,R.jsx)(ne.Z,{boardId:o.id})}),duration:5e3,onHide:e}))),r({event_type:1,view_type:92,component:7,object_id_str:s}),i.replace(o.url)}),(()=>{this.setState({isPinCreating:!1}),n&&"function"==typeof n&&n((({hideToast:e})=>(0,R.jsx)(v.ZP,{text:this.props.i18n._('Sorry! Something went wrong on our end.', 'error during pin creation', 'error during pin creation'),onHide:e})))}))})),ie(this,"backToBoardPicker",(()=>{this.setState({selectedBoard:void 0})}))}componentDidMount(){const{checkExperiment:e}=this.props;e("mweb_fix_create_pin_page_fetching_state")}renderRecentBoards(){const{i18n:e,recentBoards:t}=this.props;return(0,R.jsxs)(a.xu,{marginTop:2,children:[(0,R.jsxs)(a.xu,{marginBottom:1,children:[(0,R.jsx)(a.xv,{children:e._('Top choices', ' - ', ' -- ')}),t.map((e=>(0,R.jsx)(te.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id)))]}),(0,R.jsx)(a.iz,{})]})}renderAllBoards(){const{allBoards:e,boardPickerResource:t,i18n:o}=this.props;return(0,R.jsxs)(a.xu,{marginTop:2,marginBottom:1,children:[(0,R.jsx)(a.xv,{children:o._('All boards', ' - ', ' -- ')}),t.isFetching&&(0,R.jsx)(a.xu,{column:12,paddingY:2,children:(0,R.jsx)(a.$j,{accessibilityLabel:o._('Loading boards', ' - ', ' -- '),show:!0})}),e.map((e=>(0,R.jsx)(te.Z,{boardId:e.id,onBoardSelected:t=>this.onBoardSelected(e,t)},e.id)))]})}render(){const{allBoards:e,recentBoards:t}=this.props,{description:o,selectedBoard:n}=this.state,{method:i}=this.getPinCreateData(),s=i===q.y;return(0,R.jsxs)(H.default,{hasFixedHeader:!0,children:[(0,R.jsx)(V.FixedHeader,{children:(0,R.jsxs)(a.kC,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,R.jsx)(a.xu,{column:2,children:n?(0,R.jsx)(a.hU,{icon:"arrow-back",accessibilityLabel:this.props.i18n._('Back', 'navigation button', 'navigation button'),onClick:this.backToBoardPicker,size:"lg",iconColor:"gray"}):(0,R.jsx)(ee.Z,{icon:s?"arrow-back":"cancel",padding:3})}),(0,R.jsx)(a.xu,{column:8,children:(0,R.jsx)(a.xv,{align:"center",weight:"bold",children:n?this.props.i18n._('Choose section', 'label for section picker in pin create', 'label for section picker in pin create'):this.props.i18n._('Choose board', 'label for board picker in pin create', 'label for board picker in pin create')})}),(0,R.jsx)(a.xu,{column:2})]})}),(0,R.jsxs)(a.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingBottom:90}},children:[(0,R.jsxs)(a.xu,{children:[(0,R.jsx)(a.iz,{}),n?(0,R.jsx)(oe.Z,{boardId:n.id,repin:this.onSectionSelected}):(0,R.jsxs)(a.xu,{marginBottom:1,children:[t&&t.length>0&&this.renderRecentBoards(),e&&e.length>=0&&this.renderAllBoards()]})]}),this.state.isPinCreating&&(0,R.jsx)(Y.Z,{})]}),(0,R.jsx)(X,{selectedBoard:n,description:o,pinData:this.getPinCreateData()})]})}}const re=e=>{const{hostname:t}=(0,Z.Qc)(e);return t&&(t.startsWith("www.pinterest")||t.endsWith(".pinterest.com"))};function ae(e){const t=(0,s.useHistory)(),o=(0,s.useLocation)(),n=(0,s.useRouteMatch)(),r=(0,F.useDispatch)(),a=(0,w.ZP)(),l=(0,G.Z)(),{checkExperiment:c}=(0,W.F)(),{isAuth:d}=(0,i.Z)(),{anyEnabled:u}=c("mweb_default_image_offsite_pin_creation");if(!d)return(0,R.jsx)(s.Redirect,{to:"/"});const{search:h}=o,{url:_}=(0,Z.mB)(h),{hostname:p,path:g}=(0,Z.Qc)(_);if(!p||re(p)){const e=g.match(/^(\/amp)?\/pin\/(\d+)\/$/);if(e){const t=`/pin/${e[2]}/repin/x/`;return(0,R.jsx)(s.Redirect,{to:{pathname:[t]}})}}return(0,R.jsx)(se,{...e,i18n:a,history:t,location:o,logContextEvent:l,match:n,checkMwebDefaultImageOffsitePinCreationExp:u,checkExperiment:c,createPin:e=>r((0,J.i)(e))})}function le(){const e=(0,F.useSelector)((e=>e.session.userId)),t=(0,F.useSelector)((t=>{var o,n;return null!==(o=(null!==(n=t.users[e])&&void 0!==n?n:{}).recent_boards)&&void 0!==o?o:[]})),o=(0,F.useSelector)((e=>(0,Q.Z)(e))),{isFetching:n}=(0,$.Z)({name:"BoardPickerBoardsResource",options:{filter:"all",field_set_key:"profile_grid_item",user_id:e}}),i={isFetching:n},s=(0,F.useDispatch)(),{showToast:r}=(0,E.F9)();return(0,R.jsx)(ae,{createPin:e=>s((0,J.i)(e)),recentBoards:t,allBoards:o,boardPickerResource:i,showToast:r})}var ce=o(172045),de=o(40660),ue=o(905401),he=o(912127),_e=o(900276),pe=o(623151),ge=o(240668),me=o(897575),fe=o(278904),xe=o(882973),be=o(272109);function ye({width:e,height:t,src:o,onImageLoad:n}){const i=(0,w.ZP)(),{enabled:s,disable:r}=(0,fe.Z)();return(0,be.Z)((()=>n({width:e,height:t}))),(0,R.jsx)(a.Ee,{alt:i._('Uploaded image', 'Label for a user uploaded image on Pin create', 'Label for a user uploaded image on Pin create'),naturalHeight:null!=t?t:1,naturalWidth:null!=e?e:1,src:o,crossOrigin:s?"anonymous":void 0,onError:()=>r()})}function ve({imageUrl:e}){(0,r.useEffect)((()=>{de.Z.increment("offsite_pin_creation.view",1,{type:"single_pin"})}),[]);const t=(0,s.useLocation)(),[o,n]=(0,r.useState)((0,me.Z)({width:1,height:1}));return(0,R.jsxs)(a.xu,{display:"flex",direction:"row","data-test-id":"pindraft-external-body",marginTop:0,children:[(0,R.jsx)(a.xu,{paddingX:5,display:"flex",direction:"column",alignItems:"center",justifyContent:"center",children:(0,R.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:_e.LM,children:(0,R.jsx)(a.xu,{position:"relative",display:"flex",direction:"column",height:o,children:(0,R.jsx)(a.xu,{height:"100%",flex:"grow","data-tutorial-id":"pin-builder-media-draft-view",children:(0,R.jsx)(a.xu,{height:"100%",width:"100%",children:(0,R.jsx)(a.xu,{"data-test-id":"media-image-view",width:"100%",height:"100%",overflow:"hidden",rounding:2,children:(0,R.jsx)(pe.Z,{url:e,children:({image:t})=>{const o=t[0];return o?(0,R.jsx)(ye,{height:o.height,width:o.width,src:e,onImageLoad:({width:e,height:t})=>{e&&t&&n((0,me.Z)({width:e,height:t}))}}):null}})})})})})})}),(0,R.jsx)(a.xu,{color:"secondary",width:2,marginTop:-5}),(0,R.jsx)(a.xu,{"data-test-id":"unauth-offsite-pin-creation-signup",children:(0,R.jsx)(he.default,{container:"pinBookmarklet",signupSource:"pinBookmarklet",signupFlow:{type:"login"},nextUrlParam:encodeURIComponent(`${t.pathname}${t.search}&${ue.r}=${ue.O}`)})})]})}function we(){const e=(0,w.ZP)(),t=(0,A.B)(),o=(0,i.Z)(),[n,l]=(0,r.useState)(null),c=(0,s.useLocation)(),d=(0,Z.mB)(c.search);return(0,be.Z)((()=>(ge.Z.initialize({user:void 0,requestContext:t,viewer:o,location:c,advertiser:void 0,scenario:"offsite_pin_creation"}),l({id:(0,ce.Z)(),imageUrl:d.media}),(window.opener||"bookmarklet"===d.method)&&(window.innerHeight<h.CX||window.innerWidth<h.N$)&&window.resizeTo(h.N$,h.CX),()=>l(null)))),(0,R.jsx)(a.xu,{position:"fixed",left:!0,right:!0,bottom:!0,display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{top:xe.Pw}},children:(0,R.jsxs)(a.xu,{color:"secondary","data-test-id":"pin-builder",flex:"grow",height:"100%",position:"relative",children:[(0,R.jsx)(a.xu,{display:"visuallyHidden",children:(0,R.jsx)(a.X6,{accessibilityLevel:1,children:e._('Pin Builder', 'pinBuilder.heading', 'The page heading for Pin Builder')})}),(0,R.jsx)(a.xu,{height:"100%",overflow:"auto",dangerouslySetInlineStyle:{__style:{border:"4px solid transparent"}},children:(0,R.jsx)(a.xu,{height:"100%",dangerouslySetInlineStyle:{__style:{transformOrigin:"top center",transition:`transform 250ms ${_e.rc}, height 250ms ${_e.rc}`}},children:(0,R.jsx)(a.xu,{display:"flex",direction:"column",alignItems:"center",paddingY:7,children:(0,R.jsx)(a.xu,{children:(0,R.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:(0,R.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:n&&(0,R.jsx)(a.xu,{paddingY:3,"data-group-id":"pin-builder-pin-draft","data-test-id":`pin-builder-pin-draft-${n.id}`,children:(0,R.jsx)(a.xu,{position:"relative",children:(0,R.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:{paddingTop:_e.XB}},"data-test-id":"pin-builder-draft",display:"flex",direction:"column",paddingX:_e.bo,rounding:4,width:_e.of,children:(0,R.jsx)(ve,{imageUrl:n.imageUrl})})})})})})})})})})]})})}const Pe=function(){const e=(0,n.HG)(),t=(0,i.Z)();return e?t.isAuth?(0,R.jsx)(U,{}):(0,R.jsx)(we,{}):(0,R.jsx)(le,{})}},177923:(e,t,o)=>{o.d(t,{wH:()=>i,MM:()=>s,uo:()=>r});var n=o(583592);const{Provider:i,useHook:s}=(0,n.Z)("HandlerId");function r(){return function(e){const[t,o]=e.split(/\/(.*)+/);return{filepath:o,site:t}}(s()).site}},497326:(e,t,o)=>{function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}o.d(t,{Z:()=>n})},487462:(e,t,o)=>{function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},n.apply(this,arguments)}o.d(t,{Z:()=>n})},875068:(e,t,o)=>{function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)}o.d(t,{Z:()=>i})},263366:(e,t,o)=>{function n(e,t){if(null==e)return{};var o,n,i={},s=Object.keys(e);for(n=0;n<s.length;n++)o=s[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}o.d(t,{Z:()=>n})}},e=>{e.O(0,[97270,83119,16550,39425,67693,71438,35303,42298,16367,8575,99551,14324,77263,76030,61072,99441,65479,80471,86058,70640,73199,87743,93982],(()=>{return t=467367,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/create/[method]-acd35d1a217c9305.mjs.map